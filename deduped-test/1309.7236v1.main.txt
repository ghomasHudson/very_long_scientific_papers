# 1 Introduction

The Farrell-Jones conjecture makes predictions about the structure of
the algebraic @xmath -theory of group rings. There is an an @xmath
-theoretic version. It implies a lot of well-known conjectures such as
the Bass-, Borel- and Novikov-conjecture. In this paper I will prove the
FJC for all groups that are linear over @xmath for a finite field @xmath
(Theorem 8.11 ) or over @xmath . This means groups that are subgroups of
@xmath or of @xmath .

The action of @xmath on its symmetric space has been used to show the
Farrell-Jones in [ 5 ] . I will extend these methods to show the
Farrell-Jones conjecture for groups which are linear over @xmath or
@xmath for a finite field @xmath . This includes in particular all
@xmath -arithmetic groups.

I will show the strongest version of this conjecture for those groups;
the version with coefficients in any additive category with a group
action and with finite wreath products. This version has strong
inheritance properties, for example any group commensurable to a
subgroup of one of the groups mentioned above will satisfy the FJC .
This paper is based on my thesis [ 16 ] .

###### Contents

-    1 Introduction
-    2 Axiomatic setting
-    3 The canonical filtration
-    4 Volume: The integral case
-    5 Volume: The function field case
-    6 Volume: The localized case
    -    6.1 The localized case
    -    6.2 Properties of the volume function for @xmath
-    7 Spaces with actions of general linear groups
    -    7.1 @xmath acts on the space of homothety classes of inner
        products
    -    7.2 Preliminaries about affine buildings
    -    7.3 @xmath acts on a building
    -    7.4 @xmath acts on a product of CAT(0)-spaces
-    8 Reducing the family
-    9 Extensions
    -    9.1 Ring extensions
    -    9.2 Short exact sequences

## 2 Axiomatic setting

Let me first recall some definitions. Most of them can be found in [ 4 ]
. Let @xmath be a proper, finite dimensional @xmath space with a proper,
isometric group action of a group @xmath . The flow space of @xmath is
the set of all maps @xmath whose restriction to some interval @xmath
with @xmath is a geodesic and which are locally constant on the
complement of this interval

  -- -------- --
     @xmath   
  -- -------- --

defines a metric on this flow space. @xmath defines an @xmath -action (
flow ) on @xmath that commutes with the induced @xmath -action

Let @xmath be a family of subgroups of @xmath . Let us say that @xmath
admits long and thin @xmath -covers , if there is a @xmath such that we
can find for every @xmath an @xmath -invariant open cover @xmath and an
@xmath such that for every point @xmath there is a open set @xmath
containing @xmath .

The goal of this chapter is to formulate and proof Proposition 2.1 . It
will apply to those general linear groups in consideration. Bartels and
Lück have defined in [ 4 , Definition 0.4] when a group @xmath is
transfer reducible over a family of subgroups. Furthermore they showed
in Proposition 5.11 how a flow space can be used to show transfer
reducibility. Wegner defined a notion of strong transfer reducibility
and showed that the same setup also gives strong transfer reducibility
in [ 18 , Definition 3.1 and Theorem 3.4] . The argument uses the
following properties of the flow space, which already have been verified
for those flow spaces mentioned above:

One part of the niceness is that there is a bound on the order of finite
subgroups of @xmath . This is not satisfied in this setting. There is a
workaround and the same statements hold even without this assumption see
( [ 13 , Theorem 4.3] ).

Finally there is also a “almost” version of transfer reducibility which
inherits to wreath products with finite groups in [ 5 , Definition 5.3]
. We have the following implications.

Here @xmath denotes the family of those subgroups which are virtually
subgroups of some product @xmath with @xmath and @xmath denotes all
subgroups of @xmath which contain a subgroup from @xmath of index at
most two.

{definition}

[Long @xmath -covers at infinity and periodic flow lines] Let @xmath be
the subspace of @xmath of those generalized geodesics @xmath for which
there exists for every @xmath an element @xmath and @xmath such that
@xmath holds. We will say that @xmath admits long @xmath -covers at
infinity and periodic flow lines if the following holds:

There is @xmath such that for every @xmath there is a collection @xmath
of open @xmath -subsets of @xmath and @xmath satisfying:

1.  @xmath is @xmath -invariant: @xmath , @xmath ;

2.  @xmath ;

3.  there is a compact subset @xmath such that

    1.  @xmath ;

    2.  for @xmath there is @xmath such that @xmath .

The “at infinity” part is automatically satisfied if the group acts
cocompactly. However this is not the case here.

The following proposition sums up all conditions that are used in [ 5 ]
to prove that the group action of @xmath on the space of inner products
admits long coverings at infinity and periodic flow lines.

I will show that the general linear group over @xmath where @xmath is
either @xmath or @xmath for a finite field @xmath and @xmath is a finite
set of primes in @xmath satisfies these conditions. It might be
interesting to find other groups which also satisfy these assumptions.

###### Proposition 2.1

Let @xmath be a group, @xmath be a @xmath -space, @xmath a natural
number and @xmath a collection of open subsets of @xmath such that

1.  @xmath is a proper @xmath space,

2.   the covering dimension of @xmath is less or equal to @xmath ,

3.   the group action of @xmath on @xmath is proper and isometric,

4.  @xmath ,

5.   the sets @xmath and @xmath are either disjoint or equal for all
    @xmath ,

6.   the dimension of @xmath is less or equal to @xmath .

7.   the @xmath operation on

      -- -------- --
         @xmath   
      -- -------- --

    is cocompact for every @xmath .

Then @xmath admits long @xmath -covers at infinity and periodic flow
lines for the family @xmath .
As explained above this means that @xmath is strongly transfer reducible
over the family @xmath and thus @xmath satisfies the @xmath -theoretic
FJC relative to @xmath and the @xmath -theoretic FJC relative to the
family @xmath . Further @xmath satisfies the @xmath - and @xmath
-theoretic FJC relative @xmath for any finite group @xmath .

{proof}

@xmath is a proper metric space by [ 4 , Proposition 1.9] . Hence it is
locally compact. Fix @xmath . Let @xmath . Pick a compact subset @xmath
such that @xmath . For this compact subset @xmath we obtain a natural
number @xmath , a real number @xmath and a set @xmath of subsets of
@xmath from [ 4 , Theorem 4.2] . We can assume @xmath . Let @xmath . We
have

1.  @xmath is a @xmath -set with @xmath for any @xmath and any @xmath ,

2.  every element @xmath is an open subset of @xmath since the
    evaluation map is continuous by [ 4 , Lemma 1.4] ),

3.  the dimension of @xmath is bounded by @xmath ,

4.  the group action on @xmath is cocompact (as the evaluation map is
    proper [ 4 , Lemma 1.10] ).

Consider the union @xmath . Each element is an open @xmath -subset.
Define

  -- -------- --
     @xmath   
  -- -------- --

This set @xmath contains @xmath by the following argument. If @xmath we
get for any @xmath by [ 5 , Lemma 3.4] @xmath and hence @xmath . So
@xmath . So we verified that @xmath is contained in @xmath . If @xmath
and @xmath , then @xmath and @xmath and hence @xmath by Theorem [ 4 ,
Theorem 4.2(v)] .

Next we prove that @xmath is open. Assume that this is not the case.
Then there exists @xmath and a sequence @xmath of elements in @xmath
such that @xmath holds for @xmath . Choose @xmath with @xmath . Since
@xmath is proper as metric space by [ 4 , Proposition 1.9] and @xmath
has bounded diameter, @xmath is compact. Hence we can find @xmath with
@xmath . We conclude from [ 4 , Lemma 2.3] for all @xmath

  -- -------- --
     @xmath   
  -- -------- --

Hence we get for @xmath

  -- -------- --
     @xmath   
  -- -------- --

Since @xmath does not belong to @xmath , we conclude that @xmath is not
contained in @xmath . This implies @xmath for all @xmath , a
contradiction. Hence @xmath is a closed @xmath -subset of the cocompact
set @xmath . So it is also cocompact and there is a compact @xmath with
@xmath . All in all the @xmath -system of open sets @xmath of dimension
@xmath has the following properties

1.  @xmath as @xmath ;

2.  for @xmath there is a @xmath such that @xmath .

Hence @xmath admits long @xmath -covers at infinity and periodic flow
lines. This implies strong transfer reducibility over @xmath by [ 13 ,
Theorem 4.3] and thus the mentioned references in 2 yield the
conclusions.

## 3 The canonical filtration

This section shows how the systems of open sets used in Proposition 2.1
are constructed. The ideas of this section can all be found in [ 10 ] .
Let @xmath be a free @xmath -module and @xmath an inner product on
@xmath . The size of submodules can be measured in two different ways –
by its rank and its volume. The desired open sets in the space of
homothety classes of inner products are constructed by comparing these
two quantities. This section is formulated in a very general way, since
the same constructions also apply for the rings @xmath .

An order-theoretic lattice @xmath is a poset such that any finite subset
has a least upper bound and a greatest lower bound. For any two elements
@xmath let @xmath denote their least upper bound and let @xmath denote
their greatest lower bound. Let @xmath denote the minimal element. It is
the least upper bound of the empty set. Let @xmath denote the maximal
element which is the greatest lower bound of the empty set. {convention}
Let @xmath be an order-theoretic lattice. Suppose furthermore there are
functions @xmath and @xmath such that

1.  @xmath is strictly monotone. This means that for all @xmath

      -- -------- --
         @xmath   
      -- -------- --

2.  @xmath is additive. This means that for all @xmath :

      -- -------- --
         @xmath   
      -- -------- --

3.  @xmath is subadditive. This means that for all @xmath

      -- -------- --
         @xmath   
      -- -------- --

4.  For each @xmath there are only finitely many @xmath with @xmath .

5.  @xmath .

{remark}

1.  The strict monotonicity holds for the lattice of direct summands of
    @xmath whereas it fails for the lattice of all submodules of @xmath
    .

2.  In the lattice of direct summands of @xmath the least upper bound
    @xmath is not the sum of the modules but the direct summand spanned
    by the sum of the modules, i.e. the preimage of the torsion group of
    @xmath .

3.  It follows that @xmath and @xmath are the only elements of rank zero
    resp. @xmath .

4.  Later the volume will also depend on the choice of an inner product.
    Thus we will view @xmath as a real valued function on the space of
    inner products.

{definition}

We can plot every element @xmath on the @xmath -plane with @xmath
-coordinate equal to its rank and @xmath -coordinate equal to @xmath .
For any fixed rank between zero and @xmath there is a lowest point among
all points with that rank.

We can omit those elements which lie above or on a line connecting two
other points of this set and call the remaining points the canonical
path .

Of course, it might happen that there are several elements from @xmath
with the same rank and volume. We will see that this will not be the
case for the points in the canonical path.

{definition}

We can define for @xmath a number

  -- -------- --
     @xmath   
  -- -------- --

where @xmath is defined as @xmath .

Note that the denominators of @xmath are nonzero for @xmath by the
strict monotonicity of the rank. If @xmath represents a vertex in the
canonical path we get @xmath . Otherwise @xmath would lie above the edge
from @xmath to @xmath . The following lemma leads to the converse.

###### Lemma 3.1

Given two incomparable elements @xmath . Then @xmath or @xmath .

{proof*}

Incomparable means that @xmath and @xmath . Especially @xmath is smaller
than @xmath , so it can’t be @xmath since @xmath is not smaller than
@xmath . So we have by the same argument

  -- -------- --
     @xmath   
  -- -------- --

Let us assume that @xmath . So we have to show that @xmath . We have
\multbox

  -- -------- -------- -------- --
     @xmath   @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
              @xmath   @xmath   
  -- -------- -------- -------- --

\emultbox

###### Corollary 3.2

We have that

1.   every vertex in the canonical path is represented by a unique
    element @xmath and

2.   those elements form a chain.

3.   Furthermore an element @xmath represents a vertex in the canonical
    path if and only if @xmath .

{proof*}

1.  By definition any element @xmath has @xmath . The slope of the
    outgoing line must be larger than the slope of the incoming line.
    Given two elements @xmath that represent the same vertex of the
    canonical path. They cannot be incomparable by the last lemma. So
    either @xmath or @xmath . But they have the same rank. So the strict
    monotonicity of the rank gives @xmath .

2.  Let @xmath be the list of elements ordered by rank that represent
    the vertices of the canonical path whose rank is at least one and at
    most @xmath . By the last item the ranks of those elements are all
    distinct. So @xmath if @xmath . As in the last item we know that
    either @xmath or @xmath . The monotonicity of the rank gives that
    @xmath for @xmath . So

      -- -------- --
         @xmath   
      -- -------- --

    is a chain.

3.  Given @xmath with @xmath . Assume @xmath does not represent a vertex
    in the canonical filtration. So @xmath lies above a line segment of
    the canonical path. Say that segment starts at @xmath and ends at
    @xmath . By the last lemma we again know that @xmath and @xmath
    (resp. @xmath and @xmath ) are not incomparable. As in the last item
    we get @xmath . Because @xmath lies above the edge from @xmath to
    @xmath we have \multbox

      -- -------- -------- -------- --
         @xmath   @xmath   @xmath   
                  @xmath   @xmath   
      -- -------- -------- -------- --

    \emultbox

{definition}

The chain of elements @xmath that represent the vertices in the
canonical path is called the canonical filtration of @xmath .

## 4 Volume: The integral case {definition}

Given an inner product on @xmath and a submodule @xmath . Then we can
define its volume as

  -- -------- --
     @xmath   
  -- -------- --

This definition (together with the usual rank) satisfies all properties
needed in Convention 3 .

###### Proposition 4.1

Let @xmath be a finitely generated free @xmath -module and @xmath an
inner product on @xmath . Consider the lattice of direct summands of
@xmath . Let @xmath denote the least upper bound of two elements @xmath
. The logarithmic volume function @xmath and the rank @xmath have the
following properties.

1.  @xmath is strictly monotone, i.e. @xmath for all @xmath with @xmath
    .

2.  @xmath is additive, i.e. @xmath for all @xmath .

3.   The function @xmath is subadditive. This means

      -- -------- --
         @xmath   
      -- -------- --

4.   For each @xmath there are only finitely many @xmath with @xmath

5.  @xmath

{proof}

The elementary proof can be found in [ 16 , Proposition 4.6] . The only
tricky part is the subadditivity for which there is also a proof in [ 10
, Theorem 1.12] with the minor difference that the symbol @xmath denotes
there the sum of submodules and not the direct summand spanned by that
sum. This is a little bit stronger since the volume of the sum is
larger.

## 5 Volume: The function field case

Let @xmath be a finite field and consider the ring @xmath and its
quotient field @xmath . Let us examine the valuation

  -- -------- --
     @xmath   
  -- -------- --

We use the convention that the degree of the zero polynomial is @xmath .
Its valuation ring is

  -- -------- --
     @xmath   
  -- -------- --

The following definition is the analogue of a “lattice” from [ 10 ,
section 1] in the integral case; but I would like to avoid this term
because it will also appear with different meanings.

{definition}

A @xmath -volume space @xmath is a finitely generated free @xmath
-module @xmath with the choice of an @xmath -lattice @xmath in @xmath .
This means that @xmath is a finitely generated @xmath -submodule with
@xmath . It is not hard to see that such an @xmath is torsionfree and
hence isomorphic to @xmath by the structure theorem.

{definition}

We say that @xmath is a sub-volume space of @xmath (written @xmath ) if
@xmath is a @xmath -submodule and @xmath for the inclusion @xmath .

If @xmath is projective the quotient volume space of @xmath is defined
as

  -- -------- --
     @xmath   
  -- -------- --

Let us denote it by @xmath . Let @xmath .

{remark}

We have the following easy properties:

1.  The @xmath -lattice occuring in the definition of sub-volume space
    can be omitted. More precisely, any submodule @xmath of @xmath can
    be turned into a sub-volume space with the choice @xmath .

2.  The @xmath -module @xmath is a direct summand in @xmath .

3.  Consequently there is an @xmath -basis @xmath of @xmath with

      -- -------- --
         @xmath   
      -- -------- --

4.  The quotient volume space is a volume space.

5.  [Analog of [ 10 , Lemma 1.1] ] Let @xmath be a volume space. For
    @xmath we have @xmath .

{remark}

We have to be a bit careful here when we speak about subquotients. It
makes a difference whether you first pass to quotients and then to a
subobject or the other way round. For example if @xmath is the free
@xmath -module on generators @xmath and let @xmath be the submodule
spanned by @xmath and let @xmath be the submodule spanned by @xmath .
Let @xmath be the @xmath -module spanned by @xmath . In this example we
have

  -- -------- --
     @xmath   
  -- -------- --

The situation is better if we assume that @xmath is a submodule of
@xmath :

###### Lemma 5.1

Let @xmath be a volume space and let @xmath be submodules such that
@xmath is projective. We have:

1.  -- -------- --
         @xmath   
      -- -------- --

2.   If @xmath , then both sides are equal:

      -- -------- --
         @xmath   
      -- -------- --

3.   If additionally @xmath is also projective, then it is the quotient
    of @xmath by @xmath , i.e.

      -- -------- --
         @xmath   
      -- -------- --

{proof*}

Clearly @xmath is a submodule of @xmath . So let us now compare the
lattices. Let

  -- -------- --
     @xmath   
  -- -------- --

denote the projection.

  -- -------- --
     @xmath   
  -- -------- --

This proves the first claim. Note that @xmath holds if @xmath and @xmath
are @xmath -saturated, i.e. @xmath . In the case where @xmath is a
submodule this means that @xmath . This is where the condition @xmath
enters. This proves the second claim. The third claim follows from
\multbox

  -- -------- -------- -------- --
     @xmath   @xmath   @xmath   
              @xmath   @xmath   
  -- -------- -------- -------- --

\emultbox

{remark}

Let @xmath be a volume space. Then @xmath is a volume space. If @xmath
is a volume space we get two ways of choosing a basis for @xmath , first
by picking a @xmath -Basis of @xmath and second by picking a @xmath
-basis of @xmath . The difference is interesting:

{definition}

[logarithmic volume] Let @xmath be a volume space. Pick an @xmath -basis
@xmath for @xmath and an @xmath -basis @xmath of @xmath . The @xmath
-vector space @xmath is one dimensional. Consider the element @xmath
with @xmath (It exists since @xmath ). Define

  -- -------- --
     @xmath   
  -- -------- --

Clearly the volume is independent of the involved choices. Choosing
different bases will change @xmath by a multiplication with an element
in @xmath resp. @xmath . This change does not affect the valuation.

Let us now find a way to compute the volume of a sub-volume space @xmath
without constructing a basis for @xmath .

###### Proposition 5.2 (Formula for the logarithmic volume)

Let @xmath be an @xmath -volume space and let @xmath be an @xmath -basis
of @xmath . Let @xmath be a finitely generated @xmath -submodule. Choose
a @xmath -basis @xmath of @xmath . The set

  -- -------- --
     @xmath   
  -- -------- --

is a @xmath -basis for @xmath . Write @xmath as a linear combination of
this basis

  -- -------- --
     @xmath   
  -- -------- --

Then the logarithmic volume of @xmath with respect to @xmath is

  -- -------- --
     @xmath   
  -- -------- --

{proof}

First we show that the right hand side does not depend on the choice of
bases. This is clear for the basis @xmath . If we would choose another
basis @xmath the new coefficients @xmath would be a linear combination
of the old ones whose factors are products of the entries of the base
change matrix. Those entries lie in @xmath and thus have valuation
@xmath .

Because @xmath is a principal ideal domain @xmath is again free.
Furthermore @xmath is also a principal ideal domain; so the same holds
for the @xmath -module @xmath . So the minimal valuation of those
coefficients cannot decrease. Since we can swap the roles of @xmath and
@xmath it also cannot increase and so it has to be the same. If we
extend bases of @xmath (resp. @xmath ) to @xmath (resp. @xmath ) we can
achieve that only of the coefficients @xmath is nonzero and we end up
with the definition of @xmath .

{remark}

We will sometimes use the abbreviation @xmath for @xmath .

{remark}

The logarithmic volume of the zero volume space is defined as zero.

{remark}

There is an explicit formula for the logarithmic volume. Let @xmath ,
@xmath , @xmath , @xmath , @xmath , @xmath be as above and let @xmath
with @xmath . Inserting this in the definition of the logarithmic volume
yields

  -- -------- --
     @xmath   
  -- -------- --

This means the following. We consider the non-square matrix @xmath .
Consider all @xmath minors, i.e. square matrices obtained from this
matrix by deleting rows/columns. The logarithmic volume of @xmath is the
negative of the minimum of the valuation of their determinants.

###### Lemma 5.3

Let @xmath be a volume space and let @xmath be a chain of @xmath
-modules of the same rank @xmath . Let @xmath denote a matrix that
represents the inclusion after choice of bases for @xmath and @xmath .
Then

  -- -------- --
     @xmath   
  -- -------- --

Furthermore @xmath .

{proof}

Choose bases @xmath of @xmath and @xmath of @xmath (invariant factor
theorem). We obtain by definition of the determinant:

  -- -------- --
     @xmath   
  -- -------- --

and hence @xmath . The equality @xmath follows directly from the
invariant factor theorem.

###### Lemma 5.4 (Volume of a quotient)

Let @xmath be a volume space and let @xmath be a sub-volume space such
that @xmath is projective. Then

  -- -- --
        
  -- -- --

{proof}

Again we extend bases of @xmath (resp. @xmath ) to the whole of @xmath
(resp. @xmath ). Then the matrix in Remark 5 has block form and hence we
have to compute the valuation of its determinant. The upper left
contributes @xmath and the lower right block contributes @xmath .

###### Lemma 5.5 (Parallelogram constraint/subadditivity)

Let @xmath be a volume space and let @xmath be finitely generated @xmath
-submodules of @xmath . Then

  -- -------- --
     @xmath   
  -- -------- --

{proof}

Using Lemma 5.3 we can first replace @xmath by the direct summands
generated by them. Then @xmath is also a direct summand. After passing
to quotients by @xmath we can further assume that @xmath . Now we have
to be a bit more careful with the notation:

  -- -- -------- -------- --
                 @xmath   
        @xmath   @xmath   
        @xmath   @xmath   
        @xmath   @xmath   
  -- -- -------- -------- --

The first steps uses Lemma 5.1 1 and the observation that if @xmath ,
then @xmath . The second step uses 5.1 2 to swap back. The third step is
Lemma 5.4 .

###### Lemma 5.6

Given a volume space @xmath and a real number @xmath . Then there are
only finitely many elements @xmath with @xmath .

{proof}

To simplify notation let @xmath . Let @xmath be a @xmath -basis of
@xmath . By Remark 5 set of such vectors whose logarithmic volume is
less than some number @xmath is given by

  -- -------- --
     @xmath   
  -- -------- --

Let @xmath where @xmath denotes the @xmath -th entry of @xmath . Since
@xmath is a valuation we get @xmath . But this means that @xmath is a
subset of @xmath and hence finite.

###### Corollary 5.7

Given a volume space @xmath and a real number @xmath . Then there are
only finitely many submodules @xmath with @xmath .

{proof}

This follows directly from the previous result and the following claim:

For every @xmath and every @xmath there are only finitely many
submodules @xmath such that @xmath for a @xmath -basis @xmath of @xmath
. Consider @xmath . Every such @xmath is a submodule of @xmath and they
all have the same index. But there are only finitely many submodules of
@xmath of a given index.

###### Proposition 5.8 (diagonal bases)

Let @xmath be a volume space. Then there is an @xmath -basis @xmath of
@xmath and an @xmath -basis @xmath of @xmath such that @xmath for some
@xmath with @xmath .

{proof}

The proof is done by induction on @xmath and there is nothing to show in
the case of @xmath .

Let @xmath be a shortest nontrivial vector. Hence @xmath is a direct
summand of @xmath . Let @xmath be a basis vector of the @xmath -module
@xmath . Hence @xmath is of the form @xmath for some @xmath . Without
loss of generality we can assume that @xmath is of the form @xmath —
otherwise replace @xmath by @xmath . We get the following two split
exact sequences:

  -- -------- --
     @xmath   
  -- -------- --

  -- -------- --
     @xmath   
  -- -------- --

By induction we already get such bases for the quotient volume space.
Let @xmath be preimages of the basis of @xmath and let @xmath be
preimages of the basis of @xmath under the projection map. We get the
following linear combinations

  -- -------- --
     @xmath   
  -- -------- --

for some @xmath . Let us consider a fixed @xmath . Now we can write
@xmath as a mixed fraction @xmath with @xmath . If we now improve the
choice of the preimages by replacing @xmath by @xmath we may assume
@xmath . Now we have to use the fact that @xmath was chosen to be a
shortest vector and the formula 5.2 for the computation of the volume to
get

  -- -------- --
     @xmath   
  -- -------- --

We have already achieved that @xmath . Hence @xmath and @xmath . If we
finally replace @xmath by @xmath , we can assume that @xmath . Hence we
have found a basis of the desired form.

Let us understand the cosets of the @xmath -action on the set of all
@xmath -lattices in @xmath .

###### Proposition 5.9

The numbers @xmath from the last proposition uniquely determine the
@xmath -orbit. Furthermore the canonical filtration of @xmath consists
exactly of the modules @xmath . The integral volume of such a module
@xmath is just @xmath .

Furthermore @xmath .

Unlike in the integral case there is in every dimension a module on the
canonical path; this can be seen as an implication of the ultrametric
inequality.

{proof}

An element @xmath maps such bases again to such bases. So we only have
to show that the numbers @xmath do not depend on the choices. The idea
is to express @xmath intrinsically as the difference of minimal
logarithmic volume of a rank @xmath and a rank @xmath direct summand. A
easy computation shows that @xmath and that every other rank @xmath
submodule cannot have smaller logarithmic volume. Let us have a look at
the canonical path. The slope does not decrease and it increases at rank
@xmath if and only if @xmath . Thus the modules @xmath are really the
canonical filtration of @xmath . The value of @xmath is @xmath because
@xmath is the slope of the canonical path from @xmath to @xmath and
@xmath is the slope from @xmath to @xmath .

###### Lemma 5.10 (Some trivia)

Let @xmath be two volume spaces.

-    If @xmath , then @xmath

-    Let @xmath be any submodule. Let us assume @xmath ( @xmath is the
    variable in @xmath ). Then

      -- -------- --
         @xmath   
      -- -------- --

So we have shown that the logarithmic volume function satisfies all
conditions from Convention 3 :

###### Proposition 5.11

Let @xmath be a volume space. Consider the lattice @xmath of direct
summands of @xmath . The logarithmic volume function @xmath and the rank
@xmath have the following properties.

1.  @xmath is strictly monotone, i.e. @xmath for all @xmath with @xmath
    .

2.  @xmath is additive, i.e. @xmath for all @xmath .

3.   The function @xmath is subadditive. This means that for all @xmath

      -- -------- --
         @xmath   
      -- -------- --

4.   For each @xmath there are only finitely many @xmath with
    @xmath .

5.  @xmath .

{proof}

1.  This is clear, note that strictness holds since we only consider
    direct summands.

2.  This is almost the classical additivity of the rank applied to the
    short exact sequence

      -- -------- --
         @xmath   
      -- -------- --

    except that we have to replace @xmath by @xmath . Passing to a
    finite index submodule does not change the rank.

3.  Proposition 5.5 shows a stronger statement (with @xmath replaced by
    @xmath ). It is stronger by Lemma 5.3 .

4.  This has been done in Corollary 5.7 .

5.  This is clear from the definitions (and Remark 5 ).

{remark}

It follows directly from Definition 5.1 that

  -- -------- --
     @xmath   
  -- -------- --

for @xmath . The function @xmath from Definition 3 is defined as an
infimum over functions of the form

  -- -------- --
     @xmath   
  -- -------- --

Using the upper formula we see that replacing @xmath by @xmath does not
affect @xmath . Hence @xmath .

## 6 Volume: The localized case

Now let start to study groups of the form @xmath . Again we want to
assign to an inner product its volume in a @xmath invariant way. But the
volume of the parallelepiped spanned by a @xmath -basis of @xmath
depends on the choice of this basis. The solution is to add additional
structure that tells us which bases are allowed. The set of possible
choices for this additional information also carries a @xmath -action,
so it makes sense to pick the volume in a @xmath -invariant way.

{convention}

Let

-   @xmath denote either the integers @xmath or the polynomial ring
    @xmath for a finite field @xmath ,

-   an element @xmath be called normalized if it is positive in the case
    of @xmath resp. if its leading coefficient is one in the case of
    @xmath .

-   @xmath denote the set of all normalized primes in @xmath ,

-   @xmath denote a finite subset,

-   @xmath denote the quotient field of @xmath ,

-   @xmath be the ring @xmath ,

-   @xmath be the ring @xmath ,

-   @xmath be a fixed integer,

-   @xmath denote the product of all normalized prime factors of @xmath
    that lie in @xmath ,

-   @xmath denote a generator of the ideal @xmath for an element @xmath
    of a @xmath -module.

{remark}

1.  Every nonzero ring element @xmath is associated to a unique
    normalized element.

2.  The rings @xmath are all Euclidean rings and hence principal ideal
    domains. For @xmath a degree function is given by the absolute value
    and for @xmath it is given by the degree of a polynomial. A degree
    function on @xmath is for example given by

      -- -------- --
         @xmath   
      -- -------- --

    where @xmath denotes a degree function on @xmath .

{definition}

A integral structure with respect to @xmath on a finitely generated free
@xmath -module @xmath of rank @xmath is a finitely generated @xmath
-submodule @xmath of @xmath of rank @xmath .

{remark}

Let @xmath . We have the following trivia:

1.  The underlying @xmath -module of an integral structure is always
    free of rank @xmath by the structure theorem for finitely generated
    modules over a PID.

2.  @xmath acts transitively on the set of all integral structures on
    @xmath ; for any two integral structures @xmath we can pick @xmath
    -bases and a matrix @xmath that maps one basis to the other. The
    stabilizer of the standard integral structure @xmath is @xmath .
    Hence every other stabilizer is conjugate to @xmath in @xmath .

3.  For any integral structure @xmath we get that @xmath is @xmath
    -torsion.

The poset of direct summands of @xmath is isomorphic to the poset of
subvector spaces of @xmath ; the isomorphisms are given by @xmath and
@xmath . A more fancy version of this is the following proposition:

###### Proposition 6.1

Let @xmath be an integral structure on @xmath . Then @xmath is a
finitely generated, free @xmath -module and @xmath defines a
(rank-preserving) isomorphism from the poset of direct summands of
@xmath to the poset of direct summands of @xmath . Thus it also
preserves greatest lower bounds and least upper bounds and hence is an
isomorphism of lattices.

{proof}

Finite generation of @xmath follows from the following elementary
criterion: A @xmath -submodule @xmath of @xmath is finitely generated,
iff it is contained in a submodule of the form @xmath for some @xmath .

By the criterion above we find some @xmath such that @xmath divides
@xmath for all denominators of entries of elements of @xmath and a
@xmath such that @xmath divides @xmath for all denominators of entries
of elements of @xmath . Thus all @xmath is a submodule of @xmath and
hence finitely generated.

It is totally elementary to verify that @xmath and @xmath are inverse to
each other. The rank of a direct summand is an intrinsic property of the
poset of direct summands – it is the length of the longest ascending
chain ending with this direct summand. Thus it is preserved under a
poset isomorphism.

###### Lemma 6.2

Given two disjoint sets of primes. An integral structure on @xmath is
uniquely determined by an integral structure on @xmath and an integral
structure on @xmath .

{proof}

The proof works exactly the same way: From an integral structure @xmath
with respect to @xmath we can obtain @xmath . Conversely, given two such
integral structures we can take their intersection. An elementary
computation shows that both compositions are the identity. Equivalence
classes of integral structures relative to a single prime form the
vertices of an affine building. With the last lemma we can identify
integral structures (up to rescaling) with the vertices of a product of
buildings.

### 6.1 The localized case {convention}

Let

-   @xmath be a fixed non-negative integer.

-   @xmath be either @xmath (integral case) or @xmath (function field
    case) for a finite field @xmath ,

-   @xmath be a finitely generated free @xmath -module of rank @xmath ,

-   @xmath denote the set of all inner products on @xmath in the
    integral case or the set of all @xmath -lattices in @xmath for a
    finitely generated, free @xmath -module in the function field case.

-   @xmath denote the order-theoretic lattice of direct summands of the
    @xmath -module @xmath .

Now we are ready to define the volume function. {definition} Let @xmath
denote the set of all integral structures on @xmath relative to @xmath .
Define the logarithmic volume function of @xmath as

  -- -------- --
     @xmath   
  -- -------- --

{remark}

We have the following trivia:

1.  An element in @xmath is just a choice of an equivalence class of a
    system of @xmath linear independent vectors in @xmath , where two
    such systems are equivalent if and only if their @xmath -span
    agrees. Hence

      -- -------- --
         @xmath   
      -- -------- --

    as left- @xmath -sets.

2.  Note that @xmath is just a finitely generated free @xmath -module.
    In the integral case @xmath is an inner product on @xmath and hence
    it can be restricted to @xmath .

    In the function field case @xmath is a lattice in @xmath . The
    inclusion @xmath induces an isomorphism @xmath since @xmath is
    exact. So @xmath can also be considered as a lattice in @xmath .
    Hence @xmath is a volume space. So the definition of volume
    (Definition 5.1 ) for the function field case can be used here.

3.  For any @xmath , any submodule @xmath and any integral structure
    @xmath we get:

      -- -------- --
         @xmath   
      -- -------- --

### 6.2 Properties of the volume function for @xmath

Fix an integral structure @xmath on @xmath relative to a set of primes
@xmath and an element @xmath . We want to show that the function

  -- -------- --
     @xmath   
  -- -------- --

satisfies all conditions from Convention 3 so that we can consider the
canonical filtration.

###### Proposition 6.3

Let @xmath denote the order-theoretic lattice of direct summands of
@xmath and for @xmath let @xmath denote the @xmath -rank of @xmath . Let
@xmath denote the logarithmic volume as above. We have:

1.  @xmath is strictly monotone, i.e. @xmath for all @xmath with @xmath
    .

2.  @xmath is additive, i.e. @xmath for all @xmath .

3.   The function @xmath is subadditive. This means that for all @xmath

      -- -------- --
         @xmath   
      -- -------- --

4.   For each @xmath there are only finitely many @xmath with @xmath .

5.  @xmath .

{proof}

1.  This follows from the structure theorem of finitely generated
    modules over a principal ideal domain.

2.  Since @xmath is a flat @xmath -module, we can apply @xmath to the
    following short exact sequences

      -- -------- --
         @xmath   
      -- -------- --

      -- -------- --
         @xmath   
      -- -------- --

    Recall that the rank is defined as @xmath . Since @xmath is torsion
    (Remark 3 2 ) and @xmath is additive we get the result.

3.  Using Definition 6.1 of the volume function, we really have to show
    that:

      -- -------- --
         @xmath   
      -- -------- --

    This equation just involves the definition of the volume of a @xmath
    -module. By Proposition 6.1 we get @xmath . We have already shown

      -- -------- --
         @xmath   
      -- -------- --

    in Proposition 4.1 for the integral case and in Proposition 5.11 3
    for the function field case.

4.  The definition of the volume function (Definition 6.1 ) says that it
    is just the composition of the old volume function for @xmath and
    this isomorphism of lattices. Hence the statement follows directly
    from the statement for @xmath (see Proposition 4.1 for the integral
    case and Corollary 5.6 for the function field case) and Proposition
    6.1 .

5.  The zero module is the minimal element in the lattice and its rank
    is zero and its logarithmic volume is defined to be zero.

{remark}

So we can use section 3 to get for each @xmath a number @xmath . We have
@xmath . This follows easily from the definitions of both sides and
Proposition 6.1 .

Furthermore we have the following properties:

###### Lemma 6.4

In the number field case ( @xmath ) we have

1.  @xmath for @xmath ,

2.  @xmath for any @xmath .

In the function field case ( @xmath ) we have

1.   for @xmath that

      -- -------- --
         @xmath   
      -- -------- --

2.  @xmath for any @xmath .

{proof*}

We get in the number field case:

1.  @xmath The equality in the middle follows directly from the
    definition of the volume (see Definition 4 ).

2.  As @xmath is a @xmath module we get @xmath and hence @xmath and
    consequently

      -- -------- --
         @xmath   
      -- -------- --

Let us now consider the function field case:

1.  We can use the same chain of equalities as in the number field case

      -- -------- --
         @xmath   
      -- -------- --

    and the middle equality is given by Lemma 5.3 .

2.  As @xmath is a @xmath module we get @xmath and hence @xmath and
    consequently \multbox

      -- -------- --
         @xmath   
      -- -------- --

    \emultbox

###### Corollary 6.5

Given two integral structures @xmath such that @xmath for some @xmath .
Since @xmath is a @xmath -module we get @xmath for any @xmath . Thus we
can leave out all prime factors of @xmath from @xmath . So let us assume
that no element of @xmath divides @xmath . We have

-    in the number field case

      -- -------- --
         @xmath   
      -- -------- --

-    in the function field case

      -- -------- --
         @xmath   
      -- -------- --

###### Corollary 6.6 (Scaling invariance of @xmath)

We get in the number field case:

1.  @xmath for any @xmath

2.  @xmath for any @xmath .

and in the function field case

1.  @xmath for any @xmath

2.  @xmath for any @xmath

{proof}

This follows immediately from the definition of @xmath (Definition 3 )
and the previous lemma.

{definition}

Let @xmath denote the quotient of @xmath under the group action

  -- -------- --
     @xmath   
  -- -------- --

Let @xmath be a set of primes. Let @xmath denote the quotient of @xmath
under the group action of the group of units in @xmath . By centrality
we still have a @xmath -action on @xmath .

{remark}

The scaling invariance from Corollary 6.6 shows that the function @xmath
descends to a function

  -- -------- --
     @xmath   
  -- -------- --

The following lemma will be needed to study the action of @xmath on a
specific @xmath -space.

###### Lemma 6.7

Let @xmath be a set of primes.

1.   Every matrix @xmath can be written as a product of a matrix in
    @xmath and a matrix in @xmath .

2.   Every matrix @xmath can be written as a product of a matrix in
    @xmath and a matrix in @xmath .

3.   Furthermore if a subgroup @xmath is conjugate to @xmath in @xmath
    we can also decompose any matrix @xmath as a product of a matrix in
    @xmath and a matrix in @xmath .

{proof}

1.  This is obvious for diagonal matrices. If @xmath is not diagonal let
    @xmath be the least common multiple of the denominators of all
    entries of @xmath . By the invariant factor theorem applied to the
    matrix @xmath we can find integral matrices @xmath such that @xmath
    are invertible matrices of determinant one and @xmath is a diagonal
    matrix and @xmath . Hence @xmath . Then we apply this lemma to the
    diagonal matrix @xmath to obtain the result.

2.  The product of the two determinants of the two matrices obtained
    like in the last item is one. One of them lies in @xmath and the
    other one lies in @xmath . Hence they both have to be one.

3.  Assume @xmath . We can first decompose @xmath like in the first
    item. Especially we get @xmath . Hence without loss of generality we
    may assume @xmath . We decompose @xmath as in the second item and
    conjugate each factor with @xmath . This gives the desired
    decomposition.

###### Proposition 6.8

For any finite set of primes @xmath the group action of @xmath on @xmath
is cofinite.

{proof*}

Since @xmath acts transitively on @xmath with stabilizer @xmath , we get
@xmath . By Lemma 6.7 1 we also have a transitive group action of @xmath
. The isomorphism

  -- -------- --
     @xmath   
  -- -------- --

Thus @xmath has finite index and hence there are only finitely many
elements in

  -- -------- --
     @xmath   
  -- -------- --

By centrality this is the same as

  -- -------- --
     @xmath   
  -- -------- --

## 7 Spaces with actions of general linear groups

### 7.1 @xmath acts on the space of homothety classes of inner products

This section will analyze the metric on the space of homothety classes
of inner products (defined for example in [ 7 , p. 314 ff.] ).
Furthermore certain properties of the volume functions will be
established. Apart from the growth condition, which was analyzed in [ 5
, Section 1] , these have basically been shown in [ 10 ] . It still
makes sense to restate them in precisely this form. Then the localized
version for @xmath and for @xmath can be treated simultaneously in
Section 6 .

Let @xmath be finitely generated, free @xmath -module of rank @xmath and
consider the space @xmath of all inner products on @xmath . We will
think of an inner product on @xmath either as a symmetric map @xmath or
as a bilinear form.

After a choice of a @xmath -basis for @xmath we can write such an inner
product as a matrix. This gives @xmath the structure of a manifold.
Rescaling gives a group action of @xmath on @xmath via

  -- -------- --
     @xmath   
  -- -------- --

Let @xmath be the quotient of @xmath under this group action. An element
of @xmath is called a homothety class of inner products. The projection
map has a section that sends a homothety class to the inner product
whose representing matrix with respect to some basis of @xmath has
determinant one. The group @xmath acts on the space of homothety classes
of inner products.

@xmath is a subset of the vector space @xmath of symmetric linear maps
@xmath . Symmetric means that for any @xmath the map

  -- -------- --
     @xmath   
  -- -------- --

is again @xmath . The isomorphism on the left is the inverse of the
canonical evaluation isomorphism.

Indeed @xmath is an open subset of @xmath . So we get a canonical
trivialization of the tangent bundle

  -- -------- --
     @xmath   
  -- -------- --

Let us now define a Riemannian metric on @xmath . So we have to define
for each @xmath an inner product @xmath on @xmath :

  -- -------- --
     @xmath   
  -- -------- --

It is obviously bilinear and symmetric. Furthermore the endomorphism
@xmath is self adjoint with respect to the inner product @xmath on
@xmath since

  -- -------- --
     @xmath   
  -- -------- --

Hence there is an orthonormal basis of eigenvectors with eigenvalues
@xmath . Then the eigenvalues of @xmath are @xmath and its trace is just
the sum. Hence its trace is nonnegative and it vanishes only if @xmath
is zero. In this case @xmath is zero since @xmath is invertible. So
@xmath is indeed an inner product.

###### Lemma 7.1

Let @xmath be a free abelian group of rank @xmath . The function @xmath
is @xmath -Lipschitz for any direct summand @xmath of @xmath .

{proof}

The strategy is just to compute the gradient and observe, that its
length is @xmath . See for example [ 5 , Corollary 1.8] .

###### Corollary 7.2

Thus @xmath is @xmath -Lipschitz in the above setting.

We still need one preliminary lemma.

###### Lemma 7.3

Let @xmath be a proper, inner metric space and let @xmath be an open
subset and @xmath be any real number. Then

  -- -------- --
     @xmath   
  -- -------- --

is open.

{proof}

We have to show that there is for @xmath an @xmath such that @xmath .

Since @xmath is open there is for each @xmath an @xmath with @xmath .
The set @xmath is compact as the metric space is proper. So there is a
uniform @xmath with @xmath for all @xmath .

Since the metric space is inner we get

  -- -------- --
     @xmath   
  -- -------- --

and hence it is contained in @xmath . Hence by the triangular inequality
@xmath is contained in @xmath and hence it is open.

###### Proposition 7.4

The space @xmath satisfies all assumptions from Proposition 2.1 . Let

  -- -------- --
     @xmath   
  -- -------- --

This is a collection of open sets as the map @xmath is continuous. We
have

1.  @xmath is a proper @xmath space,

2.   the covering dimension of @xmath is less or equal to @xmath ,

3.   the group action of @xmath on @xmath is proper and isometric,

4.  @xmath ,

5.  @xmath and @xmath are either disjoint or equal for all @xmath ,

6.   the dimension of @xmath is less or equal to @xmath .

7.   the @xmath operation on

      -- -------- --
         @xmath   
      -- -------- --

    is cocompact for every @xmath .

{proof}

1.  See for example [ 8 , Chapter II Theorem 10.39] .

2.  After choosing a basis for @xmath we can identify the space @xmath
    with the set of positive definite, symmetric @xmath matrices of
    determinant one. This is a Riemannian manifold of dimension @xmath .
    Its covering dimension is at most @xmath by [ 14 , Corollary 50.7] .

3.  A straightforward computation shows that the group action is
    isometric. Since @xmath embeds equivariantly in the space of all
    inner products on @xmath , we can consider this space instead. Pick
    for a point @xmath the compact set @xmath . Fix a basis of @xmath
    and let @xmath denote the length of the longest element of this
    basis. If @xmath , then @xmath and @xmath have distance at most
    @xmath . Thus every element of the upper basis has length at most
    @xmath by Lemma 7.1 . So there are only finitely many group elements
    with @xmath . Thus action is proper.

4.  Pick an element @xmath and an open set @xmath . It has the form
    @xmath for a nontrivial direct summand @xmath . We have @xmath and
    hence @xmath .

5.  Assume @xmath for some @xmath . Thus @xmath and @xmath . By
    Corollary 3.2 this means that @xmath are both contained in the
    canonical filtration. And since they have the same rank they have to
    be equal.

6.  Suppose @xmath for some @xmath . Then @xmath can be written as
    @xmath for some nontrivial direct summands @xmath . Hence they all
    have to occur in the canonical filtration. The canonical filtration
    can have at most one module for each rank between one and @xmath .
    Thus @xmath . So the dimension of @xmath is at most @xmath .

7.  Let us show that @xmath is a closed subset of a cocompact set. We
    have already shown in @xmath that it is @xmath -invariant. By Lemma
    7.3 it is a closed subset of @xmath . By Corollary 7.2 we know that
    each function @xmath is @xmath -Lipschitz. Hence

      -- -- -------- -------- --
                     @xmath   
            @xmath   @xmath   
      -- -- -------- -------- --

    The group operation on the right hand side is cocompact by [ 10 ,
    Corollary 5.2] . Hence the group operation on the closed subset
    @xmath is also cocompact.

### 7.2 Preliminaries about affine buildings

Most of this subsection can be found in [ 9 ] . Basics about Euclidean
simplicial complexes or more generally about @xmath -polyhedral
complexes can be found in [ 8 , Chapter I.7] .

Let us begin with some preliminaries about affine buildings. Let @xmath
be a discrete valuation ring with fractional field @xmath . Let @xmath
be the unique maximal ideal of @xmath and let @xmath denote the residue
field @xmath . Let @xmath be a generator of @xmath . Let @xmath be an
@xmath -dimensional vector space over @xmath .

A homothety is a @xmath -linear map of the form

  -- -------- --
     @xmath   
  -- -------- --

for some @xmath . Two @xmath -lattices @xmath are homothetic if there is
a homothety @xmath with @xmath . Being homothetic is an equivalence
relation and we write @xmath for the homothety class of @xmath .

Now we can consider a simplicial complex whose vertex set is the set of
all homothety classes of @xmath -lattices in @xmath and where a sequence
@xmath of equivalence classes spans a simplex if there are
representatives such that

  -- -------- --
     @xmath   
  -- -------- --

###### Lemma 7.5

The set of neighbors of a vertex @xmath can be identified with the set
of @xmath -subspaces of the @xmath -dimensional @xmath -space @xmath .

Especially if @xmath is finite the complex @xmath is locally finite.
This condition is automatically satisfied for @xmath or @xmath for a
finite field @xmath .

{proof}

By definition @xmath and hence @xmath has the structure of a @xmath
-module. Any isomorphism @xmath induces @xmath .

For two adjacent vertices @xmath and @xmath and a representative @xmath
of @xmath we can find a unique representative @xmath of @xmath such that
@xmath . Assigning to it the @xmath -subspace @xmath gives the desired
bijection.

{definition}

We can furthermore label the vertices with elements in @xmath . Let us
first pick a base vertex @xmath with a representative @xmath . Since
@xmath we find an @xmath such that @xmath contains all generators of
@xmath . By changing the representative @xmath we thus may assume that
@xmath .

Define the label of @xmath to be @xmath . We can check that this
labeling does not depend on the choice of representatives. Furthermore
it can also be expressed as the valuation of the determinant of a base
change matrix from an @xmath -basis of @xmath to an @xmath -basis of
@xmath .

The difference between the labeling @xmath is even independent of the
choice of the base vertex. It can be expressed as @xmath where @xmath
are representatives of @xmath with @xmath .

For an edge @xmath with endpoints @xmath let the label difference of
@xmath denote @xmath in the set @xmath .

###### Lemma 7.6

An edge @xmath of label difference @xmath is contained in

  -- -------- --
     @xmath   
  -- -------- --

@xmath -dimensional simplices. The number @xmath denotes the cardinality
of @xmath . Especially the label differences of two edges with
isomorphic links are equal.

{proof}

Let @xmath be representatives of the endpoints of the @xmath with @xmath
. Then @xmath . So we can assume that this dimension is @xmath .
Otherwise replace @xmath by @xmath and @xmath by @xmath . Each such
@xmath -dimensional simplex then corresponds to a flag of the form

  -- -------- --
     @xmath   
  -- -------- --

By dividing @xmath out each such flag corresponds to a flag

  -- -------- --
     @xmath   
  -- -------- --

of the @xmath -dimensional @xmath -vector space @xmath containing @xmath
. Assume we already picked @xmath and we want to pick @xmath for @xmath
. So we have to pick a vector @xmath that does not lie in @xmath . There
are @xmath choices for such a vector. And two vector yield the same
vector space @xmath if they differ multiplicatively by a unit in @xmath
and additively by some element of @xmath . So there are @xmath such
choices possible. The analogous argument holds for @xmath and yields

  -- -------- --
     @xmath   
  -- -------- --

A final substitution yields the desired result. Now assume that @xmath .
Thus @xmath . Let

  -- -------- --
     @xmath   
  -- -------- --

We have

  -- -------- --
     @xmath   
  -- -------- --

Thus @xmath is monotonically decreasing on @xmath . This is a complete
system of representatives of @xmath . So the induced map @xmath is
injective. This proves the last claim.

A Euclidean @xmath -simplex is the convex hull of @xmath points in
@xmath in general position. An Euclidean simplicial complex is a
simplicial complex where any simplex carries additionally the structure
of an Euclidean simplex. This means that we can identify the vertices of
the simplex with the vertices of the given Euclidean simplex.
Furthermore the inclusions of the faces are required to be isometries.
See [ 8 , Chapter I, Definition 7.2] for the precise definition.

Let us recall the definition of a building as given in [ 8 , Chapter I
Definition 10A.1] . It is not the usual definition of an affine
building; for example it already requires a metric. {definition} A
Euclidean building of dimension @xmath is a piecewise Euclidean
simplicial complex @xmath such that:

1.  @xmath is the union of a collection @xmath of subcomplexes @xmath ,
    called apartments, such that the intrinsic metric @xmath on @xmath
    makes @xmath isometric to the Euclidean space @xmath and induces the
    given Euclidean metric on each simplex. The @xmath -simplices of
    @xmath are called its chambers.

2.  Any two simplices @xmath and @xmath of @xmath are contained in at
    least one apartment.

3.  Given two apartments @xmath and @xmath containing both the simplices
    @xmath and @xmath , there is a simplicial isometry from @xmath onto
    @xmath which leaves both @xmath and @xmath pointwise fixed.

    The building @xmath is called thick if the following extra condition
    is satisfied:

4.  Thickness Condition: Any @xmath -simplex is a face of at least three
    @xmath -simplices.

Up to now the affine building is just a simplicial complex. We can
furthermore equip the simplicial complex with the structure of an
Euclidean simplicial complex. But first we need a preliminary lemma:

###### Lemma 7.7

Every @xmath can be written uniquely as a convex combination @xmath with
@xmath such that @xmath . Here @xmath means @xmath for all @xmath .
Especially this implies @xmath .

{proof}

This triangulation of @xmath is obtained from the tesselation with cubes
by a certain subdivision into simplices.

Let me just give a sketch of the proof. The statement is trivial for
@xmath . So let @xmath be given. Without loss of generality we can
assume that @xmath for all @xmath . By permuting the coordinates we can
assume that

  -- -------- --
     @xmath   
  -- -------- --

Now let @xmath be the number of different entries of @xmath and let
@xmath be obtained from @xmath by leaving out coordinates that occur
twice. Let @xmath be the characteristic function

  -- -------- --
     @xmath   
  -- -------- --

and let @xmath . Then @xmath can be written as a convex combination of
the @xmath . Conversely if you know that @xmath can be written as a
convex combination of a totally ordered subset of @xmath with nonzero
coefficients you can read off that subset by comparing the coordinates
of @xmath .

{remark}

The convex combination for @xmath can be obtained from the convex
combination for @xmath in the following way. Let us assume without loss
of generality that @xmath is positive; otherwise swap the roles. Make
the coefficient of @xmath smaller and increase the coefficient of @xmath
correspondingly until the coefficient of @xmath becomes zero. Then
@xmath is the smallest element from @xmath needed and we can continue
this way: Now decrease the coefficient of @xmath and increase the
coefficient of @xmath .

Now we are ready to define the metric on the affine building:

###### Proposition 7.8

The affine building @xmath has the following properties:

1.   For each basis @xmath of @xmath we can consider the full subcomplex
    @xmath spanned by all vertices of the form @xmath for @xmath . This
    will be an apartment of the building.

    We can map such a vertex to @xmath , where @xmath denotes the
    orthogonal projection with respect to the standard inner product on
    @xmath . The linear extension @xmath of this map is a bijection. We
    can pull the metric on @xmath back to each simplex to obtain an
    Euclidean simplicial complex.

2.   The length of an edge in @xmath depends only on the label
    difference of its endpoints.

3.   If a simplex is contained in two apartments we get the same metric
    on that simplex.

4.   A simplicial automorphism @xmath is an isometry.

5.  @xmath acts isometrically on @xmath .

6.   Any two simplices are contained in at least one apartment.

7.   Given two apartments @xmath and @xmath containing both the
    simplices @xmath and @xmath , there is a simplicial isometry from
    @xmath onto @xmath which leaves both @xmath and @xmath pointwise
    fixed.

8.   The affine building @xmath is a @xmath space.

{proof}

1.  We have to show that each point @xmath lies in the image of a unique
    open simplex. Let us first we can apply Lemma 7.7 to write it as a
    convex combination of certain points @xmath of @xmath : @xmath .
    Hence @xmath lies in the convex hull of the points @xmath . The
    conditions on @xmath from Lemma 7.7 mean exactly that the vertices
    @xmath span a simplex. Uniqueness follows from Remark 7.2 . So
    @xmath is really a continuous bijection. Since @xmath is proper it
    is a homeomorphism.

    The images vertices of each simplex are in general position since
    otherwise there would be a point that can be written as a convex
    combination of those vertices in two different ways which we have
    already ruled out. So one obtains the structure of an Euclidean
    simplicial complex.

    The space @xmath is a convex subset of @xmath . Hence the
    restriction of the standard metric to it is inner. The metric on the
    realization on an Euclidean simplicial complex is the unique inner
    metric whose restriction to each simplex agrees with the metrics
    given on it. So the realization of @xmath is really isometric to
    @xmath .

2.  Let @xmath be any edge. Pick representatives

      -- -------- --
         @xmath   
      -- -------- --

    of its endpoints @xmath with

      -- -------- --
         @xmath   
      -- -------- --

    This means exactly that @xmath is either @xmath or @xmath . Note
    that

      -- -------- --
         @xmath   
      -- -------- --

    Now we can consider the distance between @xmath and @xmath . It is
    @xmath . The length of a vector whose entries are either zero or one
    depends only on the number @xmath of ones. Not all entries can be
    simultaneously zero (or one) since then the endpoints of @xmath
    would be the same. This is impossible in a simplicial complex. But
    we now the residue @xmath mod @xmath is just the label difference of
    the vertices. Since the desired number must be at least one and can
    be at most @xmath this determines @xmath . So length of an edge
    depends only on its label difference.

3.  The metric on an Euclidean simplex is uniquely determined by the
    length of its edges. As shown before the length of an edge depends
    only on the label difference and not on the choice of some
    apartment.

4.  Each simplicial automorphism of @xmath preserves the label
    difference by Lemma 7.6 . Thus it is an isometry.

5.  @xmath preserves the label difference since for two lattices @xmath
    with @xmath we have @xmath and @xmath .

6.  The proof can be found in [ 9 , chapter 19, p. 289] .

7.  The proof goes as in [ 9 , chapter 19, p. 290] . The automorphism
    constructed there is simplicial. Hence it is an isometry from one
    apartment to the other by the same argument as above.

8.  [ 8 , Chapter I Theorem 10A.4(ii)] .

We need the following lemma to deal with the properness of the affine
building.

###### Lemma 7.9 ([7, Chapter I.3 Corollary 3.8])

A inner metric space is proper, if and only if it is locally compact and
complete.

###### Corollary 7.10

The affine building @xmath is a proper metric space if the local field
@xmath is finite.

{proof}

We want to use Lemma 7.9 . The metric on the affine building is defined
to be the inner metric induced by the Euclidean structure on the
simplices. If @xmath is finite, the simplicial complex is locally finite
and hence locally compact. Furthermore the metric space is complete as
mentioned above and shown in [ 8 , Chapter I Theorem 7.13] .

Furthermore we need another property of Euclidean simplicial complexes.

###### Proposition 7.11

Let @xmath be an Euclidean simplicial complex with finitely many
isometry types of simplices. Fix any @xmath . Then there is a @xmath
such that the linear extension @xmath of any function @xmath with the
property that @xmath for any two adjacent vertices @xmath is @xmath
-Lipschitz.

{proof}

We want to find an upper bound for

  -- -------- --
     @xmath   
  -- -------- --

By definition of the metric it suffices to consider the case where
@xmath lie in a common closed simplex. Let us construct a bound for each
simplex. Since there are only finitely many isometry types of simplices,
we can take their maximum. So it suffices to consider the case where
@xmath consists of only one Euclidean @xmath -simplex.

In this case @xmath is affine and the Lipschitz bound is the length of
its gradient, which depends continuously on the given values at the
vertices. Without loss of generality we can assign @xmath to one vertex.
Thus the values at the other vertices are in the compact set @xmath .
Since a continuous function on a compact has has a maximum, we obtain
the desired result.

### 7.3 @xmath acts on a building

Let @xmath be a finite field and let @xmath be an @xmath -dimensional
free @xmath -module. The group @xmath acts on the affine building @xmath
associated to the valuation @xmath with

  -- -------- --
     @xmath   
  -- -------- --

It is a simplicial complex whose vertex set consists of all homothety
classes of @xmath -lattices in @xmath where @xmath denotes the valuation
ring with respect to this valuation. A generator for the maximal ideal
in @xmath of @xmath is given by @xmath . A subset @xmath spans a simplex
if and only if there are representatives with @xmath .

The goal of this section is to show that this space satisfies all
assumptions from Proposition 2.1 .

###### Lemma 7.12

The affine building @xmath has the following properties

1.   The group action of @xmath is simplicial.

2.   The group action of @xmath on @xmath is proper.

{proof*}

The natural @xmath -action on the vertex set preserves the higher
simplices. It suffices to show that the vertices have finite
stabilizers. The affine building is locally finite and connected and
hence all stabilizer groups of vertices are commensurable. So it
suffices to consider only one vertex. To simplify notation let us assume
that the rank @xmath free @xmath module @xmath is @xmath . The
stabilizer of the vertex @xmath under the @xmath - action is the finite
group

  -- -------- --
     @xmath   
  -- -------- --

{remark}

Nevertheless there is no bound on the order of the stabilizers. Consider
the @xmath -lattice @xmath for some @xmath . We see that @xmath
stabilizes @xmath whenever @xmath . So the stabilizers get arbitrarily
large if we choose @xmath bigger and bigger. Especially this also shows
that the group action of @xmath on @xmath is not cocompact for @xmath .

We want to use the volume function from section 5 resp. the function
@xmath from section 3 to construct certain open subsets. We can
associate to any @xmath -lattice @xmath and any submodule @xmath a real
number @xmath . By homothety invariance (Remark 5 ) this function
descends to a function from the vertices of @xmath to the real numbers.
We can extend it linearly to get a function from the whole of @xmath to
@xmath which is also called @xmath .

###### Lemma 7.13

For any two adjacent vertices @xmath we have

  -- -------- --
     @xmath   
  -- -------- --

Furthermore there is a number @xmath such that the function @xmath is
@xmath -Lipschitz for all nontrivial direct summands @xmath .

{proof}

Let @xmath be representatives of the homothety classes of @xmath with
@xmath . Then we have by Corollary 5.10

  -- -------- --
     @xmath   
  -- -------- --

for any direct summand @xmath . Inserting this in the definition of
@xmath gives

  -- -------- --
     @xmath   
  -- -------- --

for any nontrivial direct summand @xmath . So Proposition 7.11 gives the
desired result.

###### Proposition 7.14

The affine building @xmath satisfies all assumptions from 2.1 . Let

  -- -------- --
     @xmath   
  -- -------- --

This is a collection of open sets as the map @xmath is continuous. We
have

1.  @xmath is a proper @xmath space,

2.   the covering dimension of @xmath is less or equal to @xmath ,

3.   the group action of @xmath on @xmath is proper and isometric,

4.  @xmath .

5.   Let @xmath be two different submodules of the same rank. Then the
    open sets @xmath and @xmath do not intersect. Especially

      -- -------- --
         @xmath   
      -- -------- --

    for all @xmath .

6.   The dimension of @xmath is less or equal to @xmath .

7.   The @xmath operation on

      -- -------- --
         @xmath   
      -- -------- --

    is cocompact for every @xmath .

{proof}

1.  It is a @xmath space by Proposition 7.8 . Since the residue field
    @xmath is finite, it is also proper by Corollary 7.10 .

2.  @xmath is a simplicial complex of dimension @xmath . Hence its
    covering dimension is also @xmath by [ 15 , Corollary 7.3] .

3.  It is proper and simplicial by Lemma 7.12 . It furthermore preserves
    the label difference since for any two vertices @xmath with
    representatives @xmath such that @xmath and any @xmath we have

      -- -------- --
         @xmath   
      -- -------- --

    (compare Definition 7.2 ). In Proposition 7.8 we have shown that any
    label difference preserving simplicial automorphism of the building
    is an isometry.

4.  This follows directly from @xmath and the definition of @xmath
    (Definition 3 ).

5.  So let @xmath for a nontrivial direct summand @xmath of @xmath be
    given. Let @xmath be given with @xmath and @xmath . The point @xmath
    is contained in a simplex @xmath . The value of @xmath at @xmath is
    a convex combination of the values of @xmath at the vertices of
    @xmath . By Lemma 7.13 we have that @xmath and @xmath are positive
    for all vertices @xmath of @xmath . Thus @xmath and @xmath occur in
    the canonical filtration for @xmath . So @xmath and @xmath cannot be
    both larger than zero as explained in Lemma 3.1 . This lemma
    applies, since we have already verified in Proposition 5.11 , that
    the volume and the rank satisfy Convention 3 .

    The second statement follows if we pick @xmath as @xmath .

6.  We have already seen in the previous item that @xmath cannot be
    contained in two sets from @xmath corresponding to modules of the
    same rank. Thus any point can be an element of at most @xmath sets
    and hence the covering dimension is at most @xmath .

7.  Let @xmath be given. There is a constant @xmath such that the
    function @xmath is @xmath -Lipschitz for every nontrivial direct
    summand @xmath by Lemma 7.13 . Now let us pick a set @xmath . Note
    first that @xmath is open by Lemma 7.3 .

    Consider the set @xmath . Since @xmath is @xmath -Lipschitz the
    closed ball of radius @xmath around each @xmath is entirely
    contained in @xmath and thus @xmath . So let us consider the system

      -- -------- --
         @xmath   
      -- -------- --

    first. We have already shown that @xmath and hence @xmath is a
    closed subset of @xmath . Thus it suffices to show that the group
    action on @xmath is cocompact.

    It suffices to show that there are finitely many @xmath orbits of
    vertices such that each @xmath lies in a simplex with at least one
    vertex from the given finite set of vertices. Let @xmath be given.
    Thus each vertex @xmath of the simplex which contains @xmath
    satisfies @xmath for each nontrivial direct summand @xmath .
    Otherwise if one of them was bigger than they all would be bigger
    than @xmath by Lemma 7.13 . But @xmath is defined to be a convex
    combination of those values. So it would also be bigger than @xmath
    which contradicts the choice of @xmath .

    So let @xmath be an @xmath -lattice representing one of the
    vertices. By rescaling with a suitable power of @xmath we can assume
    that @xmath .

    We can use Proposition 5.9 . We make use of the numbers @xmath
    occurring there. Recall that they have the property that

      -- -------- --
         @xmath   
      -- -------- --

      -- -------- -- -----
         @xmath      (1)
      -- -------- -- -----

    This gives a bound on the size of the numbers @xmath by the
    following consideration. At least one of @xmath is @xmath since
    their sum is nonnegative. At least one of the numbers @xmath is less
    than @xmath since their sum is smaller than @xmath . Since the
    numbers @xmath are monotonically increasing there is an index @xmath
    such that @xmath and @xmath . Using the bound on the growths ( 1 )
    we get

      -- -------- --
         @xmath   
      -- -------- --

    Hence each @xmath lies in @xmath . This means that there are only
    finitely many isomorphism types of such @xmath -lattices possible
    that could occur as @xmath by Proposition 5.9 . And an isomorphism
    @xmath is just an element @xmath with @xmath . So we have found the
    desired finite set of orbits. This completes the proof.

### 7.4 @xmath acts on a product of CAT(0)-spaces {convention}

Let

-   @xmath denote either @xmath or @xmath for a finite field @xmath and
    let @xmath denote its quotient field,

-   @xmath be a finite set of primes in @xmath ,

-   @xmath be a free @xmath module of rank @xmath ,

-   @xmath be the space of homothety classes of inner products on @xmath
    (as in section 7.1 ) in the case of @xmath respectively the affine
    building for the valuation @xmath on @xmath in the case of @xmath ,

-   @xmath denote the product of the affine buildings of @xmath for each
    @xmath -adic valuation @xmath on @xmath with @xmath metrized as a
    product of CAT(0)-spaces,

-   @xmath denote the set of all integral structures on @xmath with
    respect to @xmath , i.e. the set of all finitely generated @xmath
    -submodules of @xmath of rank @xmath ,

-   @xmath be the space @xmath equipped with the @xmath -action

      -- -------- --
         @xmath   
      -- -------- --

We will show in this section that the space @xmath satisfies all
requirements of Proposition 2.1 . Let us first establish a connection
between the vertices of @xmath and the set of integral structures on the
@xmath -module @xmath . Let @xmath denote the vertex set of a simplicial
complex @xmath .

###### Proposition 7.15

Let @xmath be a (finite) set of primes. Then

1.   the map

      -- -------- --
         @xmath   
      -- -------- --

    is an isomorphism of @xmath -sets with inverse @xmath .

2.   It induces an isomorphism of @xmath -sets

      -- -------- --
         @xmath   
      -- -------- --

    with inverse @xmath .

{proof}

1.  This is an easy computation.

2.  The vertices of the simplicial complexes in consideration are
    homothety classes of integral structures. A homothety is an element
    in the center of @xmath . We have to show that @xmath are homothetic
    if and only if @xmath and @xmath are homothetic for each @xmath .
    This is also a straightforward computation.

###### Lemma 7.16

Let @xmath be a finitely generated free @xmath -module. The group action
of

  -- -------- --
     @xmath   
  -- -------- --

on @xmath is cocompact.

{proof}

@xmath has the structure of a locally finite simplicial complex by Lemma
7.5 equipped with a simplicial group action. Thus it suffices to show
that the action on the vertex set is cofinite.

The previous lemma identifies this set with the set of all homothety
classes of integral structures @xmath and the @xmath -action on @xmath
is cofinite by Proposition 6.8 .

We can consider for any nontrivial direct summand @xmath the function
@xmath that is defined in the following way. If @xmath is a tuple of
vertices we can pick representatives and use the bijection from
Proposition 7.15 to obtain an integral structure @xmath . Corollary 6.6
shows that @xmath is independent of the chosen representatives. So we
can assign to a point @xmath the value @xmath .

For general @xmath we can write each @xmath as a convex combination of
the vertices @xmath of the open simplex in @xmath containing @xmath ,
say @xmath . Then define @xmath as the linear extension in @xmath
-direction. More precisely

  -- -------- --
     @xmath   
  -- -------- --

Furthermore @xmath is a product of Euclidean simplicial complexes and
thus it can be viewed as an Euclidean simplicial complex after a choice
of simplex orientation that tells us how to subdivide the products of
simplices.

###### Lemma 7.17

1.   Given @xmath such that each @xmath is a vertex of @xmath . Suppose
    that for each @xmath the vertices @xmath and @xmath are either
    adjacent or equal. Then we have

      -- -------- --
         @xmath   
      -- -------- --

2.   There is a constant @xmath (independent of @xmath and @xmath ) such
    that @xmath is @xmath -Lipschitz.

{proof}

1.  Pick for each @xmath a @xmath -lattice @xmath in @xmath representing
    @xmath . As @xmath is adjacent or equal to @xmath we can find a
    representative @xmath of @xmath such that @xmath . Now we have to
    consider the intersections @xmath and @xmath . Let @xmath . We
    obtain since @xmath is a @xmath -module

      -- -------- --
         @xmath   
      -- -------- --

    By definition @xmath is a product of elements from @xmath . So we
    can use Corollary 6.5 to get

      -- -------- --
         @xmath   
      -- -------- --

    in the function field case; respectively

      -- -------- --
         @xmath   
      -- -------- --

    in the number field case. If we insert this into the definition of
    @xmath we get

      -- -------- --
         @xmath   
      -- -------- --

2.  @xmath is by definition a product of Euclidean simplicial complexes
    with finitely many isometry types of simplices. After subdividing
    products of simplices into simplices it inherits the structure of
    Euclidean simplicial complex with finitely many isometry types of
    simplices. Note that vertices in the product can only be adjacent if
    they are adjacent or equal in each coordinate.

    We have already computed a bound on the difference on two adjacent
    vertices in Lemma 1 . Hence we can use Proposition 7.11 to conclude
    that there is a constant @xmath depending only on @xmath such that
    @xmath is @xmath -Lipschitz.

###### Proposition 7.18

The space @xmath satisfies all assumptions from Proposition 2.1 . Let
@xmath be either @xmath in the number field case or @xmath in the
function field case. Let @xmath . This is a collection of open sets as
the map @xmath is continuous. We have

1.  @xmath is a proper @xmath space,

2.   the covering dimension of @xmath is less or equal to @xmath ,

3.   the group action of @xmath on @xmath is proper and isometric,

4.  @xmath ,

5.  @xmath for all @xmath ,

6.   the dimension of @xmath is less or equal to @xmath ,

7.   the @xmath operation on

      -- -------- --
         @xmath   
      -- -------- --

    is cocompact for every @xmath .

{proof}

1.  Each of the spaces @xmath (Proposition 7.4 ) and @xmath (Proposition
    7.8 for the @xmath condition and Corollary 7.10 for the properness)
    and @xmath ( @xmath ) is a proper @xmath space. Products of proper
    @xmath spaces are proper @xmath spaces (see for example [ 8 ,
    Chapter II Example 1.15(iii)] ).

2.  All the spaces @xmath , @xmath and @xmath for @xmath can be equipped
    with a CW-structure with countably many cells; in the number field
    case @xmath is a smooth manifold and hence it can be triangulated.

    By [ 11 , Theorem A.6] the product CW-structure on @xmath really
    induces the product topology. @xmath is a @xmath -dimensional
    manifold in the number field case or a @xmath -dimensional
    simplicial complex in the function field case. Each @xmath is a
    simplicial complex of dimension @xmath . So @xmath is a CW-complex
    of dimension @xmath and @xmath is a @xmath -dimensional manifold. So
    the CW-dimension of @xmath is at most @xmath . By [ 15 ,
    Corollary 7.3] its covering dimension equals its dimension as a
    CW-complex. So the covering dimension of the product is at most
    @xmath .

3.  The group action on each factor is isometric by Proposition 7.4 3
    and Proposition 7.8 5 . So the action on the product is isometric.
    We have to show that it is a proper action (compare [ 8 , Chapter I
    8.2-8.3] for the subtilities of the definition of a proper action).

    The last factors are realizations of simplicial complexes and the
    group action just permutes the vertices. Thus it suffices to show
    that every stabilizer group of a vertex @xmath in @xmath acts
    properly on @xmath . Let @xmath be a free @xmath -module
    representing @xmath . Given any @xmath . The condition @xmath
    implies that @xmath fixes the integral structure @xmath on the nose
    and not only its homothety class. Thus @xmath normalizes @xmath .
    Thus it is the @xmath -linear extension of some @xmath .

    So we just have to show that @xmath acts properly on @xmath . This
    has been done for the number field case in Proposition 7.4 3 and for
    the function field case in Lemma 7.12 .

4.  Let @xmath and @xmath be given. We have

      -- -- -------- -------- --
                     @xmath   
            @xmath   @xmath   
            @xmath   @xmath   
      -- -- -------- -------- --

    The last equality uses Remark 6.1 3 .

5.  Let us proof first that two nontrivial direct summands @xmath of
    @xmath of rank @xmath with

      -- -------- --
         @xmath   
      -- -------- --

    for some point @xmath are equal. This will prove the statement since
    we have shown in the previous item that we get

      -- -------- --
         @xmath   
      -- -------- --

    for @xmath and @xmath .

    As mentioned above @xmath is an Euclidean simplicial complex. Let
    @xmath denote the open simplex containing @xmath . The value of
    @xmath at @xmath is defined to be a convex combination of the values
    of @xmath at the vertices of @xmath . By Lemma 7.17 we see that all
    their values can differ at most by @xmath . Thus the value at any
    vertex @xmath must be greater than @xmath . So @xmath .

    Fixing now the second coordinate we can consider the function @xmath
    . Let @xmath be an representative of the homothety class of integral
    structures @xmath . We have by Remark 6.2 @xmath . So @xmath . By
    Proposition 6.1 the two @xmath -submodules @xmath of @xmath have the
    same rank. For the case of @xmath we can use Proposition 7.14 to
    conclude that @xmath . For the number field case we can use
    Proposition 7.4 instead. Intersection with @xmath is an isomorphism
    of posets by Proposition 6.1 and hence @xmath and @xmath are equal.

6.  Let @xmath be any point in @xmath . We have shown in the previous
    item that there can be at most one direct summand @xmath for each
    rank between one and @xmath with @xmath . So there can be at most
    @xmath open sets in @xmath containing @xmath .

7.  Of course, it suffices to show that @xmath is a closed subset of a
    cocompact set. It is a closed subset of the whole space by Lemma 7.3
    . For any nontrivial direct summand @xmath the function @xmath is
    @xmath -Lipschitz for a constant @xmath by Lemma 7.17 . Hence

      -- -------- --
         @xmath   
      -- -------- --

    and consequently @xmath is a subset of

      -- -------- --
         @xmath   
      -- -------- --

    So we still have to show that the group action on the last set is
    cocompact. The group action of @xmath on @xmath is cocompact. A
    fundamental domain is given by @xmath .

    Consider the subgroup that stabilizes @xmath pointwise. It is

      -- -------- --
         @xmath   
      -- -------- --

    It acts cocompactly on @xmath by Lemma 7.16 . Thus there is a finite
    subcomplex @xmath such that @xmath . Let us consider the group that
    stabilizes every point in @xmath pointwise. It is the intersection
    of the stabilizers of all vertices of @xmath and thus it has finite
    index in the stabilizer of any vertex @xmath by Lemma 7.19 . So
    consider

      -- -------- --
         @xmath   
      -- -------- --

    As shown in Proposition 3 before, this is just @xmath for any
    representative @xmath of the homothety class @xmath . Again we have
    shown before that

      -- -------- --
         @xmath   
      -- -------- --

    The group on the right hand side is just @xmath .

    So let us analyze the action of this group on @xmath . First note
    that we have by Proposition 6.1

      -- -- -------- -------- --
                     @xmath   
            @xmath   @xmath   
      -- -- -------- -------- --

    The group action on the complement of this set is cocompact. For the
    number field case this is shown in Proposition 7.4 7 . For the
    function field case this is shown in Proposition 7.14 .

###### Lemma 7.19

If a group @xmath acts simplicially on a locally finite simplicial
complex @xmath the stabilizer groups of any two vertices are
commensurable.

{proof}

Given any two vertices @xmath let @xmath denote the combinatorial
distance between @xmath and @xmath . As the simplicial complex is
locally finite the set of all vertices of combinatorial distance @xmath
to @xmath is finite and it contains @xmath . Now the stabilizer group
@xmath acts on this set. The isotropy group of @xmath under this
restricted action is @xmath . So we get an injection. Hence the index of
@xmath in @xmath is finite. Analogously for @xmath . Hence the subgroups
@xmath and @xmath are commensurable.

## 8 Reducing the family

Let @xmath be either @xmath or the polynomial ring over a finite field.
Let @xmath be a finite set of primes in @xmath and @xmath be any finite
group. The term “class of groups” will always denote a class of groups
that is closed under isomorphisms and taking subgroups. A family of
subgroups of a group @xmath is a collection of subgroups, that is closed
under taking subgroups and conjugation. A class of groups determines a
family of subgroups; namely those which are in this class. Examples are
the class of trivial groups, the class @xmath of finite groups, the
class @xmath of virtually cyclic groups and the class @xmath of
virtually solvable groups. For a family @xmath let @xmath denote the
family of those groups containing a group from @xmath of index at most
two.

{notation}

Let us say that a triple @xmath satisfies the isomorphism conjecture (in
certain degrees), if the map

  -- -------- --
     @xmath   
  -- -------- --

is an isomorphism (in those degrees).

If the isomorphism conjecture holds for @xmath for any additive category
@xmath then @xmath satisfies the K-theoretic FJC (Farrell-Jones
conjecture). A group @xmath satisfies the L-theoretic FJC , if the
isomorphism conjecture holds for @xmath for any additive category @xmath
with involution (compare [ 6 , Section 3 and Section 5] ). A group
@xmath satisfies the FJC if it satisfies both the K- and L-theoretic FJC
.

Let us say that a group @xmath satisfies the FJC relative to a family
@xmath if we replace @xmath by @xmath . A group @xmath is said to
satisfy the FJC with finite wreath products , if the group @xmath
satisfies the FJC for any finite group @xmath .

###### Theorem 8.1

Let @xmath be a finite group and let @xmath denote the family

  -- -------- --
     @xmath   
  -- -------- --

The group @xmath satisfies the @xmath - and @xmath -theoretic FJC in all
degrees with respect to the family @xmath , which consists of those
subgroups that have a finite index subgroup which is abstractly
isomorphic to a finite product of groups from @xmath .

{proof}

We have found a space satisfying the conditions from Proposition 2.1
(see Proposition 7.4 for the case of @xmath , Proposition 7.14 for the
case of @xmath and Proposition 7.18 for the localized versions).
Proposition 2.1 says that @xmath satisfies the K- and L-theoretic FJC
relative to the family @xmath

The goal of this section is to reduce the family further as far as
possible. We need the following two key properties:

###### Theorem 8.2 (Transitivity principle [12, Theorem 2.9])

Let @xmath be an equivariant homology theory and let @xmath be a group
and let @xmath be two families of subgroups. Suppose that each @xmath
satisfies the isomorphism conjecture for the family @xmath .

Then @xmath satisfies the isomorphism conjecture for the family @xmath
if and only if it satisfies the isomorphism conjecture for the family
@xmath .

###### Proposition 8.3 ([6, Corollary 4.3])

Let @xmath be a group homomorphism. If @xmath satisfies the isomorphism
conjecture (with finite wreath products) for a family @xmath , then
@xmath satisfies the isomorphism conjecture (with finite wreath
products) for the family @xmath .

{remark}

If @xmath satisfies the isomorphism conjecture with respect to a family
@xmath , then each subgroup @xmath satisfies the isomorphism conjecture
with respect to the family @xmath .

So if @xmath is a subfamily of @xmath and if a group @xmath satisfies
the isomorphism conjecture with respect to @xmath , then it also
satisfies the isomorphism conjecture with respect to @xmath .

###### Theorem 8.4

The FJC with finite wreath products holds for any CAT(0)-group.

{proof}

Suppose @xmath acts properly, isometrically and cocompactly on a @xmath
space @xmath . Then @xmath acts the same way on @xmath and hence it is
also a CAT(0) group. So it suffices to consider the version without
wreath products.

This is then [ 3 , Theorem B] for the @xmath -theoretic setting and the
@xmath -theoretic setting up to dimension @xmath and [ 18 , Theorem 1.1
and Theorem 3.4] for the higher dimensional @xmath -theoretic setting.

###### Proposition 8.5

Let @xmath be a directed system of groups indexed over the natural
numbers. Suppose that the FJC (with finite wreath products) holds for
every @xmath . Then it also holds for @xmath .

{proof}

First note that @xmath for a finite group @xmath and so it suffices to
consider the version without wreath products.

This is basically [ 1 , Theorem 0.7] with the minor problem that this
reference does not deal with the version with coefficients in any
additive category but only in the category of free @xmath -modules for
some ring @xmath .

First it is shown in [ 1 , Theorem 3.5] that Isomorphism conjectures are
compatible with colimits if the given equivariant homology theory is
strongly continuous in the sense of [ 1 , Definition 2.3] . It is shown
in [ 1 , Lemma 5.2] that @xmath and @xmath are strongly continuous for
any ring @xmath .

The crucial point is to verify that the canonical maps

  -- -------- --
     @xmath   
  -- -------- --

and

  -- -------- --
     @xmath   
  -- -------- --

are isomorphisms. The ring @xmath denotes the twisted group ring where
the @xmath action is the restriction of the @xmath -action along the
canonical map @xmath . More briefly let us say that the functor @xmath
is continuous. It is a functor from the category of groups over the
group of ring automorphisms of @xmath to the category of abelian groups.

The same statements also hold, if we allow coefficients in any additive
category; A straightforward computation shows the continuity if the
functor @xmath . The continuity of @xmath is actually a bit trickier for
all @xmath . Connective @xmath -theory is continuous by construction,
however the definition of negative @xmath -groups uses a “delooping” of
additive categories, which is not continuous, but @xmath -theory does
not see this discontinuity. See for example [ 17 , Corollary 6.4] . In
my thesis [ 16 , Proposition 10.23] I also had a straightforward
argument that this follows from the long exact sequence associated to a
Karoubi-filtration and from the fact, that weak equivalences induce
isomorphisms in @xmath -theory.

The proof for the L-theory part from [ 1 , Lemma 5.2] works also in the
setting of additive categories.

###### Lemma 8.6

The FJC (with finite wreath products) holds for any virtually abelian
group.

{proof}

The FJC holds for @xmath since it is a @xmath -group by Theorem 8.4 .
Any finitely generated abelian group has a finitely generated, free
abelian subgroup of finite index. So the FJC with finite wreath products
holds for finitely generated abelian groups by Remark 8.8 . Proposition
8.5 shows the FJC with finite wreath products for abelian groups. Using
Remark 8.8 again, this shows the FJC for virtually abelian groups.

###### Lemma 8.7

Let @xmath , @xmath be two groups. If @xmath satisfies the isomorphism
conjecture with respect to a family @xmath and @xmath satisfies the
isomorphism conjecture with respect to a family @xmath , then @xmath
satisfies the isomorphism conjecture with respect to the family

  -- -------- --
     @xmath   
  -- -------- --

{proof}

Consider the group homomorphism @xmath . By Proposition 8.3 it suffices
to show that for any subgroup @xmath with @xmath the group @xmath
satisfies the isomorphism conjecture relative to the family @xmath .
Applying the same argument to the projection @xmath it suffices to
consider @xmath with @xmath . This group trivially satisfies the
isomorphism conjecture relative to @xmath since it is an element of the
family @xmath .

###### Corollary 8.8

Let @xmath be a class of groups. Suppose that a product of two groups
from @xmath satisfies the isomorphism conjecture relative to @xmath .
Then the class of groups satisfying the isomorphism conjecture (with
finite wreath products) relative to @xmath is closed under finite
products.

Especially this shows that the class of groups satisfying the FJC (with
finite wreath products) relative to the family @xmath is closed under
finite products, since the class @xmath is. The class of groups
satisfying the FJC (with finite wreath products) is also closed under
finite products.

{proof}

Let two groups @xmath be given. Suppose both of them satisfy the
isomorphism conjecture relative to the class @xmath . By the last lemma
their product satisfies the isomorphism conjecture relative to the
family @xmath . By assumption any group in @xmath satisfies the
isomorphism conjecture relative to @xmath . So we can reduce the family
from @xmath to @xmath by the transitivity principle.

The version for the wreath products follows from the observation @xmath
.

The final claim follows from the fact that a finite product of virtually
cyclic groups is virtually abelian . So it satisfies the FJC by Lemma
8.6 .

{remark}

[ [ 5 , Remark 6.2] ] Let @xmath be a class of groups. Then the class of
groups satisfying the isomorphism conjecture with finite wreath products
relative to @xmath is closed under finite index overgroups.

We can also combine several of those inheritance properties to get:

###### Lemma 8.9

Let @xmath be a group homomorphism.

1.   If @xmath satisfies the FJC and every preimage @xmath of a
    virtually cyclic subgroup @xmath satisfies the FJC , so does @xmath
    .

2.   If @xmath , @xmath satisfy the FJC with finite wreath products and
    every preimage @xmath of an infinite cyclic subgroup @xmath
    satisfies the FJC with finite wreath products, so does @xmath .

{proof}

1.  We know by Proposition 8.3 that @xmath satisfies the FJC relative to
    the family @xmath . Since every group in @xmath is a subgroup of a
    group of the form @xmath for some virtually cyclic subgroup @xmath
    we can apply the transitivity principle (Proposition 8.2 ). So
    @xmath satisfies the FJC .

2.  By the same argument we have to show that every preimage @xmath of a
    virtually cyclic subgroup @xmath satisfies the FJC . If @xmath was
    finite @xmath contains @xmath as a finite index subgroup. The group
    @xmath satisfies the FJC with finite wreath products by Remark 8.8 .

    Otherwise @xmath contains an infinite cyclic subgroup @xmath of
    finite index. So the index of @xmath in @xmath is also finite.
    @xmath satisfies the FJC with finite wreath products by Remark 8.8 .

Let us now reduce the family occuring in Theorem 8.1 to the class of all
virtually solvable groups:

###### Theorem 8.10

Let @xmath be a finitely generated free @xmath -module of rank @xmath .
The group @xmath which is isomorphic to @xmath satisfies the K- and
L-theoretic FJC with finite wreath products with respect to the class
@xmath .

{proof}

Let @xmath be any finite group. We will show this theorem via induction
on @xmath . If @xmath we get that @xmath is virtually abelian. Hence the
group itself is virtually solvable. So a point is a model for @xmath and
the isomorphism conjecture is trivially true. Let us now consider the
case of general @xmath :

Let @xmath denote the family

  -- -------- --
     @xmath   
  -- -------- --

We already know that @xmath satisfies the isomorphism conjecture with
respect to the family @xmath by Theorem 8.1 . Using the transitivity
principle we have to show that any group in this family satisfies the
FJC with finite wreath products relative to the family @xmath .

Since the isomorphism conjecture with finite wreath products passes to
finite index overgroups by Remark 8.8 , it suffices to consider a
product of groups from @xmath . By Corollary 8.8 we may further restrict
to the case of a group @xmath .

We have to show that @xmath satisfies the FJC with finite wreath
products for any @xmath . If @xmath is virtually cyclic @xmath is
virtually abelian and hence virtually solvable. So the statement is
trivial in this case.

Otherwise @xmath is a subgroup of @xmath for some nontrivial direct
summand @xmath . So we can assume by Remark 8 that @xmath . Let @xmath
be any finite group and let @xmath denote any complement of @xmath . We
get an isomorphism @xmath sending @xmath to @xmath . All elements of
@xmath have block form with respect to this decomposition. Hence we get
a short exact sequence:

  -- -------- --
     @xmath   
  -- -------- --

The map @xmath is given by

  -- -------- --
     @xmath   
  -- -------- --

The isomorphism from @xmath to @xmath is given by

  -- -------- --
     @xmath   
  -- -------- --

Applying @xmath to the epimorphism in the upper short exact sequence we
get

  -- -------- --
     @xmath   
  -- -------- --

Both factors of @xmath satisfy the isomorphism conjecture with respect
to the family @xmath and hence also @xmath satisfies the isomorphism
conjecture with respect to the family @xmath . We want to apply
Proposition 8.3 . So we have to check that the preimage of any virtually
solvable subgroup @xmath of @xmath satisfies the isomorphism conjecture
with respect to the family @xmath .

We get a short exact sequence

  -- -------- --
     @xmath   
  -- -------- --

We can identify @xmath with the additive group of @xmath -matrices over
@xmath since @xmath are finitely generated free @xmath -modules.
Especially it is an abelian group.

The group @xmath is a solvable subgroup of @xmath of finite index where
@xmath denotes a solvable subgroup of finite index. Hence @xmath is also
virtually solvable. So it trivially satisfies the isomorphism conjecture
for the family of all virtually solvable subgroups. This completes the
proof.

###### Theorem 8.11

@xmath and @xmath satisfy the FJC with finite wreath products.

{proof}

By Proposition 8.5 it suffices to consider the case, where only finitely
many primes are inverted. By the transitivity principle (Proposition 8.2
) and Theorem 8.10 it suffices to show the FJC (with finite wreath
products) for virtually solvable groups. This has recently been done in
[ 19 , Theorem 1.1] . The finite wreath product version is automatically
included since virtually solvable groups are closed under wreath
products with finite groups.

{remark}

At the time of writing my thesis the FJC was known only for certain
class of virtually solvable groups. I needed a lengthy argument [ 16 ,
8.15-8.21] that shows that all virtually solvable subgroups of @xmath
and @xmath lie in this class. Unfortunately this does not hold for
@xmath , so I had a weaker result in my thesis.

## 9 Extensions

### 9.1 Ring extensions

Again let @xmath be either @xmath or @xmath for a finite field @xmath
and let @xmath be a finite set of primes in @xmath . Assume that we have
a ring @xmath and an injective ring homomorphism @xmath . This gives
@xmath the structure of a left- @xmath -module via

  -- -------- --
     @xmath   
  -- -------- --

In this situation multiplication with an element @xmath is a @xmath
-linear map. This gives an injective ring homomorphism @xmath . Such
rings @xmath are also called an associative @xmath -algebras.

If we further assume that @xmath is a finitely generated free @xmath
-module of rank @xmath we have that @xmath .

Hence we get an injective ring homomorphism

  -- -------- --
     @xmath   
  -- -------- --

If we restrict to the group of units, we obtain an injective group
homomorphism

  -- -------- --
     @xmath   
  -- -------- --

So @xmath also satisfies the FJC with finite wreath products as in
Theorem 8.11 .

The following lemma shows that the ring of @xmath -integers in a finite
field extension of @xmath has these properties ( [ 16 , Lemma 9.1] ).

### 9.2 Short exact sequences

The goal of this section is to show the FJC for certain extension of
groups. Let again @xmath be either @xmath or the polynomial ring @xmath
over a finite field @xmath . Let @xmath be a finite set of primes in
@xmath .

Let us start with a brief observation:

Let us now consider extensions of @xmath first. The key idea is to use
known results about the outer automorphism groups of @xmath and @xmath .

###### Lemma 9.1

Let @xmath .

1.   Any extension of @xmath by @xmath satisfies the FJC with finite
    wreath products.

2.   Any extension of @xmath by @xmath satisfies the FJC with finite
    wreath products.

{proof}

1.  Let @xmath be any such extension. The outer automorphism group of
    @xmath is torsion (see [ 16 , Proposition 10.14] ). So @xmath has a
    finite index subgroup isomorphic to @xmath . @xmath satisfies the
    FJC with finite wreath products by Theorem 8.11 and @xmath does
    since it is a @xmath group by Theorem 8.4 .

2.  Abelianization induces a group homomorphism

      -- -------- --
         @xmath   
      -- -------- --

    @xmath is virtually polycyclic and hence it satisfies the FJC with
    finite wreath products by [ 2 ] [Theorem 0.1]. Note that the class
    of virtually polycyclic groups is closed under taking wreath
    products with finite groups. By Lemma 8.9 2 it suffices to show that
    the kernel of @xmath , which is isomorphic to @xmath , and every
    preimage of an infinite cyclic subgroup satisfy the FJC with finite
    wreath products. Theorem 8.11 shows this for @xmath and every
    preimage of an infinite cyclic subgroup does so by Lemma 9.1 1 .

Extensions of @xmath are the basic building blocks for the next
proposition.

###### Proposition 9.2

Let @xmath . Suppose that a group @xmath satisfies the FJC with finite
wreath products. Then

1.   Any extension of @xmath by @xmath satisfies the FJC with finite
    wreath products.

2.   Any extension of @xmath by @xmath satisfies the FJC with finite
    wreath products.

{proof}

Given such an extension @xmath . Let @xmath be the projection map. This
is just an application of Proposition 8.9 2 . We have to verify its
assumptions. First @xmath which is either @xmath or @xmath satisfies the
FJC with finite wreath products by Theorem 8.11 . Second we have to
verify that each preimage of an infinite cyclic group satisfies the FJC
with finite wreath products. This has been done in Lemma 9.1 .