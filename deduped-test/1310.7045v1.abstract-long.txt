To each finitely aligned higher-rank graph @xmath and each @xmath
-valued 2-cocycle on @xmath , we associate a family of twisted relative
Cuntz-Krieger algebras. We show that each of these algebras carries a
gauge action, and prove a gauge-invariant uniqueness theorem. We
describe an isomorphism between the fixed point algebras for the gauge
actions on the twisted and untwisted relative Cuntz-Krieger algebras. We
show that the quotient of a twisted relative Cuntz-Krieger algebra by a
gauge-invariant ideal is canonically isomorphic to a twisted relative
Cuntz-Krieger algebra associated to a subgraph. We use this to provide a
complete graph-theoretic description of the gauge-invariant ideal
structure of each twisted relative Cuntz-Krieger algebra.
