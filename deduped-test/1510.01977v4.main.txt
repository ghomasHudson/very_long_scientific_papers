# 1 Introduction

Realizability is the method devised by Kleene [ 1945 ] to provide a
semantics for intuitionistic first-order number theory. In the course of
its long history (cf. van Oosten [ 2002 ] ), realizability was
subsequently generalized to fragments of second-order number theory and
set theory by Troelstra [ 1998 ] , McCarty [ 1984 , 1986 ] , and others.
The primary aim of this paper is to present a systematic way of
transforming these semantics into an associated semantics for systems of
classical modal logic, so that we obtain modal systems of first-order
arithmetic, fragments of second-order arithmetic, and set theory. The
resulting systems validate not intuitionistic logic but rather classical
logic, so that while intuitionistic logic is used in the construction of
these modal systems, the logic of these modal systems is thoroughly
classical.

The resulting semantics generalize the important but little-understood
construction of Flagg [ 1985 ] , whose goal was to provide a consistency
proof of Epistemic Church’s Thesis together with epistemic arithmetic, a
modal rendition of first-order arithmetic. Epistemic Church’s Thesis (
@xmath ) is the following statement:

  ------- -- -------- --
  (1.1)      @xmath   
  ------- -- -------- --

In this, the quantifiers are understood to range over natural numbers,
and @xmath is Kleene’s @xmath -predicate, which says that program @xmath
on input @xmath halts and outputs a code for the halting computation
@xmath , while @xmath says that the computation @xmath has output value
@xmath . The modal operator takes on an epistemic interpretation due to
Shapiro [ 1985a ] , whereby @xmath represents “ @xmath is knowable”.
@xmath then expresses the computability of any number-theoretic function
which can be known to be total in the admittedly strong sense that it’s
knowable that the value of this function is knowable for each input. ³ ³
3 There is some regrettable clash in terminology which ought to be
mentioned at the outset. The modal principle @xmath as defined in ( 1.1
) ought not be confused with the non-modal principle known as extended
Church’s Thesis sometimes abbreviated similarly. For a statement of
extended Church’s Thesis, see Troelstra and van Dalen [ 1988 , volume 1
p. 199] .

The extension of Flagg’s construction sits well with some of the
original philosophical motivations for @xmath and epistemic arithmetic.
Shapiro’s motivation was to have an object-language in which certain
“pragmatic” properties of computable functions could be expressed, where
a property is “pragmatic” if an object has it or lacks it “in virtue of
human abilities, achievements, or knowledge, often idealized” ( Shapiro
[ 1985a , p. 41] , Shapiro [ 1993 , pp. 61-62] ). Reinhardt’s interest
stemmed from the observation that @xmath together with @xmath implies
that @xmath is recursive, thereby expressing the idea that epistemically
decidable predicates are as rare as recursive predicates [Reinhardt,
1985 , p. 185] . Given either of these motivations, one would obviously
want to know what happens when the mathematical background is changed
from arithmetic to other domains, and thus it’s natural to seek to
understand the extent to which Flagg’s construction may be generalized.

Our semantics generalizes Flagg’s work by distinguishing between two
roles played by arithmetic in his original construction: on the one
hand, arithmetic is used to formalize the standard notion of computation
on the natural numbers, and on the other hand arithmetic is used to
provide the domain and the interpretation of the non-logical arithmetic
primitives. On our approach, the notion of computation is generalized to
the setting of partial combinatory algebras (cf. § 3 ), which roughly
are algebraic structures capable of formalizing the elementary parts of
computability theory such as the @xmath theorem, the enumeration
theorem, the recursion theorem, etc. These algebras are used to
construct a space of truth-values, and our semantics then maps modal
sentences to elements of this space. Thus the order of explanation in
our work is the reverse of that found in earlier work on @xmath and
epistemic arithmetic: whereas the earlier work attempted to use modal
logic to explicate the notion of computability, our work uses certain
notions from computability to aid in the explication of modality, at
least in the minimal sense of providing a semantics for it.

While there are a number of different axiomatic systems for quantified
modal logic, in what follows we only need to work with a small number of
them. Let’s define @xmath to be the Hilbert-style deductive system for
the basic modal predicate system @xmath , as set out in Fitting and
Mendelsohn [ 1998 , pp. 133-134] and Corsi [ 2002 , p. 1487] . See the
proof of Theorem 6.12 below for an explicit listing of the axioms of
@xmath . The system @xmath is then simply @xmath plus the Converse
Barcan Formula @xmath :

  ------- -- -------- --
  (1.2)      @xmath   
  ------- -- -------- --

The system @xmath (with no @xmath superscript) results from the system
@xmath by replacing the Universal Instantiation Axiom

  ------- -- -------- --
  (1.3)      @xmath   
  ------- -- -------- --

with its free-variable variant:

  ------- -- -------- --
  (1.4)      @xmath   
  ------- -- -------- --

As is well known, @xmath does not prove @xmath , but @xmath does [Hughes
and Cresswell, 1996 , pp. 245-246] . Finally, if @xmath is any set of
propositional modal axioms, then let @xmath be the system @xmath plus
the @xmath -axioms, and similarly for @xmath . In what follows, we’ll
work almost exclusively with @xmath and @xmath , where @xmath refers as
usual to the @xmath -axiom @xmath and the @xmath -axiom @xmath . In
particular, we appeal repeatedly to the common theorem of @xmath and
@xmath that @xmath and @xmath are equivalent.

The final modal notation that we need pertains to identity, existence,
and stability. We expand the system @xmath (resp. @xmath ) to the system
@xmath (resp. @xmath ) by adding the following axioms, which
respectively express the reflexivity of identity and the
indiscernibility of identicals, and wherein @xmath range over terms in
the signature:

  ------- -- -------- -------- --
  (1.5)      @xmath   @xmath   
  (1.6)      @xmath   @xmath   
  ------- -- -------- -------- --

Further, if @xmath is a variable, then let the existence predicate
@xmath be defined by @xmath , where @xmath is a variable chosen distinct
from @xmath . Finally, if @xmath is a class of formulas, then @xmath
-stability is the following schema, wherein @xmath is from @xmath :

  ------- -- -------- --
  (1.7)      @xmath   
  ------- -- -------- --

Most often in what follows we’ll focus on the stability of atomic
formulas and their negations. Finally, it’s perhaps worth mentioning
that our notation for the systems @xmath and @xmath is patterned after
Corsi [ 2002 ] , who additionally assumes the stability of the negation
of identity, which in general fails on our semantics. See the systems
@xmath and @xmath on Corsi [ 2002 , p. 1498] .

The systems of first-order arithmetic with which we shall work are
Heyting arithmetic @xmath , Peano arithmetic @xmath , and two versions
of epistemic arithmetic which we call @xmath and @xmath . The first two
are sufficiently well known from standard references such as Troelstra
and van Dalen [ 1988 , volume 1 p. 126] and Hájek and Pudlák [ 1998 , p.
28] , although it’s perhaps useful to stipulate that in what follows the
signature of both shall be taken to be @xmath , wherein @xmath and
@xmath stand respectively for zero and successor and @xmath is an
enumeration of function symbols for the primitive recursive functions.
Thus we take @xmath to be an abbreviation for @xmath for a suitable
primitive recursive function [Troelstra and van Dalen, 1988 , volume 1
p. 124 Definition 2.7] . Then we define:

###### Definition 1.1.

The system @xmath is @xmath plus @xmath , and the system @xmath is
@xmath plus @xmath , where in both cases we include induction axioms for
all formulas in the extended modal language.

These definitions in place, we can now state what we take our
generalization of Flagg’s construction to establish in the setting of
first-order arithmetic:

###### Theorem 1.2.

The theory consisting of @xmath , @xmath , and @xmath is consistent with
both the failure of @xmath and the failure of the Barcan Formula @xmath
:

  ------- -- -------- --
  (1.8)      @xmath   
  ------- -- -------- --

The proof of this theorem is presented in § 8 , and follows immediately
from Theorem 8.3 and Theorem 8.5 and Proposition 8.7 . Further, as we
note in Theorem 8.3 , the existence predicate is a counterexample to (
1.4 ). This admittedly clashes with Flagg’s own statement of his
results, as he takes himself to be working with @xmath instead of @xmath
. We discuss this issue more extensively immediately following Theorem
8.5 . Finally, despite the centrality of the Barcan Formula @xmath ( 1.8
) to quantified modal logic, to our knowledge neither Flagg nor any of
the commentators on his results had indicated whether his model
validated this formula, and so it seems fitting to record this
information in the statement of the above theorem. However, see Shapiro
[ 1985a , p. 20] for a discussion of the status of the Barcan Formula
@xmath in @xmath itself.

One distinctive feature of our Flagg-like construction is that it always
produces the stability of atomics (cf. Proposition 6.15 (i)). In the
set-theoretic case, the membership relation is atomic and so any
set-theoretic construction à la Flagg will induce the stability of the
membership relation. This places strong constraints on the types of set
theory that can be shown to be consistent with @xmath using these
methods. For, consider any non-computable set of natural numbers such as
the halting set @xmath , and let @xmath be its relative complement in
the natural numbers. Then of course we have @xmath . Then the stability
of the membership relation implies that @xmath . But then @xmath implies
that @xmath ’s characteristic function is computable. The moral of this
elementary observation is that if one wants to show the consistency of
@xmath with a modal set theory, and one proceeds by a construction which
forces atomics to be stable, then the modal set theory has to be
something far different from just the usual set-theoretic axioms placed
on top of the quantified modal logic.

In what follows, we rather focus on a variant @xmath of Goodman’s
epistemic theory @xmath [Goodman, 1990 , pp. 155-156] . Goodman’s theory
includes a version of the axiom of choice, and without this axiom, it is
equivalent to Scedrov’s epistemic set theory @xmath [Scedrov, 1986 , p.
749-750] . This system is the successor to other versions of intensional
or epistemic set theories proposed by Myhill, Goodman, and Scedrov in
their contributions to the volume Shapiro [ 1985b ] which also contains
Flagg’s original paper. Since @xmath is less familiar, let’s begin by
briefly reviewing this system. This system is built from @xmath by the
addition of the following axioms:

I. Modal Extensionality : @xmath

II. Induction Schema : @xmath

III. Scedrov’s Modal Foundation : @xmath

IV. Pairing : @xmath

V. Unions : @xmath

VI. Comprehension : @xmath

VII. Modal Power Set : @xmath

VIII. Infinity : @xmath

@xmath

IX. Modal Collection :

@xmath

X. Collection : @xmath

In Goodman’s earlier paper, “A Genuinely Intensional Set Theory” [see
Goodman, 1985 , p. 63] , the Modal Extensionality Axiom (Axiom I) is
explained by noting that the objects in the theory’s intended domain of
discourse are not sets in the conventional sense, but should be
understood rather as “properties.” Accordingly, one identifies @xmath
and @xmath not when they have the same elements, but when they knowably
have the same elements. In the schemas II, III, VI, IX, X, the formulas
can be any modal formulas in the signature of the membership relation,
which may contain free parameter variables. Further, in this enumeration
of the axioms, we’ve omitted Goodman’s version of the axiom of choice,
since its statement is complicated in the absence of full extensionality
and since Scedrov’s axiomatization contains no similar such axiom.

The only atomic in @xmath besides identity is the membership relation,
and one can check that Goodman’s construction does not in general
satisfy the stability of the membership relation. However, in this
system there is the following entailment:

###### Proposition 1.3.

@xmath plus the stability of the membership relation implies the
stability of the negation of the membership relation.

###### Proof.

Consider the following instance of the Comprehension Axiom VI of @xmath
:

  ------- -- -------- --
  (1.9)      @xmath   
  ------- -- -------- --

We may argue that this implies the following:

  -------- -- -------- --
  (1.10)      @xmath   
  -------- -- -------- --

For, let @xmath satisfy the antecedent. Let @xmath be the witness from (
1.9 ) with respect to this @xmath and @xmath . From @xmath we can infer
to @xmath , and from this and the stability of the membership relation
we can infer to @xmath . But then from ( 1.9 ) we have @xmath . So
indeed ( 1.10 ) holds. But since @xmath proves @xmath (for instance by
the Pairing Axiom IV), we then have that @xmath proves

  -------- -- -------- --
  (1.11)      @xmath   
  -------- -- -------- --

Then by necessitation, we obtain the stability of the negation of the
membership relation. ∎

As we will see in § 9 , Flagg’s construction applied to the
set-theoretic case satisfies the stability of atomics but not the
stability of negated atomics (cf. Proposition 9.6 ). Thus the previous
proposition implies that the type of set theory modeled by this
construction will be slightly different from @xmath . Hence, we
introduce the following modification:

###### Definition 1.4.

The theory @xmath consists of @xmath plus (i) the following axioms of
@xmath : Axiom I (Modal Extensionality), Axiom III (Scedrov’s Modal
Foundation), Axiom IV (Pairing), Axiom V (Unions), Axiom VII (Modal
Power set), Axiom VIII (Infinity), and (ii) the following axioms:

VI @xmath . Comprehension @xmath : @xmath

X @xmath . Collection @xmath : @xmath

Hence, outside of the comprehension schema, the primary difference
between the two systems is that @xmath lacks Axiom II (Induction Schema)
and Axioms IX-X (Modal Collection and Collection) of the system @xmath .
It compensates by including versions of comprehension and collection for
formulas which begin with a box. Our result is that when we apply
Flagg’s construction to a set-theoretic setting, we obtain the
following:

###### Theorem 1.5.

The theory consisting of @xmath , @xmath , and the stability of atomics
is consistent with the failure of the stability of negated atomics.

This theorem is proven in § 9 below, and in particular is an immediate
consequence of Proposition 9.3 , Proposition 9.6 , and Proposition 9.8 .
In Theorem 1.5 , like in all set-theoretic formalizations of Epistemic
Church’s Thesis, one understands @xmath to be rendered by binding all
the variables to the set-theoretic surrogate for the natural numbers
guaranteed by the Infinity Axiom (Axiom VIII).

The bulk of this paper is devoted to developing the details of our
realizability semantics for quantified modal logic. In § 2 we describe a
general class of prealgebras, called Heyting prealgebras, which serve as
the basis for the truth-values of the many-valued structures which we
shall build in later sections. Further, in this section we emphasize a
generalized double-negation operator which in our view is critical to
the overall construction. In § 3 we describe how to build Heyting
prealgebras out of partial combinatory algebras. We there describe three
important examples of partial combinatory algebras: Kleene’s first model
(the model used in ordinary computation on the natural numbers),
Kleene’s second model (related to oracle computations), and Scott’s
graph model (used to build models of the untyped lambda calculus).

Then in § 4 we describe how to transform Heyting prealgebras based on
partial combinatory algebras into Boolean prealgebras with a modal
operator, where the relevant distinction is that Boolean prealgebras
validate the law of the excluded middle whereas Heyting prealgebras do
not in general. Prior to proceeding with the construction proper, in § 5
we focus on delimiting the scope of the modal propositional logic
validated in these modal Boolean prealgebras. Then, in § 6 , we show how
to associate a modal Boolean-valued structure to certain kinds of
Heyting-valued structures. In § 7 we describe two general results on
this semantics, namely the Gödel translation and Flagg’s Change of Basis
Theorem.

In § 8 we apply this construction to the arithmetic case and obtain
Theorem 1.2 and in § 9 we apply the construction to the set-theoretic
case and establish Theorem 1.5 . These two constructions use the partial
combinatory algebra associated to Kleene’s first model, namely the model
used in ordinary computation on the natural numbers. To illustrate the
generality of the semantics constructed here, in § 10 we build a model
of a fragment of second-order arithmetic which employs Kleene’s second
model and which validates a modal version of Troelstra’s generalized
continuity scheme. This modal version then stands to second-order
arithmetic with low levels of comprehension roughly as @xmath stands to
first-order arithmetic (cf. Theorem 10.4 ). Finally, in § 11 , we employ
Scott’s graph model and use it to build a simple example wherein the
stability of the negation of identity fails (cf. Proposition 11.4 ).

Before proceeding, it ought to be explicitly mentioned that ours is not
the first attempt to revisit Flagg’s important construction. In
particular, Flagg’s advisor Goodman did so in 1986, remarking that
Flagg’s original presentation was “not very perspicuous” (cf. Goodman [
1986 , p. 387] ). In addition to generalizing from the arithmetic to the
set-theoretic realm, one difference between our approach and that of
Goodman is that he worked only over a single partial combinatory
algebra, namely that of the ordinary model of computation on the natural
numbers. Further, Goodman’s proof proceeds via a series of syntactic
translations between intuitionsitic arithmetic, epistemic arithmetic,
and a modal intuitionistic system. By contrast, our methods are entirely
semantic in nature, and carry with it all the benefits and limitations
of a semantic approach. For instance, while we get lots of information
about independence from the axioms, we get little information about the
strength of the axioms. See the concluding section § 12 for some more
specific questions about deductive features of the axiom systems modeled
in this paper.

## 2 Heyting Prealgebras and the Generalized Double-Negation Operator

In this section, we focus on Heyting prealgebras and a certain operator
@xmath which is formally analogous to double negation. A Heyting
prealgebra @xmath is given by a reflexive, transitive order @xmath on
@xmath such that there is an infimum @xmath and supremum @xmath of any
two element subset @xmath , and a bottom element @xmath , a top element
@xmath , and such that there is a binary map @xmath satisfying @xmath
for all @xmath . Hence, overall, a Heyting prealgebra is given by the
signature @xmath . Hereafter, we will use the notation @xmath to denote
@xmath , and @xmath as an abbreviation for @xmath and @xmath . If @xmath
are terms in the signature of Heyting prealgebras, then atomic formulas
of the form @xmath will be called reductions or sometimes inequalities ,
while atomics of the form @xmath will be called equivalences . Further,
given the close connection between reductions and the conditional, in
the context @xmath , the term @xmath will be called the antecedent and
the term @xmath will be called the consequent . As one can easily
verify, the following are true on any Heyting prealgebra (cf.
Proposition B.1 in Appendix B ):

  ------- -- -------- --
  (2.1)      @xmath   
  (2.2)      @xmath   
  (2.3)      @xmath   
  ------- -- -------- --

Suppose that @xmath is a Heyting prealgebra and @xmath is in @xmath .
Then we define the map @xmath by @xmath . Obviously if @xmath , then
@xmath , and so we can think of @xmath as a kind of generalization of
the double-negation operator. This map @xmath then has the following
properties (cf. Proposition B.2 in Appendix B ):

  ------- -- -------- --
  (2.4)      @xmath   
  (2.5)      @xmath   
  (2.6)      @xmath   
  (2.7)      @xmath   
  (2.8)      @xmath   
  (2.9)      @xmath   
  ------- -- -------- --

  -------- -- -------- --
                       
  (2.10)      @xmath   
  (2.11)      @xmath   
  (2.12)      @xmath   
  (2.13)      @xmath   
  (2.14)      @xmath   
  -------- -- -------- --

Notationally, we may write @xmath for @xmath . Further, we stipulate
that @xmath binds tightly, so that, e.g., writing @xmath will refer not
to @xmath but to @xmath . The map @xmath is denoted by @xmath in Flagg [
1985 , Example 8.3 p. 133] , but we avoid this terminology due to the
received use of the diamond symbol for the modal operator.

There is a strong connection between Heyting prealgebras and
intuitionistic logic. Following the tradition in many-valued logics,
let’s say that a formula @xmath of propositional logic is valid in a
Heyting prealgebra if the homophonic translation of this formula into an
element of the prealgebra is equivalent to the top element of the
prealgebra. Further, let @xmath designate the intuitionistic
propositional calculus [Troelstra and van Dalen, 1988 , Definition
2.1.9, volume 1 p. 48] . One can then show that if @xmath , then @xmath
is valid in any Heyting prealgebra [Troelstra and van Dalen, 1988 ,
Theorem 13.5.3 volume 2 p. 705] . Intuitionistic logic is also a natural
logic to reason about Heyting prealgebras, and in Appendix B we verify
that ( 2.4 )-( 2.14 ) are provable in a weak intuitionsitic logic, a
fact which will prove useful in the subsequent sections (cf. in
particular Proposition B.3 , as well as the discussion of uniformity in
§ 3 ).

There is similarly a natural connection between Boolean prealgebras and
classical logic. If a Heyting prealgebra satisfies @xmath (equivalently,
@xmath ) for all elements @xmath , then it is called a Boolean
prealgebra . Since the classical propositional calculus @xmath simply
extends the intuitionistic propositional calculus @xmath by the law of
the excluded middle, @xmath implies that @xmath is valid in any Boolean
prealgebra. The purpose of the operator @xmath is to map a Heyting
prealgebra @xmath with element @xmath to a Boolean prealgebra @xmath
wherein @xmath is equivalent to the bottom element. This is the
substance of the following proposition with which we close the section.
This proposition is stated and a proof of it is sketched in Flagg [ 1985
, Theorem 8.4 p. 134] .

###### Proposition 2.1.

Suppose that @xmath is a Heyting prealgebra and @xmath . Define the set

  -------- -- -------- --
  (2.15)      @xmath   
  -------- -- -------- --

Then @xmath has the structure of a Heyting prealgebra, where the
operations are defined by restriction from @xmath , except in the case
of join and falsum, which we define as follows:

  -------- -- -------- --
  (2.16)      @xmath   
  -------- -- -------- --

Further, @xmath is a Boolean prealgebra and @xmath and @xmath .

###### Proof.

For the proof, let us explicitly name the components of the structure on
@xmath :

  -------- -- -------- --
  (2.17)      @xmath   
  -------- -- -------- --

where these are defined by restriction of @xmath to @xmath , except in
the case of join and falsum which are defined as in equation ( 2.16 ).
Since @xmath is the restriction of the preorder @xmath on @xmath to
@xmath , of course @xmath is a preorder on @xmath . Since they are
defined by restriction, technically we have @xmath . Let us argue that
the codomain of these operations is in fact @xmath . So suppose that
@xmath . First note that @xmath . For, it follows from equation ( 2.8 )
that @xmath . Second note that

  -------- -- -------- --
  (2.18)      @xmath   
  -------- -- -------- --

For, one half of this follows from equation ( 2.9 ). For the other half,
note that since @xmath , we can appeal to equation ( 2.5 ) to obtain
@xmath . From equation ( 2.18 ), it follows that @xmath is in @xmath ,
since @xmath . Third, note that @xmath . For equation ( 2.7 ) yields the
second equivalence in the following: @xmath .

Since @xmath is defined by restriction, it follows immediately that
@xmath is the infimum of @xmath in @xmath . To see that @xmath is the
supremum of @xmath in @xmath , note that @xmath and @xmath , where the
inequality comes from equation ( 2.4 ) applied to @xmath and @xmath .
Suppose now that @xmath with @xmath . Then @xmath . Then by applying
equation ( 2.4 ), we obtain @xmath . Hence, this is why @xmath is the
supremum of @xmath in @xmath . Since we have that @xmath and @xmath are
the restrictions of @xmath and @xmath to @xmath , it follows that we
automatically have the axiom for the @xmath -map. Finally, since @xmath
is defined by restriction and @xmath is in @xmath by equation ( 2.13 ),
we have that @xmath is the top element of @xmath . As for the bottom
element of @xmath , suppose that @xmath is an arbitrary element of
@xmath . Then @xmath , and so @xmath by equation ( 2.4 ). Thus it
follows that @xmath is a Heyting prealgebra.

To see that @xmath , first note that @xmath and so @xmath , where the
first inequality comes from ( 2.4 ) and the second from ( 2.11 ). On the
other hand, one has that @xmath by equation ( 2.12 ). So in fact we have
@xmath .

Now we argue that @xmath is a Boolean prealgebra. In our Heyting
prealgebra @xmath , negation @xmath is defined by @xmath . Note that it
follows from this that @xmath . To establish that @xmath is a Boolean
prealgebra, we must show that if @xmath then @xmath , or what is the
same we must show @xmath . But this is precisely the condition to be an
element of @xmath in the first place. ∎

## 3 Heyting Prealgebras from Partial Combinatory Algebras

The goal of this section is to recall the definition of a partial
combinatory algebra and to describe some examples which will be relevant
for our subsequent work. Our treatment relies heavily on van Oosten [
2008 , Chapter 1] . The only way in which this differs from his
treatment is that we need to pay attention to certain uniformity
properties delivered by the standard construction of a Heyting
prealgebra from a partial combinatory algebra. So without further ado,
here is the definition of a partial combinatory algebra (cf. van Oosten
[ 2008 , p. 3] , Beeson [ 1985 , p. 100] ):

###### Definition 3.1.

A partial combinatory algebra , or pca , is a set @xmath with a partial
binary function @xmath and distinguished elements @xmath and @xmath such
that (i) @xmath for all @xmath from @xmath , and (ii) @xmath for all
@xmath from @xmath , and (iii) @xmath for all @xmath from @xmath .

The convention in pca’s is that one associates to the left, so that
@xmath . Further, “downarrow” notation in condition (i) of pca’s is
borrowed from computability theory, so that in general in a pca, @xmath
indicates that the partial binary function is defined on input @xmath .
In any pca @xmath , there are some elements beyond @xmath and @xmath to
which it is useful to call attention. First, the element @xmath serves
as an identity element, in that one has @xmath for all @xmath from
@xmath . Second, there is the pairing function @xmath and the two
projection functions @xmath such that @xmath and @xmath . Third, there
is an element @xmath such that @xmath . Sometimes we use @xmath and
@xmath to code case splits, much like we might use @xmath and @xmath in
other contexts. It’s worth noting that van Oosten [ 2008 , p. 5] uses
the notation @xmath instead of @xmath , but we opt for the latter
because the former potentially clashes with notation for the numerals
introduced in equation ( 9.7 ). Finally, one has the following very
helpful proposition, which is sometimes used as an alternative
characterization of a pca (cf. van Oosten [ 2008 , p. 3] , Beeson [ 1985
] p. 101):

###### Proposition 3.2.

Let @xmath be a pca and let @xmath be a term. Then there is an element
@xmath of @xmath such that for all @xmath from @xmath one has @xmath .

Sometimes in what follows we’ll have occasion to treat a pca as a
first-order structure, and there arises then the question of the
appropriate signature. It’s helpful then to distinguish between a few
different options. The sparse signature takes merely @xmath as
constants, while the expansive signature invokes the above proposition
to recursively introduce a new constant @xmath for any term @xmath .
Further, sometimes we’ll work with pca’s in which the binary operation
is total. The relational signature then takes the binary operation to be
rendered as a ternary relation, while the functional signature takes the
binary operation as a binary function symbol.

The paradigmatic example of a pca is Kleene’s first model @xmath , which
has as its underlying set the natural numbers and its operator @xmath ,
where this denotes the output, if any, of the @xmath -th partial
recursive function run on input @xmath . In Kleene’s first model @xmath
, the element @xmath from condition (ii) is given by a program @xmath
which on input @xmath calls up a program for the constant function
@xmath . For the element @xmath from conditions (i) and (iii), choose a
total recursive function @xmath such that @xmath is an index for the
program which first runs input @xmath on index @xmath to obtain @xmath
and second runs input @xmath on index @xmath to obtain index @xmath ,
and then runs input @xmath on index @xmath . Then choose total recursive
function @xmath such that @xmath is an index for a function which on
input @xmath returns @xmath ; and finally choose @xmath to be a total
recursive function such that @xmath is an index for a function which on
input @xmath returns @xmath . The functions @xmath all come from the
@xmath Theorem and so may be chosen to be total, thus ensuring that
condition (i) holds.

Two further pcas which will be of use in §§ 10 - 11 are Kleene’s second
model @xmath and Scott’s graph model, and before describing these pcas
it’s perhaps worth stressing that the reader who is uninterested in
these specific sections can safely skip our treatment of these other
pcas. Kleene’s second model @xmath (cf. van Oosten [ 2008 , pp. 15 ff]
§1.4.3, Beeson [ 1985 , §VI.7.4 p. 132] ) has Baire space @xmath as its
underlying set. Recall that the topology on Baire space has the basis of
clopens @xmath wherein @xmath is an element of @xmath , namely, the set
of all strings @xmath where @xmath and we define length of @xmath as
@xmath . Strings of small length are sometimes explicitly written out
as, e.g., @xmath or @xmath , and a degenerate case is length @xmath
strings written out as, e.g., @xmath or @xmath . Each @xmath from @xmath
is assumed to be identified with a natural number so that all the basic
operations on strings such as length @xmath and concatenation @xmath are
computable. Finally, each @xmath from Baire space and each length @xmath
naturally determines an element @xmath of @xmath of length @xmath by
restriction. Likewise, the concatenation @xmath is naturally defined to
be the element of Baire space which begins with @xmath along its length
and then followed by @xmath . Baire space is of course a basic object of
descriptive set theory, but the only part of that theory that we need to
recall is that the @xmath subsets are the countable intersections of
open sets, and that the subsets of Baire space whose relative topology
is completely metrizable are precisely the @xmath sets ( Kechris [ 1995
] p. 17). This hopefully motivates the attention paid to @xmath sets in
the context of Kleene’s second model, since it is these on which the
relative topology is most similar to that of the usual topology on Baire
space.

In Kleene’s second model @xmath , the application function is defined in
terms of oracle computations. The relevant notation here is: @xmath
denotes the @xmath -th Turing program run on input @xmath and with the
graph of the function @xmath on the oracle tape, and @xmath is the
effective union of @xmath and @xmath which follows @xmath on the evens
and @xmath on the odds. Then the application function in @xmath is
defined as follows:

  ------- -- -------- --
  (3.1)      @xmath   
  ------- -- -------- --

where program @xmath on input @xmath , searches for the least @xmath
such that @xmath has non-zero value @xmath , and return @xmath if such
is found. It is very difficult to work directly with this
characterization of the application function, and so practically one
proceeds by using the following proposition, whose proof we relegate to
Appendix A since while we use it frequently in § 10 , we only use it in
that section:

###### Proposition 3.3.

(I) For every continuous function @xmath with @xmath domain @xmath there
is @xmath such that @xmath for all @xmath in @xmath . (II) For every
@xmath and each @xmath , the partial map @xmath has @xmath domain and is
continuous on this domain.

Applying the Proposition 3.3 .I to the first projection allows one to
satisfy condition (ii) of a pca, and with a little further ingenuity one
can likewise obtain conditions (i) and (iii) of a pca (cf. [van Oosten,
2008 , pp. 17-18] ). Further, Proposition 3.3 .I implies that for every
index @xmath there is @xmath such that @xmath . Hence, Kleene’s second
model @xmath can be understood as an “oracle computation” version of
Kleene’s first model.

The final pca which is used in this paper is Scott’s graph model @xmath
(cf. van Oosten [ 2008 , §1.4.6 pp. 20-21] , Scott [ 1975 , pp. 157-165]
). The pca @xmath has domain @xmath , namely all subsets of natural
numbers. Often the pca is itself denoted as @xmath , but we will use
@xmath instead since the semantics we develop involves us using a good
deal of powerset notation. In the context of Scott’s graph model @xmath
, the lower case Roman letters @xmath and subscripted versions thereof
are reserved for elements of @xmath , while we reserve @xmath and
subscripted versions thereof for natural numbers. Further, the letters
@xmath are reserved for a standard and fixed enumeration of finite
subsets of the natural numbers. For any @xmath , we define @xmath . Then
the topology on @xmath has basis @xmath , and the topology on @xmath is
the product topology. When the exponent @xmath is understood from
context, we abbreviate e.g. @xmath and @xmath and @xmath and @xmath and
@xmath . Finally, we say that @xmath if @xmath , and we say that a
function @xmath is monotonic if @xmath implies @xmath .

Scott then proved the following helpful characterizations of the open
and closed sets and the continuous functions [Scott, 1975 , pp. 158-159]
, from which it immediately follows that all continuous functions are
monotonic:

###### Proposition 3.4.

Suppose that @xmath . Then (i) @xmath is open iff for all @xmath , one
has @xmath iff @xmath . Further, (ii) @xmath is closed iff for all
@xmath , one has @xmath iff @xmath .

###### Proposition 3.5.

Suppose that @xmath . Then the following conditions are equivalent:

1.   (i) For all @xmath , one has @xmath .

2.   (ii) The function @xmath is continuous.

3.   (iii) For all @xmath , one has @xmath iff @xmath .

4.   (iv) For all @xmath , one has @xmath iff @xmath .

Using these propositions, we can define the application function and
show that the axioms of a pca are satisfied. In this, we fix a
computable bijection @xmath , and we iterate in the natural way, e.g.
@xmath . Then we define the application function as follows:

  ------- -- -------- --
  (3.2)      @xmath   
  ------- -- -------- --

When @xmath is recursively enumerable, the thought behind this operation
is that @xmath means that “we can effectively enumerate @xmath whenever
we are given any enumeration of @xmath ” [Odifreddi, 1999 , p. 827] ,
with the variables changed in the quotation to match ( 3.2 ), cf. also
Rogers [ 1987 , §9.7 pp. 145 ff] , Scott [ 1975 , p. 155, p. 160] .
From ( 3.2 ), an induction on @xmath shows that for all @xmath one has

  ------- -- -------- --
  (3.3)      @xmath   
  ------- -- -------- --

Note that unlike the other paradigmatic examples of pcas, the
application operation ( 3.2 ) here is total.

Like with Proposition 3.3 , it’s helpful to articulate the connection
between the continuous functions and the application operation. However,
in this setting the connection is much tighter, due to the fact that the
application operation ( 3.2 ) is total. In particular, we have the
following proposition due to [Scott, 1975 , p. 160] .

###### Proposition 3.6.

(I) For any continuous function @xmath there is @xmath such that for all
@xmath , one has @xmath . (II) For any @xmath , the function @xmath
given by @xmath is continuous. (III) For any continuous function @xmath
, one has @xmath . (IV) The function @xmath is continuous and for all
@xmath one has

  ------- -- -------- --
  (3.4)      @xmath   
  ------- -- -------- --

This proposition allows us to quickly see that @xmath is a pca. For
@xmath , simply apply the Proposition 3.6 .I to the continuous map
@xmath . For @xmath , the function @xmath is continuous by Proposition
3.6 .II. Then the map @xmath is continuous and so by Proposition 3.6 .I
there is @xmath such that @xmath . Hence, @xmath is a pca.

However, the original interest in @xmath is related to the untyped
lambda calculus, and Scott and Meyer produced a series of axioms
describing when a pca yields a model of the untyped lambda-calculus.
These are the axioms at issue in the following proposition, where in a
pca we define @xmath and @xmath :

###### Proposition 3.7.

The pca @xmath satisfies the axioms @xmath and @xmath and @xmath and
@xmath and the Meyer-Scott axiom @xmath .

For a proof of this proposition and the result that this constitutes a
characterization of models of the untyped lambda calculus, see
Barendregt [ 1981 , Corollary 18.1.8 p. 473] and Barendregt [ 1981 ,
Theorem 5.6.3 p. 117] . In our context, it will be useful to have a
simpler description of the action of @xmath . By Proposition 3.6 .I &
III, there is @xmath such that @xmath . It can then be shown that @xmath
[Barendregt, 1981 , Proposition 18.1.9.i p. 473, Lemma 5.2.8.ii p. 95] ,
and so on @xmath , the consequent of the Meyer-Scott axiom can be
expressed as @xmath . By considering the case of @xmath and @xmath , one
can deduce from this and ( 3.4 ) the following elementary observation,
which we shall use later in § 11 to provide an example of the
non-stability of negated atomics (cf. Proposition 11.4 ):

###### Proposition 3.8.

There are @xmath such that @xmath and for all @xmath one has @xmath .

Before turning to a discussion of how pca’s give rise to Heyting
prealgebras, let’s adopt the following abbreviation: if @xmath is from
@xmath and @xmath , then we say that

  ------- -- -------- --
  (3.5)      @xmath   
  ------- -- -------- --

In other standard treatments of pca’s, this is sometimes described
simply by saying that @xmath realizes @xmath [van Oosten, 2008 , p. 6] .
But since this notion will figure heavily in the modal semantics in § 6
, it is useful to have some explicit notation for it. With this in
place, we can state two variations of the well-known result that pca’s
allow one to generate Heyting algebras. In the case of @xmath , the
first of these is denoted by @xmath in Flagg’s original paper (cf.
[Flagg, 1985 , Theorem 9.1 p. 135] ).

###### Definition 3.9.

Let @xmath be a pca. Then the Heyting prealgebra structure on the
powerset @xmath of @xmath is given by the following:

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

In this, recall from the discussion at the outset of this section that
@xmath , @xmath code case breaks and that @xmath is the pairing function
with inverses @xmath and @xmath . Finally, note that for every @xmath ,
one has that @xmath or @xmath . Indeed, if @xmath is empty, then of
course @xmath . So suppose that @xmath is non-empty with element @xmath
. By Proposition 3.2 , choose @xmath in @xmath such that @xmath for all
@xmath from @xmath , so that @xmath and hence @xmath . And of course the
identity function witnesses @xmath . Hence, up to equivalence, the
Heyting prealgebra @xmath is only two-valued, and if one took its
quotient one would then obtain a Boolean algebra. But the Heyting
prealgebra @xmath is still interesting because in § 6 we will assign
formulas @xmath to elements @xmath of this Heyting prealgebra, and we
will often be looking at how @xmath varies with @xmath uniformly, where
@xmath comes from some domain @xmath (cf. Definition 6.3 ). And just
because for all @xmath one has that @xmath or @xmath , does not mean
that for all sequences @xmath it is the case that @xmath or @xmath .

By consulting the proof of Proposition 1.2.1 from [van Oosten, 2008 , p.
6] , which verifies that @xmath is actually a Heyting prealgebra, one
can see that the Heyting prealgebra structure on @xmath is highly
uniform, in that there are @xmath from @xmath for @xmath such that for
all @xmath and all @xmath from @xmath one has

  -- -------- -- -------- --
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
     @xmath      @xmath   
  -- -------- -- -------- --

Further, all of @xmath can be taken to be terms in the ample relational
signature of pcas (cf. immediately after Proposition 3.2 ) and indeed
the same terms will work for any pca.

From this uniformity, we also obtain the following associated Heyting
prealgebra structure. In Flagg’s original paper, this was denoted by
@xmath (cf. Flagg [ 1985 , p. 122, Theorem 9.3 p. 136] ).

###### Definition 3.10.

Let @xmath be a pca and let @xmath be a non-empty set. Let @xmath or the
Flagg Heyting prelagebra over @xmath be the set of functions @xmath .
Then the Heyting prealgebra structure on @xmath is given by the
following:

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

  -- -------- -- --
                 
     @xmath      
     @xmath      
     @xmath      
  -- -------- -- --

Usually in what follows, the pca @xmath will be clear from context, and
so failing to display the dependence of @xmath on @xmath will not cause
any confusion. As another natural piece of notation, we extend the
notation @xmath where @xmath to @xmath where @xmath from @xmath by
stipulating that this happens iff for all @xmath from @xmath one has
@xmath . With this notation, we have @xmath iff there is @xmath from
@xmath such that @xmath .

In what follows, considerations pertaining to uniformity will play an
important role in the proofs. The equivalences and reductions ( 2.4 )-(
2.11 ) can all be done in weak intuitionistic theory, and this implies
that there are uniform witnesses to these equivalences and reductions in
@xmath . For example, line ( 2.5 ) not only gives us @xmath for all
@xmath , but also gives us that there is a single witness @xmath from
@xmath such that @xmath for all @xmath . For a formal justification of
this, see Appendix B and in particular Proposition B.3 .

In what follows, we’ll say that an equivalence or inequality in @xmath
holds uniformly when there are such uniform witnesses. A similar
locution is used when we have sequences of elements from @xmath . For
instance, suppose we know that @xmath uniformly in @xmath , in that
there is a single witness @xmath from @xmath with @xmath for all @xmath
. Then we likewise know by ( 2.4 ) that there is a single witness @xmath
such that @xmath uniformly in @xmath and @xmath , and we express this
more compactly by saying that @xmath holds uniformly in @xmath and
@xmath . Finally, given a sequence of elements @xmath of @xmath , we
define its union and intersection pointwise by @xmath and @xmath . Then
uniform reductions on sequences are sufficient for reductions concerning
their intersection and union. In particular, supposing that @xmath
uniformly, then one has @xmath . Similarly, supposing that @xmath
uniformly, then one has @xmath .

We close this section with two elementary propositions on @xmath that
will prove useful in what follows, and that illustrate these uniformity
considerations:

###### Proposition 3.11.

For any two sequences @xmath and @xmath one has uniformly in @xmath that
@xmath .

###### Proof.

The identity function witnesses that @xmath uniformly in @xmath . Then
@xmath uniformly in @xmath by ( 2.5 ) in conjunction with ( 2.8 ), and
then by ( 2.4 ). Then @xmath uniformly in @xmath . Then uniformly in
@xmath we have @xmath by ( 2.4 ) and ( 2.7 ). Conversely, uniformly in
@xmath and @xmath we have @xmath by ( 2.5 ). Then @xmath uniformly in
@xmath . Then uniformly in @xmath we have @xmath . ∎

###### Proposition 3.12.

For any sequence @xmath , one has @xmath .

###### Proof.

To see that @xmath , simply note that we have @xmath uniformly in @xmath
and @xmath by line ( 2.5 ). Conversely, let @xmath be a witness to (
2.11 ) in @xmath , so that @xmath for all @xmath . Then suppose that
@xmath is in the intersection @xmath . To see that @xmath is in
intersection @xmath , let @xmath be given and consider @xmath . Then
since @xmath is in @xmath , we then have that @xmath is in @xmath ,
which is what we wanted to show. ∎

## 4 Construction of Boolean Algebras with Modal Operator

In this section, we fix a pca @xmath and present a general construction
of a series of Boolean prealgebras associated to arbitrary non-empty
sets @xmath using Proposition 2.1 . In what follows, we adopt the
convention introduced in the last section that if @xmath is an non-empty
set, then @xmath denotes the set of functions @xmath , and we suppress
the dependence of @xmath on the underlying pca @xmath . To get a sense
of the notation, note that if @xmath are two non-empty sets, then under
our conventions @xmath denotes the set of functions @xmath . Often in
what follows, we will be taking @xmath , and so it is important to take
explicit note of the relevant conventions, since we’re proceeding by
suppressing the role @xmath plays as the codomain of all the functions
in @xmath , but we’re explicitly displaying the role that @xmath plays
as a component of the domain of the functions in @xmath .

So let @xmath be given and let @xmath be the projection map @xmath , so
that @xmath is a member of @xmath . Then @xmath is the map defined by
@xmath . Then define as in line ( 2.15 ) the set

  ------- -- -------- --
  (4.1)      @xmath   
  ------- -- -------- --

Then as a consequence of Proposition 2.1 , one has that @xmath possesses
the structure of a Boolean prealgebra. In Flagg’s original paper, this
was denoted by @xmath and presented only in the proof but not the
statement of Flagg [ 1985 , Theorem 10.1 p. 138] . See in particular the
discussion of the projection map as the “preferred element” on the top
of Flagg [ 1985 , p. 139] .

Often in what follows we will focus on a special case of the above
construction wherein @xmath is a singleton. Since it will be the subject
of special focus, and since choosing a specific singleton with which to
work would be awkward, we present the following definition. Let @xmath
be the identity map @xmath , which is an element of @xmath . Then recall
that @xmath is the map defined by @xmath . Then define as in line ( 2.15
) the set

  ------- -- -------- --
  (4.2)      @xmath   
  ------- -- -------- --

Then @xmath too has the structure of a Boolean prealgebra.

Before proceeding to the construction on the modal operator, let’s
briefly note two elementary propositions pertaining to closure
conditions in these Boolean prealgebras:

###### Proposition 4.1.

(Proposition on @xmath being closed under uniform intersections).
Suppose that a sequence @xmath is in @xmath uniformly, in that there is
@xmath from @xmath such that all for all @xmath and @xmath and @xmath
one has @xmath . Then the intersection @xmath is also in @xmath .

###### Proof.

Let @xmath . Then the identity map is a witness to @xmath for all @xmath
and @xmath and @xmath . Then by ( 2.4 ) there is a witness @xmath such
that @xmath for all @xmath and @xmath and @xmath . Then composing @xmath
with the postulated witness @xmath yields a uniform witness @xmath such
that @xmath for all @xmath and @xmath and @xmath . Then since @xmath ,
we also have that @xmath for all @xmath and @xmath . ∎

The following proposition provides a closure condition which we appeal
to repeatedly in what follows. The name we give to this proposition
reflects the fact that it’s not assumed that the antecedent is a member
of the Boolean prealgebra:

###### Proposition 4.2.

(Proposition on Freedom in the Antecedent) Suppose that @xmath and
@xmath . Let @xmath be defined by @xmath . Then @xmath .

###### Proof.

We must show @xmath uniformly in @xmath and @xmath . By ( 2.9 ) and (
2.5 ),

  ------- -- -------- --
  (4.3)      @xmath   
  ------- -- -------- --

which is @xmath since @xmath . Then we have that @xmath and so we are
done. ∎

Now we proceed to the construction of the @xmath operator. This is
defined in terms of the following embedding, which we dub “ @xmath ”
since it’s a helpful mnemonic in this context for “modal” and since it’s
unlikely to be confused with any of our other notation. In Flagg’s
original paper, this map was denoted by @xmath and mentioned in the
proof of Theorem 10.1 on Flagg [ 1985 , p. 139] .

###### Definition 4.3.

Let @xmath be defined by @xmath .

Sometimes we also write the action of @xmath as @xmath instead of @xmath
. Note that @xmath varies with @xmath , but since @xmath ’s definition
is uniform in the underlying set @xmath , we don’t mark this dependence
explicitly in the notation for the map. Further, for any @xmath , let
@xmath be given by @xmath . This allows us to present an equivalent
definition of @xmath as @xmath . The map @xmath also helps to keep track
of the typing, as one can see by consulting Figure 1 which records the
relation between these various maps. Finally, before proceeding, let’s
note that @xmath does indeed have codomain @xmath . It suffices to show
that @xmath . But we may calculate that

  ------- -- -------- --
  (4.4)      @xmath   
  ------- -- -------- --

which is @xmath uniformly in @xmath by ( 2.6 ).

The following proposition records some elementary properties of the
@xmath map. In this, recall that the join and falsum on the codomain
@xmath of @xmath are described in line ( 2.16 ) of Proposition 2.1 .

###### Proposition 4.4.

Let @xmath Then we have:

  ------- -- -------- --
  (4.5)      @xmath   
  (4.6)      @xmath   
  (4.7)      @xmath   
  ------- -- -------- --

  ------- -- -------- -- --
                         
  (4.8)      @xmath      
  (4.9)      @xmath      
  ------- -- -------- -- --

###### Proof.

For ( 4.5 ), first suppose that @xmath . Then uniformly in @xmath we
have that @xmath . Then by ( 2.4 ), uniformly in @xmath and @xmath , we
have that @xmath , which is just to say that @xmath .

For the other direction, suppose @xmath . Then uniformly for @xmath and
@xmath , we have @xmath . In particular, let @xmath . So @xmath . Hence
by line ( 2.5 ) and ( 2.11 ), we have @xmath .

For conjunction, we want to show for all @xmath that @xmath . But this
holds because by ( 2.8 ), we have that @xmath .

For disjunction, first note by line ( 2.5 ) and the basic properties of
join that @xmath , so by line ( 2.4 ) we have @xmath , which is just to
say that @xmath . For the other direction, begin by observing that
@xmath implies that @xmath by ( 4.5 ), so that since @xmath denotes the
join in @xmath we have that @xmath .

For top and bottom, simply note that @xmath uniformly in @xmath by (
2.13 ), and @xmath , since @xmath . ∎

For the definition of the @xmath operator, we need only one further
preliminary definition, namely the @xmath map. This map is designated as
@xmath in the proof of Theorem 10.1 on Flagg [ 1985 , p. 139] .

###### Definition 4.5.

Let @xmath and let @xmath . Define the map @xmath by @xmath .

Finally, we define the @xmath operator as follows (cf. the definition in
Theorem 10.2 of Flagg [ 1985 , p. 140] ):

###### Definition 4.6.

Define the mapping @xmath by @xmath , or equivalently @xmath .

Again, one might consider consulting Figure 1 to aid in keeping track of
the relations between these various maps.

The following proposition gives us some formal indication that the
@xmath operator acts like a modal operator. Recall that valid is a
synonym for having top value in the relevant prealgebra. A schema of
propositional modal logic can be represented by a formula @xmath of
propositional modal logic wherein @xmath are the basic propositional
letters. Let’s then say that a formula @xmath is uniformly valid in
@xmath if there is a single element @xmath of @xmath such that for all
@xmath from @xmath , one has that @xmath is a witness to @xmath having
top value.

###### Proposition 4.7.

All of the axioms and theorems of the propositional modal system @xmath
are uniformly valid on @xmath . Further, (i) one has @xmath implies
@xmath uniformly in @xmath . Finally, (ii) one has @xmath iff there is
@xmath such that @xmath .

###### Proof.

First we show that the modal axioms @xmath are uniformly valid, and then
we verify (i)-(ii), and then we finish the proof by showing that all the
theorems of the propositional modal system @xmath are uniformly valid on
@xmath . For @xmath , it suffices to show that @xmath . First note that
@xmath . Thus one has the following, where the equivalence follows from
line ( 2.8 ) and the inequality follows from line ( 2.4 ):

  -------- -- -------- --
  (4.10)      @xmath   
  -------- -- -------- --

For the @xmath -axiom, it suffices to show @xmath . So suppose @xmath
and note that @xmath by means of the identity function. Then by lines (
2.4 ) and ( 4.1 ) we have @xmath . Finally, for the @xmath -axiom, it
suffice to show that @xmath . By ( 2.5 ), choose a uniform witness
@xmath for all @xmath when @xmath . Then by setting @xmath , we have
that @xmath is also a uniform witness over all @xmath and @xmath for
@xmath . Hence we have:

  -------- -- -------- --
  (4.11)      @xmath   
  -------- -- -------- --

Thus by line ( 2.4 ) one has @xmath .

Turning to (i), suppose first that @xmath . Then @xmath uniformly in
@xmath , so that @xmath and hence @xmath . From this it follows by
line ( 2.4 ) that we uniformly have @xmath , hence @xmath .

For (ii), the first direction is trivial: if @xmath , then let @xmath .
For the converse, suppose that @xmath for some @xmath . Then it suffices
to show @xmath . By the @xmath -axiom we may focus on showing that
@xmath , which by definition is the claim that @xmath . For this it
suffices by ( 2.4 ) to show that @xmath for all @xmath . But this
follows from the fact that ( 2.5 ) holds uniformly.

Finally, we show by induction on length of proof that all of the
theorems of the propositional modal system @xmath are uniformly valid on
@xmath . The base cases correspond to the @xmath axioms and the
classical propositional tautologies; the earlier parts of this proof
handle the former and the prealgebra being Boolean takes care of the
latter. The induction steps amount to showing that the inference rules,
namely modus ponens and necessitation, preserve uniform validity. The
case of modus ponens follows from the axioms governing the conditional
in a Heyting prealgebra. For the necessitation rule, suppose that @xmath
has top value in @xmath uniformly in @xmath . We must then show that
@xmath has top value uniformly in @xmath . But since @xmath has top
value, @xmath . Then by (i), one has @xmath uniformly in @xmath . But by
(ii), one has that @xmath since @xmath by ( 4.8 ). ∎

Finally, we close this section by noting how the @xmath -operator
permits us to describe the behavior of the @xmath -embedding on
conditionals and intersections.

###### Proposition 4.8.

(Proposition on Action of Embedding on Conditionals)

  -------- -- -------- --
  (4.12)      @xmath   
  -------- -- -------- --

###### Proof.

Since @xmath , we have that @xmath . By an application of lines ( 2.4 )
and ( 2.8 ) we have @xmath , i.e., @xmath , which amounts to @xmath .
Then by parts (i)-(ii) of the previous proposition we have @xmath . For
the converse, note that @xmath by line ( 2.5 ), and that this holds
uniformly, which implies that @xmath . Since @xmath uniformly by ( 2.11
), we have by substitution that @xmath . By considering @xmath , we thus
see that @xmath , i.e., @xmath . So @xmath . From this it follows that
@xmath and hence that @xmath . ∎

###### Proposition 4.9.

(Proposition on Action of Embedding on Intersections). Suppose that the
sequence @xmath is such that @xmath is in @xmath . Then @xmath .

###### Proof.

First note that by the monotonicity of @xmath (cf. line ( 4.5 )) and the
definition of @xmath , the desired equivalence follows from the
equivalence @xmath in @xmath . But this equivalence just is @xmath ,
which follows directly from Proposition 3.12 . ∎

## 5 The Status of S5

In Proposition 4.7 , we showed that @xmath was uniformly valid on the
structure @xmath . In this section, we show that @xmath is not uniformly
valid on @xmath , but that there is a special case in which it is valid
in a non-uniform sense. Recall in general that in the setting of @xmath
, the @xmath schema is equivalent to @xmath . Before beginning, let us
define the following element of @xmath :

  ------- -- -------- --
  (5.1)      @xmath   
  ------- -- -------- --

Note that @xmath is nonempty (e.g., it contains at least the identity
element @xmath ).

###### Proposition 5.1.

Given a function @xmath , let us define @xmath to be @xmath . Then one
has that @xmath and

  ------- -- -------- --
  (5.2)      @xmath   
  ------- -- -------- --

###### Proof.

That the two definitions of @xmath are equivalent uses the fact that
@xmath . We will use this fact again repeatedly in what follows. Recall
that in general the symbol @xmath is short for @xmath and that @xmath in
the structure @xmath is shorthand for @xmath . Thus one has @xmath and
hence

  ------- -- -------- --
  (5.3)      @xmath   
  ------- -- -------- --

Now fix @xmath . Then @xmath for all @xmath . If @xmath , then @xmath .
If @xmath , then note that when @xmath , we have

  ------- -- -------- --
  (5.4)      @xmath   
  ------- -- -------- --

Hence, @xmath simplifies to @xmath . ∎

Then let’s show:

###### Proposition 5.2.

@xmath is not uniformly valid in @xmath .

###### Proof.

We define two distinct elements @xmath of @xmath , namely

  ------- -- -------- --
  (5.5)      @xmath   
  ------- -- -------- --

First note that @xmath . In the case of @xmath , any element of @xmath
trivially witnesses @xmath . For the case of @xmath , we have that

  ------- -- -------- --
  (5.6)      @xmath   
  ------- -- -------- --

Now, using the notation of Proposition 5.1 , we have that

  ------- -- -------- --
  (5.7)      @xmath   
  ------- -- -------- --

and

  ------- -- -------- --
  (5.8)      @xmath   
  ------- -- -------- --

where @xmath is defined as in line ( 5.1 ). Hence by Proposition 5.1 ,
we have @xmath and @xmath .

Now suppose for the sake of contradiction that @xmath were uniformly
valid in @xmath . Then there would be an @xmath from @xmath such that
both @xmath and @xmath . Thus for all @xmath and all @xmath , we have
both @xmath and @xmath . The first of these means we have @xmath for
every @xmath . The second of these means that we have @xmath for every
@xmath .

Now let @xmath and @xmath be two distinct members of @xmath . By
Proposition 3.2 , choose @xmath such that @xmath for all @xmath . Then
@xmath is in @xmath , so by the above we have both @xmath and @xmath .
This is a contradiction, because for any @xmath we obtain both @xmath
and @xmath . ∎

Now, there’s a natural enough non-uniform version of validity for @xmath
, and it turns out that it holds when @xmath has exactly one element and
fails whenever @xmath has more than one element:

###### Proposition 5.3.

(I) Suppose that @xmath has more than one element. Then there is @xmath
such that there is no @xmath from @xmath such that @xmath .

(II) Suppose that @xmath has only one element. Then for each @xmath
there is @xmath from @xmath such that @xmath .

###### Proof.

For (I), let @xmath be two distinct elements of @xmath and define à la
equation ( 5.5 ) the following element @xmath :

  ------- -- -------- --
  (5.9)      @xmath   
  ------- -- -------- --

Then the proof proceeds exactly as in the proof of the previous
proposition.

For (II), @xmath is a singleton set @xmath . Let @xmath . Using the
notation of Proposition 5.1 , in case @xmath , we easily have @xmath .
So by Proposition 5.1 , we then have @xmath . In the alternate case,
wherein @xmath , there must be some @xmath such that @xmath . But then
@xmath , so Proposition 5.1 gives @xmath . Let @xmath be any uniform
witness to line ( 2.5 ) and @xmath be any member of @xmath . By
Proposition 3.2 , choose @xmath in @xmath such that @xmath . Hence
@xmath witnesses @xmath . ∎

It’s worth emphasizing that case II of the above proposition is exactly
the situation of @xmath from ( 4.2 ). As we will find in the next
section, the semantics for closed sentences will produce functions
precisely in @xmath . Hence, we will have that @xmath is valid for
sentences in the non-uniform sense.

## 6 The Modal Semantics

In this section, we provide a semantics for modal formulas @xmath by
defining for each such formula a corresponding function @xmath from one
of the Boolean prealgebras @xmath . We begin with the following
definition, which can be found in [Troelstra and van Dalen, 1988 ,
volume 2 Definition 6.2-3 pp. 709-711] , although they work with Heyting
algebras rather than Heyting prealgebras, and they do not include the
information about the quantifiers. The information about the quantifiers
only comes into play in the last clauses of Definition 6.3 and
constraints on the quantifiers are only put in place later in the
section (cf. Definition 6.11 ). In this section, we’ll be working with
arbitrary first-order signatures @xmath , which as usual are just given
by a collection of constant, relation, and function symbols along with a
specification of the arities of the relation and function symbols.

###### Definition 6.1.

Let @xmath be a Heyting prealgebra and let @xmath be a signature. Then
an @xmath -valued @xmath -structure @xmath with quantifier @xmath is
given by an underlying set @xmath , a map @xmath , a map @xmath , and a
distinguished element of @xmath for each constant symbol, a map @xmath
for each @xmath -ary relation symbol @xmath , and a map @xmath for every
@xmath -ary function symbol @xmath , such that for each @xmath -ary
relation symbol @xmath and each @xmath -ary function symbol @xmath , and
all @xmath in @xmath one has

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

Let @xmath be a pca. We are interested in the case of @xmath . In this
setting, there is a natural strengthening of the notion in Definition
6.1 wherein we require that there be uniform witnesses to the above
conditions. So we define:

###### Definition 6.2.

Let @xmath be a signature and let @xmath be a pca. A uniform @xmath
-valued @xmath -structure @xmath with quantifier @xmath is given by an
underlying set @xmath , a map @xmath , a map @xmath , and elements
@xmath from @xmath , and a distinguished element of @xmath for each
constant symbol, a map @xmath and an element @xmath from @xmath for each
@xmath -ary relation symbol @xmath , and a map @xmath and element @xmath
from @xmath for every @xmath -ary function symbol @xmath , such that for
each @xmath -ary relation symbol @xmath and each @xmath -ary function
symbol @xmath , and all @xmath in @xmath one has

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

The following definition contains the semantics for uniform @xmath
-valued structures. We follow the usual conventions in assuming that
each of our languages has a constant symbol for each of the elements in
the model under consideration. As one can see, the quantifier @xmath is
providing the semantics for the existential and universal quantifiers.

###### Definition 6.3.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . For every @xmath -formula @xmath with all free variables
displayed, define the map @xmath , a member of @xmath , inductively as
follows, wherein the base cases for atomics come from Definition 6.2 :

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

  -- -------- -- --
                 
     @xmath      
     @xmath      
     @xmath      
  -- -------- -- --

Then we argue that there are witnesses from the underlying pca for all
the substitutions:

###### Proposition 6.4.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . For every formula @xmath there is an element @xmath of @xmath
such that for all @xmath from @xmath one has

  ------- -- -------- --
  (6.1)      @xmath   
  ------- -- -------- --

###### Proof.

The base step for atomic formulas @xmath follows directly from @xmath in
Definition 6.2 . For @xmath the assertion is trivial. For atomics @xmath
, first by an induction on complexity of terms, one shows that for each
term @xmath one has a uniform witness

  -- -------- --
     @xmath   
  -- -------- --

For instance, if @xmath , then one obtains @xmath which witnesses the
reduction @xmath , by composing @xmath and @xmath from Definition 6.2 in
the pca. Second, suppose that @xmath are terms. Then by using @xmath in
conjunction with @xmath one obtains a uniform witness to the reduction

  -- -------- --
     @xmath   
     @xmath   
  -- -------- --

For the steps corresponding to the propositional connectives, let us
first abbreviate @xmath and @xmath , @xmath , @xmath , and @xmath . For
conjunction, note that @xmath and @xmath implies @xmath . For
disjunction, note that @xmath and @xmath implies the following: @xmath .
For the conditional, one notes first that the inductive hypothesis also
gives @xmath . Then one has @xmath , which of course implies that @xmath
.

For the quantifiers, first consider the existential quantifier, and
suppose that the pair @xmath is in @xmath . Then for some @xmath one has
that @xmath is in @xmath . Then @xmath is in @xmath by induction
hypothesis and so @xmath is in @xmath . For the universal quantifier,
suppose that @xmath is in @xmath . Then for all @xmath one has that
@xmath is in @xmath . Let @xmath , and by Proposition 3.2 choose @xmath
such that @xmath . Then one has @xmath , so that by induction hypothesis
for all @xmath one has that @xmath is in @xmath . ∎

Now we finally come to the modal semantics:

###### Definition 6.5.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath and underlying set @xmath . Then we define the modal @xmath
-valued @xmath -structure @xmath with quantifier @xmath by defining a
valuation map @xmath for each modal @xmath -formula @xmath as follows,
wherein @xmath are @xmath -terms and @xmath is an @xmath -relation
symbol, and where we write the action as @xmath :

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

The following proposition says that, as the name suggests, the valuation
maps lie in the Boolean algebras @xmath and @xmath (defined in ( 4.1 )
and ( 4.2 ) from § 4 ):

###### Proposition 6.6.

(I) For each modal @xmath -formula @xmath with all free variables
displayed, the function @xmath is uniformly in @xmath , in that for each
@xmath there is an element @xmath of @xmath such that for all @xmath
from @xmath and all @xmath from @xmath one has that @xmath .

(II) For each modal @xmath -sentence @xmath , one has that @xmath is an
element of @xmath .

###### Proof.

Let’s begin with (I). This is obvious in the case of the atomics, as
well as in the case of the disjunctions, existentials, and the box since
the @xmath -valuations all begin with @xmath in these cases. For the
universal quantifier, one simply appeals to the induction hypothesis and
the proposition on @xmath being closed under uniform intersections
(Proposition 4.1 ) and the Proposition on Freedom in the Antecedent
(Proposition 4.2 ). The inductive steps for the conjunctions and
conditionals follow easily from lines ( 2.8 ) and ( 2.18 ) along with
the induction hypothesis. This finishes the argument for (I).

For (II), any @xmath -sentence @xmath can be written as @xmath for an
@xmath -formula @xmath and a constant symbol @xmath . By (I), @xmath and
is an element of @xmath , i.e., one has @xmath uniformly in @xmath from
@xmath and @xmath from @xmath . Then by evaluating at constant @xmath ,
we obtain @xmath with @xmath uniformly in @xmath from @xmath . But this
is precisely the condition to be an element of @xmath , as defined in (
4.2 ). ∎

Note that Part (II) of this proposition, in conjunction with Proposition
5.3 , implies that if @xmath is a modal @xmath -sentence, then @xmath
has top value in @xmath , so that @xmath holds for each sentence taken
one by one.

Further, we can do substitution in the modal structure just as in the
original structure:

###### Proposition 6.7.

For every modal @xmath -formula @xmath there is an element @xmath of
@xmath such that for all @xmath from @xmath and all @xmath , one has:

  ------- -- -------- --
  (6.2)      @xmath   
  ------- -- -------- --

###### Proof.

For atomic @xmath , the result follows from Proposition 6.4 and lines (
2.4 ) and ( 2.8 ), since for atomic @xmath one has that Definition 6.2
says that @xmath . The conjunction, conditional, and universal
quantifier cases follow as in the proof of Proposition 6.4 .
Disjunctions and existentials are nearly as straightforward, keeping in
mind the monotonicity of @xmath (line ( 2.4 )). Thus we only need to
verify the condition on @xmath . Without loss of generality, suppose
that @xmath has only one free variable. By the induction hypothesis,
there is an element @xmath of @xmath such that for all @xmath in @xmath
and @xmath in @xmath one has

  ------- -- -------- --
  (6.3)      @xmath   
  ------- -- -------- --

Since infimums are intersections, we can keep this uniformity in the
following:

  ------- -- -------- --
  (6.4)      @xmath   
  ------- -- -------- --

Further this uniformity persists while applying the @xmath -operator:

  ------- -- -------- --
  (6.5)      @xmath   
  ------- -- -------- --

But then this is also a uniform witness to

  ------- -- -------- --
  (6.6)      @xmath   
  ------- -- -------- --

∎

The following proposition is an indicator of the compatibility of the
semantics for the existential and universal quantifiers on the modal
structures, given above in Definition 6.5 . For the non-modal
structures, see Proposition 6.13 below.

###### Proposition 6.8.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . Let @xmath be a modal @xmath -formula. Then on the modal @xmath
-valued @xmath -structure @xmath , both @xmath and @xmath are valid.

###### Proof.

It suffices to prove the first since the second follows by replacing
@xmath with its negation in the first and by negating both sides of the
biconditional. Further, to ease readability, we consider the special
case where the tuple @xmath consists just of a single variable @xmath .
By definition, one has @xmath . By @xmath and ( 2.14 ), one then has the
equivalence, uniform in @xmath and @xmath :

  ------- -- -------- --
  (6.7)      @xmath   
  ------- -- -------- --

Since @xmath is an element of @xmath , one has another equivalence
uniform in @xmath and @xmath :

  ------- -- -------- --
  (6.8)      @xmath   
  ------- -- -------- --

By ( 2.2 ), to show @xmath , it suffices to show

  ------- -- -------- --
  (6.9)      @xmath   
  ------- -- -------- --

By Proposition 3.2 , choose @xmath such that @xmath . Suppose that
@xmath is in the antecedent of ( 6.9 ); we must show that @xmath is in
the consequent. So suppose that @xmath is in @xmath ; we must show that
@xmath is in @xmath . By hypothesis, @xmath is in @xmath and @xmath is
in @xmath for some @xmath from @xmath . Then @xmath is in @xmath , and
so @xmath is in @xmath , which is just to say that @xmath is in @xmath .

For the converse, since @xmath is a member of @xmath , one also has the
equivalence:

  -------- -- -------- --
  (6.10)      @xmath   
  -------- -- -------- --

By Proposition 3.2 , choose @xmath such that @xmath . Suppose that
@xmath is in the right-hand side of ( 6.7 ); we show that @xmath is in
the right-hand side of ( 6.10 ). So suppose that @xmath is fixed and
@xmath is in @xmath and @xmath is in @xmath ; we must show that @xmath
is in @xmath . Then @xmath is in @xmath , and so by the hypothesis on
@xmath , we have @xmath is in @xmath , which is just to say that @xmath
is in @xmath . So we have @xmath . ∎

The following proposition tells us that validities are equivalent to
their necessitations.

###### Proposition 6.9.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . Suppose that @xmath be a modal @xmath -formula such that @xmath
uniformly in @xmath and @xmath . Then @xmath uniformly in @xmath and
@xmath . In particular, suppose that @xmath is a modal @xmath -sentence
such that @xmath uniformly in @xmath . Then @xmath uniformly in @xmath .

###### Proof.

This is an application of Proposition 4.7 .ii, by setting @xmath equal
to the function @xmath and by setting @xmath equal to @xmath . ∎

The next proposition records that the Converse Barcan Formula @xmath (
1.2 ) is valid and that the schema @xmath is valid. While we use the
latter validity less frequently, we do employ it in the proof of Theorem
9.2 and Proposition 11.4 below. For a counterexample to the Barcan
formula ( 1.8 ), see Proposition 8.7 below. It is unknown to us whether
the schema @xmath is valid.

###### Proposition 6.10.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . Then Converse Barcan Formula @xmath ( 1.2 ) and the schema
@xmath are valid on the modal @xmath -valued @xmath -structure @xmath .

###### Proof.

Let’s first argue for the Converse Barcan Formula @xmath ( 1.2 ). Let
@xmath be a modal formula, perhaps with parameters, which we suppress
for the sake of readability. So we must show @xmath , uniformly in
@xmath from @xmath . For all @xmath in @xmath , by taking compositions
we have the following:

  -------- -- -------- --
  (6.11)      @xmath   
  -------- -- -------- --

Then by ( 2.5 ) this is @xmath . Then by moving the @xmath to the
antecedent, and then taking intersections over all @xmath from @xmath
and then applying the @xmath -operator again, we obtain:

  -------- -- -------- --
  (6.12)      @xmath   
  -------- -- -------- --

The antecedent is @xmath and consequent is @xmath , and the latter is
equivalent to @xmath since this is an element of @xmath . (If @xmath had
@xmath parameters, then it would be an element of @xmath ).

Now let’s argue for the schema @xmath . It suffices to find a witness to
the following reduction, uniformly in @xmath and @xmath :

  -------- -- -------- --
  (6.13)      @xmath   
  -------- -- -------- --

But by ( 2.5 ) and ( 2.8 ), we have @xmath , uniformly in @xmath and
@xmath . Further, uniformly in @xmath , the identity function is a
witness to the reductions @xmath , and hence these reductions persist
when prefaced by the @xmath -operator by ( 2.4 ). ∎

The following definition describes a series of constraints that one can
put on the quantifiers @xmath , and the idea of the subsequent theorem
and proposition is that these constraints have consequences for what
schemas of modal predicate logic are valid on the structure. There is no
analogue of this definition in the original Flagg paper. See immediately
after the proof of Theorem 8.5 for a discussion of how this relates to
what is in the original paper.

###### Definition 6.11.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . If one has @xmath , then @xmath is said to be non-degenerate .
If @xmath , then @xmath is said to be uniform . If @xmath uniformly in
@xmath , then the quantifier @xmath is said to be classical . If for all
@xmath -terms @xmath with all free variables displayed there is @xmath
such that @xmath for all @xmath from @xmath , then the quantifier @xmath
is said to be term-friendly .

Obviously, all classical quantifiers are term-friendly and uniform, and
all uniform quantifiers are non-degenerate.

###### Theorem 6.12.

(Soundness Theorem for @xmath and @xmath ). Let @xmath be a uniform
@xmath -valued @xmath -structure with non-degenerate quantifier @xmath .
Then all the theorems of @xmath are valid on the modal @xmath -valued
@xmath -structure @xmath . Further, if @xmath is uniform, then all the
theorems of @xmath are valid on the modal structure.

###### Proof.

The propositional part follows from Proposition 4.7 . For the predicate
part of @xmath , first note that we have @xmath by Proposition 6.10 .
The first axiom for @xmath in Fitting and Mendelsohn [ 1998 , pp.
133-134] is Vacuous Quantification , namely @xmath when @xmath does not
contain @xmath free. But since @xmath is assumed to be non-degenerate,
choose @xmath in @xmath for some @xmath . To define a witness @xmath ,
let @xmath and by Proposition 3.2 choose @xmath such that @xmath . Then
@xmath is a witness. For the converse direction, @xmath suffices since
if @xmath is in @xmath then @xmath is in @xmath for all @xmath , since
if @xmath then @xmath is in @xmath .

The second axiom in Fitting and Mendelsohn [ 1998 , pp. 133-134] is
Universal Distributivity , namely @xmath . But the validity of this
follows straightforwardly by taking compositions. The third axiom is
Permutation , which says that @xmath . Let @xmath , and choose @xmath
such that @xmath ; then @xmath performs the desired reduction.

The fourth axiom is Universal Instantiation Axiom ( 1.3 ) from § 1 . So
one must show that the following has top value:

  -------- -- -------- --
  (6.14)      @xmath   
  -------- -- -------- --

But given an element @xmath of @xmath and an element @xmath of @xmath ,
it of course follows that @xmath is an element of @xmath . Let @xmath ,
and choose @xmath from @xmath such that @xmath by Proposition 3.2 . Then
@xmath is an element of @xmath which sends everything to @xmath in that
@xmath for all @xmath from @xmath . Hence it is a witness to Universal
Instantiation Axiom having top value.

The final components of the deductive system of Fitting and Mendelsohn [
1998 , pp. 133-134] are the rules Modus Ponens and Universal
Generalization . The former follows by the usual considerations related
to composition. The latter is the rule to infer from @xmath to @xmath .
Suppose then that @xmath has top value in @xmath uniformly in @xmath and
@xmath via index @xmath , so that @xmath is in @xmath for all @xmath
from @xmath , uniformly in @xmath and @xmath . Then @xmath is constant
function which sends everything to @xmath . Then this is a witness to
@xmath having top value, in that @xmath is in @xmath for every @xmath
from @xmath .

Now we verify ( 1.5 )-( 1.6 ). Obviously ( 1.5 ) follows from @xmath in
Definition 6.2 and from ( 2.4 ). As for ( 1.6 ), this follows directly
from Proposition 6.7 .

Finally, suppose that @xmath is uniform. It suffices to show that the
free-variable variant @xmath of the Universal Instantiation Axiom has
top value. We must show that we have @xmath uniformly in @xmath . So
suppose that @xmath is in the antecedent. Since @xmath is uniform,
choose an element of @xmath of @xmath . Then for each @xmath and @xmath
, one has that @xmath is an element @xmath . ∎

Sometimes in what follows (cf. Proposition 8.2 , Proposition 10.1 , and
the proof Theorem 9.2 in Appendix C ), we will need to apply a similar
soundness theorem for the uniform @xmath -valued structures themselves.
In the following proposition, the intuitionistic predicate calculus
@xmath with equality is given by the intuitionstic propositional
calculus @xmath formulated in a natural deduction system, together with
the usual natural deduction rules for quantifiers, as well as the
axioms ( 1.5 )-( 1.6 ) for identity (cf. [Troelstra and van Dalen, 1988
, volume 1 p. 48] ).

###### Proposition 6.13.

Suppose that @xmath is a @xmath -valued @xmath -structure with
term-friendly non-degenerate quantifier @xmath .

(I) Suppose that @xmath , …, @xmath are @xmath -formulas, with all free
variables amongst those displayed. Suppose that @xmath . Then the @xmath
-sentence @xmath is valid on @xmath .

(II) Hence, if @xmath , @xmath are @xmath -sentences and @xmath , and if
@xmath are valid on @xmath , then so too is @xmath .

###### Proof.

The proof of (I) is by induction on the length of the derivation. For
the base case, the identity axiom ( 1.5 ) follows from the clause
pertaining to @xmath in Definition 6.2 , while the substitution axiom (
1.6 ) follows from Proposition 6.4 . The other base case is where @xmath
is one of the @xmath , and in this case an appropriate projection
function will witness the validity. The projection functions also allow
one to expand the antecedent as needed.

For the inductive steps, one considers first the propositional rules and
then the quantifier rules. But the propositional rules follow from the
observation made at the outset of § 2 that Heyting prealgebras are sound
for the intuitionstic propositional calculus @xmath . For the quantifier
rules, it will be convenient to abbreviate the antecedent as @xmath and
to drop excess free variables to enhance readability.

For the “for all” elimination rule, we must show that if @xmath is valid
on @xmath then so is @xmath , where @xmath is an @xmath -term. Since
@xmath is term-friendly, choose @xmath such that @xmath for all @xmath
from @xmath . By Proposition 3.2 , choose @xmath such that @xmath .
Supposing that @xmath is in @xmath for all @xmath from @xmath , we must
show that @xmath is in @xmath for all @xmath from @xmath . So suppose
that @xmath from @xmath is fixed and @xmath is in @xmath . Then we must
show that @xmath is in @xmath for all @xmath in @xmath . So let @xmath
in @xmath and suppose that @xmath is in @xmath and @xmath is in @xmath .
We must show that @xmath is in @xmath . By choice of @xmath , this is
the same as showing that @xmath is in @xmath . But by hypothesis on
@xmath , we have that @xmath is in @xmath for all @xmath from @xmath ,
and by hypothesis on @xmath and @xmath , we have that @xmath is in
@xmath , so that we are done.

For the “for all” introduction rule, suppose our induction hypothesis
gives us that @xmath is valid on @xmath ; then we must show that @xmath
is valid on @xmath . By Proposition 3.2 , choose @xmath such that @xmath
. Supposing that @xmath is in @xmath for all @xmath in @xmath , we show
that @xmath is in @xmath for all @xmath in @xmath . So fix @xmath in
@xmath and suppose that @xmath is in @xmath . We must show that @xmath
is in @xmath . So suppose that @xmath in @xmath ; we must show that
@xmath is in @xmath for all @xmath in @xmath . So fix @xmath in @xmath ,
and suppose that @xmath is in @xmath ; then we must show that @xmath is
in @xmath . But by choice of @xmath , this is the same as showing that
@xmath is in @xmath . By hypothesis on @xmath and @xmath and @xmath we
have @xmath is in @xmath , and by hypothesis on @xmath , we have that
@xmath is in @xmath , which is what we wanted to show.

For the “there exists” elimination rule, we must show that if both
@xmath and @xmath are valid in @xmath , then @xmath is valid in @xmath .
But supposing that @xmath and @xmath are witnesses to the former one may
check that @xmath is a witness to the latter, where one chooses @xmath
from Proposition 3.2 such that @xmath . One may do this by beginning
with the antecedent of ( 6.17 ), then moving to ( 6.15 ) reading
left-to-right, and then moving to to ( 6.16 ) reading left-to-right, and
then finishing at the consequent of ( 6.17 ), where the idea is that the
witnesses in the pca are written out below the parts of the formula
which they are realizing.

  -------- -- -------- --
  (6.15)      @xmath   
  (6.16)      @xmath   
  (6.17)      @xmath   
  -------- -- -------- --

This “diagram chase” method of verification is sometimes a helpful
counterpoint to the types of verification exemplified in the previous
two paragraphs.

For the “there exists” introduction rule, we must show that if @xmath is
valid in @xmath for some @xmath -term @xmath , then so is @xmath . Since
@xmath is term-friendly, choose @xmath such that @xmath for all @xmath
from @xmath . Since @xmath is non-degenerate, choose @xmath with @xmath
in @xmath for some @xmath from @xmath . By Proposition 3.2 , choose
@xmath such that @xmath . Supposing that @xmath is in @xmath for all
@xmath from @xmath , we then show that @xmath is in @xmath for all
@xmath . So suppose that @xmath from @xmath is fixed and @xmath is in
@xmath and @xmath is in @xmath . It suffices to show that @xmath is in
@xmath , which by definition of @xmath is to show that @xmath is in
@xmath and @xmath is in @xmath . But both of these follow directly from
our hypotheses on @xmath .

This finishes the proof of part (I). For part (II), suppose @xmath ,
@xmath are @xmath -sentences and @xmath , and that @xmath are valid on
@xmath . Let @xmath be a variable, which we may assume does not appear
in any of these sentences. Then the @xmath -sentence @xmath is also
valid on @xmath , which by part (I) implies that @xmath is valid on
@xmath . But then one may argue just as in the Vacuous Quantification
part of the previous proposition that @xmath is also valid on @xmath ,
since we’re assuming that the quantifier @xmath is non-degenerate. ∎

Let’s now explicitly record the simplifying effect of the classical
quantifiers on the semantics:

###### Proposition 6.14.

Let @xmath be a uniform @xmath -valued @xmath -structure with classical
quantifier @xmath . Then the quantifier clauses in the semantics have
the equivalents @xmath and @xmath . Similarly, the quantifier clauses in
the semantics for the modal @xmath -valued @xmath -structure @xmath have
equivalents @xmath and @xmath .

###### Proof.

A classical quantifier gives @xmath top value uniformly, so these
simplifications follow from the behavior of top in Heyting and Boolean
prealgebras. ∎

We close this section by noting the stability of atomic formulas under
the semantics, together with some helpful characterizations pertaining
to the case of negated atomics, which we will use in Proposition 9.6 to
produce some counterexamples to the stability of negated atomics.

###### Proposition 6.15.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . Let @xmath be an atomic formula. Then

(i) Atomic Formulas are Stable : @xmath .

(ii) Formula for Negated Atomics : One has @xmath uniformly for all
@xmath in @xmath and @xmath in @xmath .

(iii) Formula for Necessitations of Negated Atomics : Suppose that
@xmath is a subclass of @xmath , and for all @xmath in @xmath one has
that @xmath . Then uniformly for all @xmath in @xmath and @xmath in
@xmath one has @xmath .

###### Proof.

For (i) this follows from Proposition 4.7 .ii and the fact that for
atomic @xmath , we have that @xmath (cf. Definition 6.5 ). For (ii), we
simply chase out definitions and appeal to ( 2.14 ) to obtain @xmath .
For the (iii), suppose that @xmath for all @xmath from @xmath . For
@xmath , we then have that @xmath and so @xmath . Hence one then has
that @xmath . ∎

## 7 The Gödel Translation and Flagg’s Change of Basis Theorem

The aim of this section is to show that an important theorem from
Flagg’s original paper, namely [Flagg, 1985 , Theorem 5.4 p. 168] ,
generalizes to semantics from the previous section. In our view, it’s
expedient to separate this theorem into two parts, the first of which
pertains to the Gödel translation (cf. Troelstra and Schwichtenberg [
2000 , p. 288] , Flagg [ 1985 , p. 147] ):

###### Definition 7.1.

(Gödel Translation) For every non-modal @xmath -formula @xmath , we
define its Gödel translation @xmath to be the following modal @xmath
-formula in the same free variables:

  -- -------- --
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

  -- -------- --
              
     @xmath   
     @xmath   
     @xmath   
  -- -------- --

Note that if @xmath is a binary atomic, then by definition we will have
@xmath , and by appealing to the equivalence @xmath in @xmath or @xmath
, we may obtain

  ------- -- -------- --
  (7.1)      @xmath   
  ------- -- -------- --

In the setting of set theory in § 9 , the traditional application will
be to the case in which the binary relation @xmath is just membership
@xmath . Using the standard shorthand @xmath for @xmath and @xmath for
@xmath , we see that existential @xmath -formulas are treated
compositionally by the Gödel translation and universal @xmath -formulas
are treated likewise but with an initial box-operator placed in front:

  ------- -- -------- -------- --
  (7.2)      @xmath   @xmath   
  (7.3)      @xmath   @xmath   
  ------- -- -------- -------- --

Similar remarks apply to @xmath -formulas in the setting of arithmetic
of § 8 , wherein the binary relation is just the less-than relation
@xmath . A related observation that we shall apply often in what follows
is that blocks of quantifiers are treated compositionally by the Gödel
translation, modulo one box operator being placed in front of a block of
universal quantifiers (again appealing to @xmath ):

  ------- -- -------- -------- --
  (7.4)      @xmath   @xmath   
  (7.5)      @xmath   @xmath   
  ------- -- -------- -------- --

Flagg’s result on the Gödel translation was that, in the setting of
arithmetic, a validity on the non-modal structure had a valid Gödel
translation on the modal structure. The below theorem indicates that the
same relationship obtains generally in the semantics described in the
previous section.

###### Theorem 7.2.

Let @xmath be a uniform @xmath -valued @xmath -structure with quantifier
@xmath . Then for every non-modal @xmath -formula @xmath , one has
@xmath . Hence, for every non-modal @xmath -sentence @xmath , one has
that @xmath is valid in the uniform @xmath -valued structure @xmath iff
@xmath is valid on the modal @xmath -valued @xmath -structure @xmath .

###### Proof.

The proof is by induction on the complexity of @xmath . For base cases
@xmath , @xmath , and @xmath , the result follows immediately from the
fact that the Gödel translation is the identity in these cases. For
@xmath a conjunction, disjunction, or conditional, the result follows
from the definitions in the semantics as well as the results in lines (
4.6 ), ( 4.7 ), and ( 4.12 ) about how @xmath acts on conjunctions,
disjunctions, and conditionals.

For the universal quantifier, for the sake of readability consider the
case of @xmath . By the induction hypothesis @xmath . Then we must show
that

  ------- -- -------- --
  (7.6)      @xmath   
  ------- -- -------- --

For the left-to-right reduction, note that we have @xmath by line ( 2.5
) uniformly in @xmath and @xmath . Then this persists when taking
intersections over @xmath and @xmath from @xmath and by adding the
@xmath operator to both sides by line ( 2.4 ). For the converse, first
note that by line ( 2.11 ) we have that @xmath . Hence by applying
@xmath to both sides, this becomes the desired converse.

For the existential quantifier, again consider the case of @xmath . Then
we evaluate @xmath as follows, applying Proposition 3.11 in conjunction
with the induction hypothesis to obtain that @xmath , which is just
@xmath . ∎

The following theorem provides a way of expanding a structure @xmath by
adding a new predicate symbol to represent the necessitation of any
given formula. This will be useful for many of the proofs in the
subsequent sections, since it implies that if any expansion of @xmath
validates a schema @xmath , then the modal structure @xmath validates
the schema @xmath .

###### Theorem 7.3.

(Change of Basis Theorem). Let @xmath be a uniform @xmath -valued @xmath
-structure with quantifier @xmath . Let @xmath be an @xmath -ary modal
@xmath -formula with all free variables displayed and let @xmath be a
new @xmath -ary predicate. Further, define @xmath by @xmath and let
@xmath be the expansion of @xmath to an @xmath -structure by
interpreting @xmath by @xmath . Then (i) @xmath is a uniform @xmath
-valued @xmath -structure with quantifier @xmath , and (ii) the
valuation of the atomic formula @xmath on the modal @xmath -valued
@xmath -structure @xmath is the same as the valuation of the modal
formula @xmath on the modal @xmath -valued @xmath -structure @xmath .

###### Proof.

For (i), we need to ensure that there is an element @xmath of @xmath
such that for all @xmath from @xmath , the element @xmath is a witness
to the following reduction: @xmath . Let @xmath be an element of @xmath
which is a witness to the following, uniformly in @xmath from
Proposition 6.7 : @xmath . Then we have the following:

  -------- -- -------- -------- --
  (7.7)                @xmath   
  (7.8)       @xmath   @xmath   
  (7.9)       @xmath   @xmath   
  (7.10)      @xmath   @xmath   
  (7.11)      @xmath   @xmath   
  -------- -- -------- -------- --

In this, line ( 7.8 ) follows from interpreting @xmath by @xmath .
Further, line ( 7.9 ) follows on its first @xmath -components from
line ( 2.5 ) and on the last component by the identity function (since
we’re dealing with an intersection). Finally, line ( 7.10 ) follows from
the semantics for identity in the modal structure, while line ( 7.11 )
follows from the property of element @xmath . The reduction from ( 7.7 )
to ( 7.11 ) then suffices by taking intersections over all @xmath from
@xmath (since @xmath is defined as an intersection). So this completes
the verification that @xmath is a uniform @xmath -valued @xmath
-structure.

For part (ii) of the proposition, simply note the following, where for
the sake of disambiguation we superscript all the valuations with names
for their structures:

  -------- -- -------- --
  (7.12)      @xmath   
  -------- -- -------- --

In this equation, the first equality follows from the interpretation of
atomics in the modal structures, the second follows from the definition
of @xmath which serves as the interpretation of @xmath , and the last
comes from the definition of the box (cf. Definition 4.5 ). ∎

## 8 Epistemic Arithmetic and Epistemic Church’s Thesis

Let @xmath be a standard enumeration of the primitive recursive
functions, and let @xmath be the signature @xmath . This is the
signature of Heyting arithmetic @xmath (cf. Troelstra and van Dalen [
1988 , volume 1 p. 126] ). In this section we’ll work exclusively with
Kleene’s first model @xmath (cf. § 3 ), and the following structure
shall be the focus of our study:

###### Definition 8.1.

Let @xmath be the uniform @xmath -valued @xmath -structure with domain
@xmath and quantifier @xmath , wherein @xmath and the primitive
recursive functions are interpreted as themselves, @xmath is interpreted
as successor, and equality is interpreted disjunctively:

  ------- -- -------- --
  (8.1)      @xmath   
  ------- -- -------- --

To see that this is indeed a uniform @xmath -valued structure, note that
@xmath can simply be taken to be indexes for the identity function,
while @xmath can be taken to be an index for the function which sends
everything to zero. Note that in the terminology of Definition 6.11 ,
the quantifier @xmath is non-degenerate, non-uniform, non-classical, and
term-friendly. It’s non-degenerate because the union of the @xmath is
non-empty, and by the same token it’s non-uniform because the
intersection of the @xmath is empty. To see that it is non-classical,
suppose there were an index @xmath witnessing @xmath for each @xmath .
Then, e.g., @xmath would be an element of both @xmath and @xmath .
Finally, this quantifier is term-friendly because all the terms @xmath
in the language determine a recursive function with index @xmath , which
witnesses @xmath .

Let @xmath be an expansion of @xmath by any number of new relation or
function symbols. Then an expansion @xmath of @xmath is given by
specifying maps @xmath to provide the interpretation of @xmath for each
new relation symbol, along with interpretations of the new function
symbols. It’s easy to see that any such choice will produce a uniform
@xmath -valued @xmath -structure. For ease of readability, suppose that
a new predicate @xmath is unary. We must show that there is a uniform
witness to the reduction @xmath for all @xmath . If @xmath is empty,
then any index will be a witness to the reduction. However, if it’s not
empty, then @xmath and the sets @xmath and @xmath are equal, so the
second projection function is a witness to the reduction. A similar
argument works for the new atomics produced by new function symbols.
However, note that if one expands the structure by symbols for
non-recursive functions, then one will no longer have witnesses for the
quantifiers being term-friendly. Hence, in this section, we work with
expansions of the signature @xmath to signatures @xmath by new constant,
relation, and function symbols, and we restrict attention to @xmath
-structures @xmath which are expansions of the @xmath -structure @xmath
where the new functions are interpreted by recursive functions.

The first result is that theorems of Heyting arithmetic have top value
on these structures. If @xmath is an expansion of @xmath , then of
course @xmath in that signature simply contains, in addition, the
instances of the induction schema in that signature.

###### Proposition 8.2.

If @xmath is an @xmath -sentence such that @xmath , then @xmath is valid
on @xmath .

###### Proof.

By Proposition 6.13 , it suffices to ensure that the axioms of @xmath in
the expanded signature are valid on the structure. For the axiom @xmath
, note that @xmath is empty and so any index is a witness to @xmath .
The identity function can again be used to verify the universal closures
of any of the defining equations for the primitive recursive functions.
Further, for induction, it suffices to find a witness to the following:

  ------- -- -------- --
  (8.2)      @xmath   
  ------- -- -------- --

So let @xmath be in the antecedent. Simply choose a recursive function
@xmath such that @xmath and @xmath . Then one can verify by induction on
@xmath that @xmath is in @xmath . Since @xmath , this is just to verify
that for all @xmath , one has @xmath . For @xmath , one has that @xmath
which is an element of @xmath by hypothesis. Suppose the result holds
for @xmath , so that @xmath . Let @xmath . Since @xmath and @xmath , it
follows by the hypothesis on @xmath that @xmath . But by definition of
@xmath and @xmath , this is just to say that @xmath . ∎

In these next results, we appeal often to the Gödel translation (cf.
Definition 7.1 ) and to its simple consequences that we noted circa (
7.1 ).

###### Theorem 8.3.

All the theorems of @xmath are valid on the modal structure @xmath .
Further, each instance of the following modal analogue of the induction
axiom is valid on the modal structure @xmath , where @xmath can be any
modal formula:

  ------- -- -------- --
  (8.3)      @xmath   
  ------- -- -------- --

Finally, on the modal structure @xmath , the following is not valid (cf.
( 1.4 )), in that it does not have top value uniformly in @xmath :

  ------- -- -------- --
  (8.4)      @xmath   
  ------- -- -------- --

where recall @xmath denotes the existence predicate, which was defined
immediately following ( 1.6 ).

###### Proof.

As consequences of Heyting arithmetic, the axioms of Robinson’s Q are
valid in the @xmath -valued structure @xmath . Then they are valid on
the modal structure @xmath since they are obviously implied by their
Gödel translation. For instance, the Gödel translation of Q2 is
equivalent to @xmath , which implies Q2 by an application of the @xmath
-axiom. For the induction axiom, we must show that for all modal
formulas @xmath we have a uniform witness to the following reduction,
uniform in @xmath :

  ------- -- -------- --
  (8.5)      @xmath   
  ------- -- -------- --

But the same index used to verify ( 8.2 ) also works in this case. As
for ( 8.3 ), this follows from the Gödel translation of the induction
axiom in conjunction with the Change of Basis Theorem 7.3 .

As for ( 8.4 ), suppose not. Then there would be index which witnesses
the following reduction, uniformly in @xmath and @xmath from @xmath :

  ------- -- -------- --
  (8.6)      @xmath   
  ------- -- -------- --

By appealing to Proposition 3.11 , this is equivalent to:

  ------- -- -------- --
  (8.7)      @xmath   
  ------- -- -------- --

Then by the semantics for identity, there would then be an @xmath
witnessing the reduction @xmath , uniformly in @xmath and @xmath from
@xmath . But by ( 2.5 ), choose @xmath such that @xmath is in @xmath for
all @xmath and all @xmath in @xmath . But then @xmath is an element of
@xmath for all @xmath and @xmath in @xmath . Letting @xmath be an index
for the identity map, by choosing @xmath , one has @xmath is an element
of @xmath for all @xmath , a contradiction. ∎

Let us now record some further notation. In the arithmetical setting,
the @xmath -formulas are the smallest class containing the atomics,
closed under the propositional connectives and closed under bounded
quantifiers—i.e., if @xmath is @xmath , then so are @xmath and @xmath ,
which are respectively abbreviations for @xmath and @xmath . Of course,
in the setting of Heyting arithmetic, we take @xmath to be defined as a
certain atomic, but it provably has all of the usual features, e.g., is
a linear ordering etc. (cf. Troelstra and van Dalen [ 1988 , volume 1
pp. 124 ff] ). Just as one can show, in Heyting arithmetic, that the law
of the excluded middle holds for quantifier-free formulas (cf. Troelstra
and van Dalen [ 1988 , volume 1 pp. 128] ), so can one show the same of
the @xmath -formulas.

Similarly, in the arithmetical setting, the @xmath -formulas are
formulas of the form @xmath where @xmath is @xmath , and the @xmath
-formulas are formulas of the form @xmath , where @xmath is @xmath . If
@xmath is the standard model of arithmetic, then the usual argument from
Gödel’s incompleteness theorems implies that if @xmath is definable by
both a @xmath -formula @xmath and a @xmath -formula @xmath , then for
all @xmath from @xmath one has that @xmath implies @xmath , while @xmath
implies @xmath . This circumstance is sometimes expressed by saying that
the number-theoretic relation @xmath is strongly representable in the
theory @xmath . By Proposition 8.2 , it then follows further that @xmath
implies @xmath is valid in @xmath , while @xmath implies @xmath is valid
@xmath . Hence, we may take any @xmath -definable predicate over the
natural numbers to be definable in the structure @xmath , and we will
express this as the strong representability of @xmath -definable
predicates in the structure @xmath .

The usual argument (cf. Troelstra and van Dalen [ 1988 , volume 1 p.
199, volume 2 pp. 725-726] ) then shows:

###### Proposition 8.4.

Church’s thesis is valid on the structure @xmath :

  ------- -- -------- --
  (8.8)      @xmath   
  ------- -- -------- --

###### Proof.

Suppose that @xmath is a member of the antecedent. This is an
abbreviation for the set @xmath . Then index @xmath on input @xmath
returns an element of @xmath for some @xmath . Hence, the computable
function @xmath returns an element of @xmath for the value @xmath . In
conjunction with strong representability, we can use this to uniformly
obtain a member of the consequent. ∎

###### Theorem 8.5.

@xmath ( 1.1 ) is valid on the modal structure @xmath .

###### Proof.

One proceeds by computing the Gödel translation of ( 8.8 ) in the
particular case where @xmath is an atomic @xmath , which perhaps
contains parameters which are suppressed for the sake of readability.
This is a conditional of the form @xmath , and so its Gödel translation
will be of the form @xmath . So let’s proceed by computing @xmath and
@xmath separately. Since atomics are not changed by the Gödel
translation, we have that @xmath is @xmath . Now let’s turn to @xmath ,
which has the form @xmath . Since @xmath and @xmath are primitive
recursive, we can drop the Gödel translation on these, and similarly for
the atomic @xmath . Hence, in sum, on the modal structure @xmath , we
have

  ------- -- -------- --
  (8.9)      @xmath   
  ------- -- -------- --

Then we obtain @xmath ( 1.1 ) from this by the Change of Basis Theorem
7.3 . ∎

As mentioned in the introductory section, Flagg [ 1985 ] rather
suggested that his result established the consistency of @xmath . See,
in particular, the first rule governing “for all” on [Flagg, 1985 , p.
146] . Given that Theorem 8.3 displays an explicit counterexample to the
free-variable variant ( 1.4 ) of the Universal Instantiation Axiom ( 1.3
), there must obviously be some place where our treatment differs. In
short, Flagg identifies two concepts which we have distinguished, namely
the semantics for identity and the quantifier, and in particular, Flagg
assumes that the semantics for identity are rather defined by @xmath
(cf. the semantics for identity on Flagg [ 1985 , p. 150] ).

Now, as mentioned previously, the Heyting prealgebra @xmath is only two
valued up to equivalence, and so for each particular @xmath , we have
that @xmath . But this equivalence is not uniform, as one can readily
see by the discussion of the first paragraph of this section showing
that the quantifier @xmath is non-classical. But in the uniform @xmath
-semantics, one needs to have that @xmath uniformly, since this is just
the condition pertaining to @xmath in Definition 6.2 . The reason for
our insistence on this condition is that we want @xmath to be valid on
our modal structures, since this is an instance of ( 1.5 ), an axiom of
both @xmath and @xmath .

On the modal structures, the semantics for @xmath is given by @xmath
which by definition is @xmath . This is valid because @xmath from
Definition 6.2 is a witness to the first reduction in @xmath , where the
last reduction follows uniformly in @xmath by ( 2.5 ). By contrast,
@xmath is not uniformly equivalent to @xmath , since if it were then we
would have a uniform witness @xmath to the reduction @xmath , and by
taking @xmath to be an index for the identity function we would have
@xmath for any @xmath , a contradiction. Thus if one follows Flagg in
defining @xmath and one further defines @xmath , then @xmath would not
be valid, and thus the semantics would not be sound for @xmath .
However, from Flagg’s definition of his deductive system, it seems that
@xmath is a consequence of this deductive system (cf. first rule for
identity on Flagg [ 1985 , p. 145] ).

Another subtlety is that Flagg seems to suggest that one should define
identity in the modal structure by @xmath (cf. clause (I) of identity in
Flagg [ 1985 , Definition 4.2 p. 162] ). However, this is not an element
of the Boolean algebra @xmath . For, suppose that one has uniformly in
@xmath from @xmath and @xmath from @xmath that @xmath . But by choosing
@xmath , one has that this reduction can be rewritten as @xmath and
since @xmath , this implies that the sets @xmath are not disjoint as
@xmath varies, which is patently false.

For these reasons, we have deviated from Flagg’s own treatment by
distinguishing between the role of the quantifier and the role of the
semantics for the identity relation, and we insist that there always be
uniform witnesses for the identity relation.

To close off this section, let’s now note a result about the stability
of @xmath -formulas, and its consequences for the Barcan Formula. It’s
also helpful to note this because it shows us that in the proof of
Proposition 8.5 , it wasn’t important that we took the Kleene
T-predicate to be represented as a primitive recursive term, but rather
we could have used any @xmath -formula witnessing the strong
representability of the Kleene @xmath -predicate. This proposition is
stated in Flagg [ 1985 , p. 149] :

###### Proposition 8.6.

The @xmath -formulas are stable in the modal structure @xmath and are
moreover equivalent to their Gödel translations. That is, for every
@xmath -formula @xmath , we have that @xmath is valid in the modal
structure @xmath .

###### Proof.

For this proof, let’s work axiomatically in the expansion @xmath of
@xmath by the Gödel translations of all theorems of @xmath . By the
earlier results in this section, all the theorems of @xmath are valid on
the modal structure.

First we show that the results hold for all @xmath -formulas by
induction on complexity of formulas. For atomics this follows from the
stability of atomics and fact that the Gödel translation doesn’t change
atomics. The inductive steps for conjunction and disjunction follow
trivially from the inductive hypotheses and @xmath .

For conditionals, suppose that the result holds for @xmath and @xmath .
It then suffices to show @xmath . Since, as mentioned above, @xmath
proves @xmath , we have that the Gödel translation of this sentence
holds in @xmath , and this is equivalent to @xmath since @xmath is by
induction hypothesis equivalent to its own Gödel translation and stable.
In the case where @xmath holds we can then infer from @xmath to @xmath
and hence to @xmath by induction hypothesis, then to @xmath . In the
case where @xmath holds, we may directly infer that @xmath .

For the case of the bounded quantifiers, suppose that the result holds
for @xmath and consider the case of the universal quantifier. Define the
formula @xmath . It suffices to show that @xmath and @xmath . Since
@xmath proves @xmath , it also proves @xmath . Now suppose that @xmath ;
we must show that @xmath . But since @xmath proves @xmath , it also
proves the necessitation of this. Hence in @xmath , the formula @xmath
is equivalent to @xmath , which follows from induction hypothesis. The
case of the bounded existential quantifier, and the case for the @xmath
-formulas is exactly similar. ∎

The following proposition complements Proposition 6.10 . One of Kleene’s
original examples of a sentence of arithmetic which was true but not
realizable pertained to the halting set (cf. Kleene [ 1945 , §9 pp.
115-116] , Kleene [ 1943 , p. 71] ). The idea of the below proof is to
use Kleene’s halting set example to show the invalidity of the Barcan
Formula.

###### Proposition 8.7.

It is not the case that the Barcan Formula @xmath ( 1.8 ) is valid on
the modal @xmath -valued @xmath -structure @xmath .

###### Proof.

So suppose that this was valid. This reductio hypothesis in conjunction
with Proposition 6.10 implies that @xmath is also valid.

Consider the halting set @xmath , which for the sake of definiteness we
take to have membership conditions @xmath iff @xmath , where @xmath is
again Kleene’s @xmath -predicate. But then we can argue that “every
number is either in or not in the halting set” is equivalent to its own
Gödel translation:

  -------- -- -------- -------- --
  (8.10)      @xmath   @xmath   
  (8.11)      @xmath   @xmath   
  (8.12)      @xmath   @xmath   
  (8.13)      @xmath   @xmath   
  (8.14)      @xmath   @xmath   
  (8.15)      @xmath   @xmath   
  (8.16)      @xmath   @xmath   
  (8.17)      @xmath   @xmath   
  -------- -- -------- -------- --

In this, the inference from ( 8.10 ) to ( 8.11 ) follows from dropping
the boxes via the @xmath -axiom, and the next step is just by
manipulating the quantifiers in the usual way that is permitted in
classical logic. The inference from ( 8.12 ) to ( 8.13 ) follows from
Proposition 8.6 , and the inference from ( 8.13 ) to ( 8.14 ) follows
from the reductio hypothesis. The inference from ( 8.14 ) to ( 8.15 )
follows from Proposition 8.6 again, and the inference from ( 8.15 ) to (
8.16 ) follows again from the reductio hypothesis, and the final step is
again by usual equivalences in classical logic.

Since @xmath proves that “every number is either in or not in the
halting set,” it is valid on the modal @xmath -valued @xmath -structure
@xmath . Since it is equivalent on this structure to its Gödel
translation, by Theorem 7.2 this sentence is valid on the @xmath -valued
@xmath -structure @xmath .

Let @xmath be a witness to this validity, and note that @xmath iff
@xmath , and @xmath iff @xmath . By Proposition 3.2 , choose @xmath such
that @xmath . Then for all @xmath , one has that @xmath iff @xmath ,
while @xmath iff @xmath , contradicting the non-computability of the
halting set. ∎

As mentioned in the introductory section, Theorem 1.2 is then a direct
consequence of this proposition in conjunction with Theorem 8.5 and
Theorem 8.3 .

## 9 Epistemic Set Theory and Epistemic Church’s Thesis

Letting @xmath be an arbitrary pca, in this section we look at the
modalization of a uniform @xmath -valued set-theoretic structure, with
the goal being to establish Theorem 1.5 . So let @xmath be a pca and let
@xmath be strongly inaccessible. Then we define the following sequence
of sets:

  ------- -- -------- --
  (9.1)      @xmath   
  ------- -- -------- --

This definition is due to McCarty [ 1984 , p. 87] , McCarty [ 1986 , p.
157] in the case of @xmath . The observation that McCarty’s construction
essentially works without modification for an arbitrary pca @xmath is
indicated in Rathjen [ 2006 , §5 p. 293] . Obviously the definition in (
9.1 ) mirrors that of the Boolean-valued models of set theory, e.g.,
Bell [ 1985 , p. 21] .

As usual, we define the rank of an element of @xmath to be the least
@xmath such that @xmath contains it. By an easy induction on rank, one
sees that all elements of @xmath are subsets of @xmath for some @xmath .
We use the notation @xmath for the set-theoretic ordered pair, so that
@xmath iff @xmath for some @xmath and @xmath . This shouldn’t be
conflated with the pairing element @xmath in the pca @xmath itself.

In this section, we always work with the classical quantifier @xmath .
Hence as mentioned in Proposition 6.14 , this has the effect of removing
the expression @xmath from the clauses for @xmath and @xmath . Further,
the natural signature for the structure @xmath is the signature @xmath
consisting just of the binary membership relation. Hence, to put a
uniform @xmath -valued structure on @xmath , it suffices to specify the
interpretation of the identity function and the binary membership
relation. One does this by defining the maps @xmath and @xmath
recursively by the following, which again may with profit be compared to
the case of the Boolean valued models of set theory in Bell [ 1985 , p.
23] :

  ------- -------- -------- -------- --
  (9.2)            @xmath   @xmath   
          @xmath   @xmath            
  ------- -------- -------- -------- --

Further, for a set @xmath , we let @xmath be the set of @xmath such that
@xmath for some @xmath , and similarly, we let @xmath be the set of
@xmath such that @xmath for some @xmath . Hence, one has that @xmath and
@xmath .

Now we can verify that this generates a uniform @xmath -valued
structure. While the statement of this proposition uses notions specific
to this paper (such as uniform @xmath -valued structures), in the case
of @xmath , its proof is that of McCarty [ 1984 , 92-95] , and resembles
the usual proof of substitution in Boolean-valued models, as in Bell [
1985 , Theorem 1.17 p. 24] . We include the proof in Appendix C , since
much of the modal semantics rides on uniformity considerations and since
these uniformity considerations aren’t explicit in the statement of the
results in the unpublished McCarty [ 1984 , 92-95] , and while they are
explicit in the statement of the results in Rathjen [ 2006 , Lemma 4.2
p. 291] a complete proof is not given there.

###### Proposition 9.1.

@xmath is a uniform @xmath -valued @xmath -structure.

###### Proof.

See Appendix C . ∎

The following theorem is due to McCarty in the case of @xmath . In this
case, the result is stated without proof in McCarty [ 1986 , Proposition
3.1 p. 158] , while the proof is given in McCarty [ 1984 , pp. 96-97] ,
which remains unpublished. Hence, for the sake of completeness, we give
the proof in Appendix C . In the statement of McCarty’s theorem, the
theory @xmath has as axioms the usual @xmath axioms, but with collection
in lieu of replacement, and with the induction scheme instead of the
foundation axiom (cf. McCarty [ 1984 , p. 58] , McCarty [ 1986 , p. 158]
). The reader should be warned that in other sources, such as Beeson [
1985 , Chapter VIII] , the name “ @xmath ” is rather used for a
two-sorted theory, with one sort for numbers and another for sets. It’s
also worth mentioning that the only place where we employ the hypothesis
that @xmath is in the verification of collection.

###### Theorem 9.2.

All the theorems of @xmath are valid on the uniform @xmath -valued
@xmath -structure @xmath , and indeed on any expansion of this
structure.

###### Proof.

Again, see Appendix C . ∎

Since we’re always working with classical quantifiers in this section,
by Theorem 6.12 the modal structures will be sound for @xmath . Thus in
the modal theories considered in this section, the background modal
predicate logic will be @xmath (as opposed to @xmath ). Now we show that
this structure models the epistemic set theory @xmath (cf. Definition
1.4 ), which forms part of Theorem 1.5 :

###### Proposition 9.3.

All the axioms of @xmath are valid on the modal @xmath -valued @xmath
-structure @xmath .

###### Proof.

For Axiom I (Modal Extensionality), this is implied by the Gödel
translation of the usual axiom of extensionality, since we can write its
antecedent in a @xmath -fashion, namely as @xmath , keeping in mind the
observations on Gödel translations of @xmath -formulas from ( 7.1 ).

As for Axiom IV (Pairing) and Axiom V (Union) of @xmath , note first
that the usual non-modal versions of pairing and union assert the that
for any set @xmath there is a set @xmath , wherein the graph of the
function @xmath may be written in a @xmath -fashion. Then Axioms IV
and V will follow directly from Gödel translations of the usual
non-modal versions of pairing and union. The arguments for Axiom VII
(The Modal Power Set Axiom) and Axiom VIII (Infinity) are exactly
parallel, where for the latter we make use of the second part of
Proposition 6.10 to get the second existential quantifier behind the
initial box operator.

The final axioms of @xmath are Comprehension @xmath , Collection @xmath
, and Scedrov’s Modal Foundation (Axiom III). We give the argument for
Comprehension @xmath , since the arguments for the other two are
similar. For Comprehension @xmath , first consider the following
instance of ordinary non-modal comprehension, wherein we assume that the
formula @xmath is atomic, perhaps in a signature extending that of set
theory, and where for the sake of simplicity we assume that there is
only one parameter variable:

  ------- -- -------- --
  (9.3)      @xmath   
  ------- -- -------- --

The Gödel translation of this implies the following, which is thus valid
on the modal structure augmented with an interpretation for the atomic:

  ------- -- -------- --
  (9.4)      @xmath   
  ------- -- -------- --

Now suppose that @xmath is an arbitrary modal formula. By Flagg’s Change
of Basis Theorem 7.3 , we have the following is valid on the structure:

  ------- -- -------- --
  (9.5)      @xmath   
  ------- -- -------- --

∎

In the remainder of the section, we build towards the proof of the other
parts of Theorem 1.5 . Given the previous proposition, it suffices then
to establish a failure of the stability of negated atomics and the
validity of @xmath ( 1.1 ) in the case @xmath , and we do this in
Proposition 9.6 and Proposition 9.8 . In doing this, we work with the
ersatzes of the individual natural numbers and the set of natural
numbers within @xmath . We first recall the definition of the so-called
Curry numerals in a pca @xmath [van Oosten, 2008 , Definition 1.3.2 p.
12] , which can easily be shown to be distinct in any pca:

  ------- -- -------- --
  (9.6)      @xmath   
  ------- -- -------- --

Like in McCarty [ 1984 , Definition 3.6 pp. 105-106] , one then defines
corresponding elements of @xmath as follows:

  ------- -- -- --
  (9.7)         
  ------- -- -- --

As one can see by inspection of the proof of Theorem 9.2 presented in
Appendix C , these are the witnesses to the axiom of infinity in @xmath
.

First let’s note the elementary proposition:

###### Proposition 9.4.

For all @xmath , one has (i) @xmath iff @xmath , and (ii) @xmath iff
@xmath .

###### Proof.

For the left-to-right direction of (i), suppose that @xmath . Then
@xmath and so @xmath , where @xmath is an element of @xmath such that
@xmath for any @xmath . For the left-to-right direction of (ii), we have
that @xmath for any element @xmath of the structure.

For the right-to-left direction, first consider a third condition: (iii)
@xmath iff @xmath . Then we argue by simultaneous induction on @xmath ,
that the right-to-left directions of (i)-(iii) hold. For the base case,
consider @xmath . For (i), since @xmath , we have that @xmath . For
(ii), if @xmath then @xmath which implies that @xmath . For (iii),
suppose that @xmath but not @xmath . Then @xmath and so @xmath and then
@xmath .

Now suppose that the result holds for @xmath ; we show it holds for
@xmath . For (i), suppose that @xmath . Choose @xmath in @xmath . Then
there is @xmath with @xmath with @xmath . Then there is @xmath with
@xmath and @xmath . Then @xmath implies @xmath by the induction
hypothesis for part (ii). Then @xmath , which is what we wanted to show.

For (ii), suppose that @xmath . Choose @xmath . Since @xmath , we have
that @xmath , so that @xmath by the induction hypothesis for (iii).
Choose @xmath . Then for all @xmath , one has that @xmath and so by the
previous paragraph (i.e. the @xmath case for (i)), we have that @xmath .
Thus in particular @xmath , so that @xmath . Hence collecting all this
together, we have that @xmath , so that @xmath .

For (iii), suppose that @xmath . Choose @xmath in @xmath . Then there is
@xmath with @xmath with @xmath . Then there is @xmath with @xmath and
@xmath . Then @xmath and so by the previous paragraph (i.e. the @xmath
case for (ii)), we have that @xmath . Then @xmath , which is what we
wanted to show. ∎

To develop our counterexample to the stability of negated atomics (cf.
Proposition 9.6 ), we need to work not only with the ersatzes of the
natural numbers, but also with ersatzes of subsets of natural numbers.
Hence, for any @xmath , let @xmath be the characteristic function of
@xmath , defined by @xmath if @xmath and @xmath if @xmath .

###### Proposition 9.5.

For any @xmath , define @xmath , which is an element of @xmath . Then
@xmath for all @xmath .

###### Proof.

First suppose that @xmath . Then there is @xmath with @xmath and @xmath
. Then @xmath for some @xmath . But since @xmath we have @xmath by the
previous proposition, so that @xmath , so that @xmath with @xmath ,
which is what we wanted to show. For the converse containment, simply
note that if @xmath then @xmath is a witness to @xmath , so that @xmath
. ∎

Finally, we have the counterexample to the stability of negated atomics,
which is part of Theorem 1.5 :

###### Proposition 9.6.

In the modal @xmath -valued @xmath -structure @xmath , it is not the
case that for every negated atomic formula @xmath , we have that @xmath
. In particular, a counterexample is the negated atomic formula “ @xmath
.”

###### Proof.

Suppose not. Then there would be an index @xmath such that for all
@xmath in @xmath and all @xmath from @xmath , one has that there is a
uniform witness to @xmath . For any @xmath and any @xmath one has that
@xmath is non-empty by the previous proposition. Then by Proposition
6.15 (ii)-(iii), for all @xmath , @xmath and @xmath from @xmath , one
has that there is a uniform witness to @xmath . But taking @xmath , one
has that for all all @xmath , @xmath , there is a uniform witness @xmath
to @xmath . Let @xmath be an index for the identity function, so that
@xmath is in @xmath for all @xmath and @xmath . Then by choosing a pair
of distinct numbers @xmath , the previous proposition implies that
@xmath is equal to both @xmath and @xmath , a contradiction. ∎

In these last two propositions of this section, we work over Kleene’s
first model @xmath . We begin with the following proposition from
McCarty [ 1984 , p. 158] , whose proof we include for the sake of
completeness:

###### Proposition 9.7.

On any expansion of the uniform @xmath -valued structure @xmath , the
following is valid:

  ------- -- -------- --
  (9.8)      @xmath   
  ------- -- -------- --

###### Proof.

Suppose that @xmath . Then for all @xmath , one has that @xmath is in
@xmath . Then by definition of @xmath one has that for all @xmath that

  ------- -- -------- --
  (9.9)      @xmath   
  ------- -- -------- --

where @xmath is the program such that @xmath for all @xmath . Then let
@xmath be the indexes for the program such that for all @xmath one has
@xmath and @xmath . Then @xmath are total. Hence, for each @xmath one
may compute @xmath such that @xmath . Since these are recursive, one may
effectively find from @xmath a proof of @xmath from @xmath , and then
@xmath returns an element of @xmath . ∎

###### Proposition 9.8.

On the modal structure @xmath , the following is valid:

  -------- -- -------- --
  (9.10)      @xmath   
  -------- -- -------- --

###### Proof.

By invoking the previous proposition, the proof is exactly the same as
in the arithmetic case in § 8 , using the Change of Basis Theorem 7.3
and the stability of formulas which are @xmath -definable in the
signature of arithmetic in exactly the same way. ∎

As mentioned in the introduction, Theorem 1.5 follows from this
proposition and the earlier Proposition 9.3 and Proposition 9.6 .

## 10 Troelstra’s Elementary Analysis and Kleene’s Second Model

Now we focus on building models of fragments of second-order arithmetic
with very limited amounts of comprehension. This will be relative to the
pca @xmath , namely Kleene’s second model (cf. § 3 ), and we shall
concentrate our efforts on the theory of elementary analysis @xmath
studied by Troelstra (cf. Troelstra [ 1977 , §§3.3, 3.4 pp. 982-983] ,
Troelstra and van Dalen [ 1988 , volume 1 §3.6 pp. 144 ff] , Troelstra [
1998 , §2.5 pp. 425-426] ).

Let us extend the single-sorted signature of Heyting arithmetic @xmath
by second sort reserved for functions from natural numbers to natural
numbers. The modal semantics developed in § 6 carries over
straightforwardly to the many-sorted setting. Since there are only two
sorts, we’ll simply reserve the lower-case Roman letters @xmath for
numbers and we’ll reserve the lower-case case Greek letters @xmath for
functions from natural numbers to natural numbers. The only primitive
that we add to the signature is the application function @xmath , which
takes a number-theoretic function @xmath and a number @xmath and
evaluates @xmath at @xmath .

We work with the standard model of second-order arithmetic, which we
call @xmath . In this, the number sort is interpreted as @xmath and the
function sort is interpreted as Baire space @xmath . The elements of the
signature of Heyting arithmetic are interpreted exactly the same as in §
8 , except that they are taken to be @xmath -valued instead of @xmath
-valued. In many treatments of second-order arithmetic, equality for
second-order objects would be defined in terms of coextensionality.
However, since the modal semantics of § 6 always has identity built-in,
we go ahead and assume that identity terms between functions are
well-formed and interpreted disjunctively just as in ( 8.1 ).

The application function @xmath is interpreted by the usual application
function given by the metatheory. The same argument as deployed
vis-à-vis first-order arithmetic in § 8 shows that @xmath is a uniform
@xmath -valued structure, and that any expansion @xmath of @xmath by new
function or relation symbols is similarly a uniform @xmath -valued
structure. As for the quantifiers, here we must proceed a little
differently from § 8 , since the quantifiers must map each element of
the domain to a subset of @xmath instead of @xmath . Recall from § 3
that @xmath is the clopen through the finite string @xmath in Baire
space, so that @xmath .

We then define the quantifiers in @xmath as @xmath and @xmath , so that
@xmath and @xmath provide us with two distinct partitions of Baire
space. Using the terminology from Definition 6.11 , it’s easy to see
that these quantifiers are non-degenerate, non-uniform, and
non-classical (where these notions are relativized to sorts in the
obvious way). They are also term-friendly, providing that we only
introduce new recursive number-theoretic functions, like in § 8 , and
providing that we don’t introduce any new functions defined on
second-order objects outside of the application function. For, assuming
this, it then suffices to show that there is @xmath in @xmath such that
@xmath for all @xmath and @xmath . Since the function @xmath given by
@xmath is a continuous function, by Proposition 3.3 .I choose @xmath
such that @xmath . Then by Proposition 3.2 choose @xmath such that
@xmath . This is why the quantifiers on this structure are
term-friendly.

###### Proposition 10.1.

All of the axioms of @xmath are valid on the structure @xmath , as well
as the following recursion axiom and choice schema and law of the
excluded middle for the new atomics:

  -------- -- -------- --
  (10.1)      @xmath   
  (10.2)      @xmath   
  (10.3)      @xmath   
  -------- -- -------- --

###### Proof.

Again, by Proposition 6.13 , it suffices to verify the validity of the
axioms. For @xmath , the proof proceeds much as in the proof of
Proposition 8.2 , modulo needing to work with @xmath instead of @xmath .
In parallel to equation ( 8.2 ), for induction it suffices to find a
witness to the following:

  -------- -- -------- --
  (10.4)      @xmath   
  -------- -- -------- --

For each @xmath , by Proposition 3.2 choose @xmath such that @xmath .
Then by Proposition 3.3 .II, the map @xmath has @xmath domain @xmath and
is continuous on this domain. Define a partial function of three
variables @xmath by @xmath and @xmath . We claim that @xmath has @xmath
domain and is continuous on this domain. Since the domains @xmath of
@xmath are disjoint and separated by opens, it suffices to show by
induction on @xmath that @xmath is partial continuous and that its
domain @xmath is @xmath . For @xmath , this is trivially the case.
Suppose it holds for @xmath . To show it holds for @xmath , define
@xmath which is continuous on @xmath by induction hypothesis. Then
@xmath iff both @xmath and @xmath , which is @xmath by induction
hypothesis. Further @xmath is continuous on @xmath since it is the
composition of two continuous functions. So indeed @xmath has @xmath
domain and is continuous on this domain. Then by Proposition 3.3 .I
there is a @xmath such that @xmath . By Proposition 3.2 , choose @xmath
such that @xmath . Now, to verify ( 10.4 ), suppose that @xmath is in
the antecedent of this reduction, so that @xmath and @xmath . Then an
easy induction on @xmath shows that @xmath is in the consequent of this
reduction.

For the recursion axiom ( 10.1 ), for ease of readability, consider the
specific case where @xmath has been fixed ahead of time, and let’s find
a witness to the following reduction, uniformly in @xmath :

  -------- -- -------- --
  (10.5)      @xmath   
  -------- -- -------- --

Define a function @xmath by @xmath and @xmath . Then @xmath is
continuous iff @xmath is continuous, wherein @xmath denotes the
projection onto the @xmath -th component, so that @xmath , and wherein
@xmath is given the discrete topology. Clearly @xmath is continuous
since it is a constant function. Suppose that @xmath is continuous. Then
@xmath is open since it’s a union of sets which are an intersection of a
clopen and an open. Hence @xmath is indeed continuous. By Proposition
3.3 .I there is a @xmath such that @xmath . Choose @xmath such that
@xmath is a uniform witness to @xmath . By Proposition 3.2 choose @xmath
such that @xmath . Let’s verify that @xmath is a witness to ( 10.5 ). So
suppose that @xmath is given. Then by construction @xmath and so @xmath
and @xmath , so that @xmath . Then by construction, @xmath is an element
of @xmath for all @xmath , which finishes the argument for the recursion
axiom ( 10.1 ).

For the choice schema ( 10.2 ), we must find a witness to the following
reduction:

  -------- -- -------- --
  (10.6)      @xmath   
  -------- -- -------- --

Define a partial map @xmath by @xmath . For each @xmath , by Proposition
3.2 , there is @xmath such that @xmath . By Proposition 3.3 .II, this
map is continuous on its @xmath domain @xmath , and hence its projection
@xmath onto its zero-th component is also continuous with @xmath domain
@xmath , where we view @xmath as having the discrete topology. Then
@xmath has @xmath domain @xmath and @xmath is continuous. By Proposition
3.3 .II, there is @xmath such that @xmath . Similarly, there is @xmath
such that for all @xmath and @xmath and @xmath one has @xmath . By
Proposition 3.2 choose @xmath such that @xmath . Suppose that @xmath is
in the antecedent of ( 10.6 ). Then we show that @xmath is in the
consequent of ( 10.6 ). For each @xmath , there is @xmath such that
@xmath is in @xmath , so that @xmath is in @xmath and @xmath is in
@xmath . Then by the definition of @xmath and @xmath , we have @xmath ,
and for all @xmath we have @xmath . Hence indeed @xmath is in the
consequent of ( 10.6 ), which finishes the verification of the choice
schema ( 10.2 ).

For the law of the excluded middle for the new atomics ( 10.3 ), first
define @xmath by @xmath if @xmath , while @xmath otherwise. Then clearly
@xmath is continuous and so by Proposition 3.3 .I, choose @xmath such
that @xmath . It suffices to show that @xmath is in @xmath for all
@xmath and @xmath . Fix @xmath and @xmath and @xmath ; we must show that
@xmath is in @xmath . So suppose that @xmath ; we must show that @xmath
is in @xmath . If @xmath then @xmath and so @xmath and hence @xmath is
in @xmath . If @xmath then @xmath and so @xmath and @xmath and hence
@xmath is in @xmath . ∎

Now, if @xmath is term, then @xmath is valid in the structure @xmath ,
since the quantifiers in this structure are term-friendly. Hence by the
axiom of choice ( 10.2 ), one has that there is @xmath such that @xmath
. Hence, without loss of generality, we may assume that we have @xmath
-terms in the language, and write @xmath in lieu of @xmath . These
satisfy @xmath -conversion @xmath since @xmath . Similarly, we may
assume that we have a term @xmath which provides a witness to the
recursion axiom ( 10.1 ). Further, by a conceptually-slight but
notationally-heavy modification of the proof of the recursion axiom (
10.1 ), one may replace the base case @xmath by a term @xmath with
@xmath -parameter places and obtain a modified version of the recursion
axiom which reads as follows:

  -------- -- -------- --
  (10.7)      @xmath   
  -------- -- -------- --

In this, one thinks of the elements @xmath of Baire space as taking
@xmath -many inputs by using a primitive recursive pairing function on
natural numbers, which is available in the structure due to it
validating Heyting arithmetic @xmath . Proceeding in this fashion, one
then introduces the term @xmath for the @xmath from ( 10.7 ).

Troelstra’s development of the theory @xmath of elementary analysis
proceeded deductively rather than semantically, and so it was natural
for him to work in a logic enriched by @xmath -terms and the recursion
terms @xmath . Since we can introduce these terms as abbreviations, it’s
then a consequence of the above proposition that all the theorems of
@xmath are valid on the definitional expansion of @xmath induced by
these abbreviations. See the citations in the beginning paragraph of
this section for references to Troelstra’s explicit description of the
syntax and axioms of @xmath .

Troelstra further developed the basics of oracle computability in @xmath
, and showed for instance that if we define @xmath in the natural @xmath
-way in arithmetic as @xmath , then one can show in @xmath that @xmath ,
where the left-hand side is written out in terms of oracle computations
and where @xmath can be taken to be the same index as in ( 3.1 )
[Troelstra and van Dalen, 1988 , volume 1 §§3.7.9-3.7.10 p. 157] .
Another consequence which it is useful to take note of is that the usual
Normal Form Theorem for oracle computation is provable in @xmath
[Troelstra and van Dalen, 1988 , volume 1 §§3.7.6 p. 155] .

These observations allow us to establish the following helpful
proposition, where in part (I), the expression “ @xmath ” in the context
@xmath is an abbreviation for “ @xmath ,” where @xmath is the
oracle-computability version of Kleene’s @xmath -predicate given by the
Normal Form Theorem, and where both @xmath and @xmath may be represented
by a term in the signature of @xmath (using the @xmath -terms and @xmath
-terms introduced above). Further, in part (II) of this proposition, the
expression “ @xmath ” in the context @xmath is an abbreviation for
@xmath .

###### Proposition 10.2.

(I) For every index @xmath there is @xmath such that for all @xmath one
has @xmath implies @xmath . (II) Hence, there is @xmath such that for
all @xmath one has that @xmath implies @xmath .

###### Proof.

First let’s note why (II) follows from (I). By (I), one has that @xmath
implies @xmath . Since @xmath is continuous, by Proposition 3.3 .I,
choose @xmath such that @xmath . Then by Proposition 3.2 , let @xmath be
such that @xmath . Then @xmath implies @xmath . By the remark in the
previous paragraph, we have that @xmath is identical to @xmath .

Now we prove (I). Choose index @xmath so that @xmath on input @xmath
with oracle @xmath searches for a halting computation of @xmath on input
@xmath with oracle @xmath . By Proposition 3.3 .I, choose @xmath such
that @xmath . The function @xmath which on input @xmath returns @xmath
for @xmath is a partial continuous function with @xmath domain, and so
by Proposition 3.3 .I, choose @xmath with @xmath . Then @xmath , so that

  -------- -- -------- --
  (10.8)      @xmath   
  -------- -- -------- --

Let @xmath be any witness for @xmath . By Proposition 3.2 , choose
@xmath such that @xmath . Suppose that @xmath . It suffices to show that
@xmath is a witness to @xmath for all @xmath . Suppose that @xmath .
Then by ( 10.8 ) we have @xmath for @xmath . By definition of @xmath ,
it follows that @xmath is a halting computation of @xmath on input
@xmath with oracle @xmath , so that @xmath and since @xmath by
hypothesis, also @xmath . Then by the semantics for the atomics, it
follows that @xmath , so that @xmath is in this set. ∎

In Troelstra [ 1998 , p. 427] , it is noted that in discussions of
Kleene’s second model @xmath , the role of Church’s Thesis is taken over
by the following schema, which is called generalized continuity :

###### Proposition 10.3.

In @xmath , the following Generalized Continuity schema is valid:

  -------- -- -------- --
  (10.9)      @xmath   
  -------- -- -------- --

###### Proof.

It suffices to show that there is witness such that when given an
element @xmath of

  --------- -- -------- --
  (10.10)      @xmath   
  --------- -- -------- --

returns an element of the set

  --------- -- -------- --
  (10.11)      @xmath   
  --------- -- -------- --

By Proposition 3.2 choose @xmath so that @xmath , so that if @xmath is
an element of ( 10.10 ) then @xmath and both @xmath and @xmath for all
@xmath . By Proposition 3.2 , choose @xmath such that @xmath , where
@xmath is from part II of the previous proposition. Then similarly, let
@xmath such that @xmath . Then we claim that @xmath is the desired
witness. So let @xmath be from ( 10.10 ); we must show that @xmath is
in ( 10.11 ). For this it suffices to show that @xmath is an element of:

  --------- -- -------- --
  (10.12)      @xmath   
  --------- -- -------- --

Let @xmath . Then since @xmath , by the previous proposition, we have
that @xmath is in @xmath , where we keep in mind from the discussion
prior to the previous proposition that the syntax of “ @xmath ” in the
context @xmath is not an atomic. Finally, as remarked above, we also
have that @xmath , and so we are done. ∎

Using the apparatus constructed thus far, we can then deduce the
consistency of @xmath and an epistemic version of generalized
continuity:

###### Theorem 10.4.

In @xmath , all the theorems of @xmath are valid, as is

  --------- -- -------- --
  (10.13)      @xmath   
  --------- -- -------- --

###### Proof.

As for the theorems of @xmath , the argument proceeds just as in the
proof of Theorem 8.3 , using Proposition 10.1 in lieu of Proposition 8.2
. As for ( 10.13 ) this follows directly from taking the Gödel
translation of ( 10.9 ) in the case of an atomic and applying the Change
of Basis Theorem 7.3 . In particular, Proposition 8.6 holds on this
structure as well, so that since @xmath in ( 10.13 ) is a @xmath
-formula, it’s implied by its own Gödel translation. The reason that
Proposition 8.6 holds on this structure is that the law the excluded
middle holds for the new atomics by ( 10.3 ). ∎

## 11 Scott’s Graph Model of the Untyped Lambda Calculus

To illustrate the generality of our construction, let’s consider now
Scott’s graph model @xmath described in § 3 . Since in this pca the
application operation ( 3.2 ) is total, there is a natural way of
viewing @xmath as a uniform @xmath -valued structure in the sparse
functional pca signature @xmath (cf. immediately after Proposition 3.2
for a definition of this signature). On the uniform @xmath -valued
@xmath -structure, we interpret identity disjunctively as in ( 8.1 ),
and we use the quantifier @xmath which is non-degenerate, non-uniform,
and non-classical (cf. Definition 6.11 ). Further, it is term-friendly
by Proposition 3.2 .

Then in parallel to Proposition 3.7 , we can show that

###### Proposition 11.1.

On the uniform @xmath -valued @xmath -structure @xmath , all of the
following axioms are valid: @xmath and @xmath and @xmath and @xmath and
the Meyer-Scott axiom @xmath .

###### Proof.

For @xmath , it suffices to find an element of @xmath . But in fact any
element of @xmath is an element of this set. For, suppose that @xmath is
given; we must show that @xmath . So suppose that @xmath is given; we
must show that @xmath . But since @xmath is true, we have @xmath , and
so trivially @xmath . A similar argument works in the case of @xmath ;
and the validity of the identities @xmath and @xmath follows trivially
since they are true in the classical model. For the Meyer-Scott Axiom,
it suffices to find a witness to the reduction @xmath , uniformly in
@xmath . But again, any element @xmath will do. For, suppose that @xmath
is an element of @xmath ; we must show that @xmath is in @xmath . But
for all @xmath , we have that @xmath is in @xmath , so that it is true,
and hence since the Meyer-Scott axiom holds classically, we have that
@xmath is true, and so @xmath , and so @xmath . ∎

Similar to the previous sections, it’s convenient to consider expansions
@xmath of @xmath by new relation or function symbols, which are for the
same reasons still uniform @xmath -valued structures; and for the same
reasons as in the previous sections, here too we refrain from
introducing function symbols which violate term-friendliness. Then we
have that the following choice principle holds on these expansions.
However, note that in this choice principle, “ @xmath ” is literally the
atomic formula, and so the proof of this choice principle is less
involved than the proof of Proposition 10.3 .

###### Proposition 11.2.

On the uniform @xmath -valued @xmath -structure @xmath , the following
choice principle holds for any formula in the signature:

  -------- -- -------- --
  (11.1)      @xmath   
  -------- -- -------- --

###### Proof.

By Proposition 3.2 , choose @xmath from @xmath such that @xmath and
@xmath and @xmath . Then @xmath is a witness to the reduction. For,
suppose that @xmath is a member of the antecedent. Then for all @xmath
one has that @xmath . Define @xmath , and let @xmath be arbitrary. Then
by construction @xmath . Further, if we define @xmath , we have that
@xmath and hence @xmath . Hence, since @xmath was arbitrary we have that
@xmath . Since @xmath , we then have that @xmath . ∎

###### Proposition 11.3.

On the modal @xmath -valued @xmath -structure @xmath , all of the
following axioms are valid: @xmath and @xmath and @xmath and @xmath and
the modal version of the Meyer-Scott axiom @xmath . In addition, one has
the following choice principle, for any modal formula in the signature:

  -------- -- -------- --
  (11.2)      @xmath   
  -------- -- -------- --

However, Meyer-Scott axiom itself @xmath is not valid on @xmath .

###### Proof.

The positive parts of the proposition follow from the Gödel translation
and Flagg’s Change of Basis Theorem, by considerations which are by now
routine. For the negative part, suppose for the sake of contradiction
that the Meyer-Scott axiom itself @xmath was valid on @xmath . By
Proposition 3.8 , fix @xmath such that @xmath and for all @xmath one has
@xmath . Since @xmath uniformly, for each @xmath we would have @xmath
uniformly, and similarly @xmath uniformly. Then our reductio hypothesis
yields a witness @xmath to the reduction @xmath uniformly in @xmath and
@xmath . But since @xmath is the identity function in pcas, one has that
@xmath is a member of @xmath for all @xmath . But then taking @xmath ,
we have that @xmath for all @xmath , a contradiction. ∎

###### Proposition 11.4.

On the modal @xmath -valued @xmath -structure @xmath , the negated
atomics are not stable, and in particular the negated atomic @xmath is
not stable.

###### Proof.

Scott [ 1975 ] p. 174 showed that the “paradoxical combinator” @xmath
used by Curry in his eponymous paradox (cf. Barendregt [ 1981 , Appendix
B pp. 573 ff] ) is such that for all continuous @xmath one has @xmath ,
where @xmath (cf. Proposition 3.6 .I). By Proposition 3.6 .I & IV,
choose @xmath in @xmath such that @xmath for all @xmath from @xmath .
Putting these two things together, one has that @xmath for all @xmath
from @xmath . By Proposition 3.2 , choose @xmath in @xmath such that
@xmath for all @xmath in @xmath . Then @xmath is a witness to the
validity of @xmath on the uniform @xmath -valued @xmath -structure
@xmath .

The Gödel translation of this is @xmath which is thus valid on the modal
@xmath -valued @xmath -structure @xmath . In conjunction with the
stability of identity and ( 11.2 ), this implies that the following is
valid on the modal @xmath -valued @xmath -structure @xmath :

  -------- -- -------- --
  (11.3)      @xmath   
  -------- -- -------- --

If one applies this to @xmath , then because @xmath is valid on the
modal @xmath -valued @xmath -structure @xmath , so too is

  -------- -- -------- --
  (11.4)      @xmath   
  -------- -- -------- --

Suppose now for the sake of contradiction that the negated atomic @xmath
was stable. This implies that @xmath is valid on the modal @xmath
-valued @xmath -structure @xmath . In conjunction with the previous
equation, we then obtain the validity of @xmath , which implies

  -------- -- -------- --
  (11.5)      @xmath   
  -------- -- -------- --

But by choosing distinct @xmath in @xmath , our reductio hypothesis
gives that @xmath , which implies @xmath , which by Proposition 6.10
implies @xmath , which contradicts the previous equation. ∎

## 12 Conclusions and Further Questions

Drawing the comparison to modal logic prior to Kripke semantics, Horsten
once reported the concern about @xmath ( 1.1 ) and related systems that
“in the absence of a clear and unifying semantic framework there is the
suspicion […] that we don’t know what we are talking about” [Horsten,
1998 , p. 24] . While one can always adopt an instrumentalist attitude
towards semantics, it’s hard not to have some sympathy for Horsten’s
remark, and it’s our hope that the realizability semantics developed
here, which we take to generalize Flagg’s 1985 construction, can add to
our understanding of @xmath ( 1.1 ). On the one hand, we’ve tried to do
so by making transparent how, e.g., these semantics don’t validate the
Barcan Formula @xmath ( 1.8 ) or the stability of non-identity (cf.
Proposition 8.7 and Proposition 11.4 ), but they do validate the
Converse Barcan Formula @xmath ( 1.2 ) and the stability of identity and
other atomics (cf. Proposition 6.10 and Proposition 6.15 ). On the other
hand, we’ve sought to specify the senses in which the Flagg construction
does not depend crucially on the ordinary model of computation over the
natural numbers. One degree of freedom is that we can vary the partial
combinatory algebra over which we are working, and we can rather work
over Kleene’s second model or Scott’s graph model of the untyped
lambda-calculus (cf. §§ 10 - 11 ). But we can also vary the base theory
from Flagg’s original setting of arithmetic to the setting of set theory
using McCarty’s construction (cf. § 9 ).

But there is obviously much that is left unresolved by this paper. Four
issues in particular seem especially noteworthy. First, one would like
some understanding of how complex the consequence relation is for the
modal semantics developed here. Given that the semantics for the box
operator is defined in terms of intersections over arbitrary subsets of
the underlying pca (cf. Definitions 4.5 and 4.6 ), one suspects that the
induced consequence relation might be rather complex, and showing that
it was not computably enumerable would be good evidence that there is no
natural completeness theorem for these semantics.

Second, given the centrality of the stability of atomics to the Flagg
construction, the considerations of this paper tell us nothing about the
consistency of @xmath ( 1.1 ) plus the failure of the stability of
atomics against the background of an epistemic set theory. (See Flagg [
1985 , p. 149] for a discussion of the stability of atomics against the
background of an epistemic arithmetic.)

Third, the main open technical question about @xmath ( 1.1 ) is whether
it plus epistemic arithmetic is a conservative extension of Peano
arithmetic @xmath (cf. Horsten [ 1997 , p. 649] , Horsten [ 1998 , p.
20] , Horsten [ 2006 , p. 260] , Halbach and Horsten [ 2000 , Question 1
p. 462] ). But the conservation of a given system over a subsystem can
often be established by showing that any model of the subsystem can be
expanded into a model of the given system. Because of this, as well as
due to its intrinsic interest, one would want to know whether the model
of @xmath constructed in § 8 validates all the same arithmetical truths
as the standard model of arithmetic.

Fourth and finally, we indicated in § 1 how the stability of atomics
motivated the modification @xmath of Goodman and Scedrov’s theory @xmath
, and in § 9 we showed that modal versions of McCarty’s model, which is
closely related to the Boolean-valued models of set theory, validated
this theory @xmath . However, Martin once suggested that “[…] a
Boolean-valued model would hardly seem to be a contender for the
universe of sets” [Martin, 2001 , p. 15] . While the philosophical
interpretation of Boolean-valued models is currently being debated, one
might reasonably want some further assurance that @xmath had the right
to the name of a set theory at all, and for this it would be natural to
show that it actually interpreted ordinary set theory @xmath , or at
least some fragment of this.

## Appendix A Appendix: Proposition on Kleene’s Second Model

Here is the proof of Proposition 3.3 , which we stated in § 3 in the
context of describing Kleene’s second model @xmath but only used in § 10
:

###### Proof.

For (I) in the case of @xmath , let @xmath , where @xmath is open. Let
@xmath be the @xmath -th projection @xmath , so that @xmath is
continuous where @xmath is given the discrete topology. For each @xmath
, choose open @xmath such that @xmath . Define @xmath by @xmath if
@xmath and @xmath for all @xmath and @xmath is the least with this
property, and @xmath if there is no such @xmath . Suppose that @xmath
and @xmath and @xmath , so that @xmath . Choose least @xmath such that
@xmath where @xmath , and note that there is no @xmath with this
property since it would then imply that @xmath was equal to both @xmath
. Then @xmath and @xmath for all @xmath . Hence @xmath . Finally, note
that if @xmath , then @xmath is undefined. For, if @xmath , then choose
@xmath with @xmath . Then @xmath for all initial segments @xmath of
@xmath , and so @xmath is undefined.

For (I) in the case of @xmath and @xmath , see van Oosten [ 2008 , Lemma
1.4.1 p. 16] . Then by applying this to the homeomorphism @xmath given
by @xmath , one obtains @xmath such that @xmath .

Now let’s show (I) in the case of @xmath and @xmath being @xmath . Its
image @xmath under @xmath is also @xmath , and @xmath defined by @xmath
is also continuous. Then by (I) in the case of @xmath , one has that
there is @xmath such that @xmath for all @xmath in @xmath . Then @xmath
for all @xmath in @xmath . By Proposition 3.2 , choose @xmath such that
@xmath . Then @xmath is the desired witness, and so we are done with the
case @xmath .

To finish the proof of (I), suppose that the result holds for @xmath .
To show it holds for @xmath , suppose that @xmath is @xmath . Then its
image @xmath under the homeomorphism @xmath given by @xmath is also
@xmath . Further the function @xmath defined by @xmath is continuous.
Then by induction hypothesis, choose @xmath such that @xmath for all
@xmath in @xmath . Then one has @xmath . Then by Proposition 3.2 ,
choose an element @xmath such that @xmath . Then @xmath is the desired
witness.

For (II), for the case @xmath , it follows from ( 3.1 ). For the case of
@xmath , @xmath is in the domain the map iff (i) @xmath is in the domain
of the map @xmath and (ii) for all @xmath there is @xmath such that the
following three @xmath -conditions in oracle @xmath occur: (ii.1) for
all @xmath there is @xmath such that @xmath , and (ii.2) @xmath and
(ii.3) @xmath . Note that condition (ii.1) is @xmath in the oracle since
the @xmath -formulas are closed under bounded quantifiers. Since
conditions (i)-(ii) are @xmath in the oracle, it follows that the domain
in the case @xmath is @xmath and thus @xmath . For continuity, suppose
that @xmath where @xmath is in the domain of the function. Then by case
@xmath , we have @xmath . Suppose that we are trying to secure agreement
with @xmath up to length @xmath . Choose @xmath such that @xmath for all
@xmath . Then choose @xmath large enough so that if @xmath , then @xmath
agrees with @xmath up to length @xmath and @xmath agrees with @xmath up
to length @xmath . ∎

## Appendix B Appendix: Heyting Prealgebras and Uniformity

In this section, we briefly set up a logic in which to state and prove
quantifier-free facts about Heyting prealgebras, and in this logic we
prove ( 2.4 )-( 2.14 ), and we connect this to the discussion of uniform
witnesses in Heyting prealgebras from § 3 . The well-formed formulas of
this logic are simply the quantifier-free formulas in the language of
Heyting prealgebras without equality , and the deduction rules are the
simply the usual natural deduction rules for the intuitionistic
propositional calculus @xmath together with the substitution rule “from
@xmath infer @xmath .” The axioms of Heyting prealgebras are naturally
quantifier-free, and so for instance the axiom governing the conditional
may be written

  ------- -- -------- --
  (B.1)      @xmath   
  ------- -- -------- --

Let us call the system formed by this logic and the quantifier-free
versions of the axioms of Heyting prealgebras the system elementary
Heyting prealgebras or @xmath . It’s obviously just a Heyting-prealgebra
analogue of primitive recursive arithmetic @xmath (cf. Troelstra and van
Dalen [ 1988 , volume 1 §3.2 120 ff] ).

First let’s begin by noting some more elementary consequences of @xmath
:

###### Proposition B.1.

@xmath proves ( 2.1 )-( 2.3 ) and hence each are true on any Heyting
prealgebra.

###### Proof.

For, equation ( 2.1 ) follows from ( B.1 ) by setting @xmath equal to
@xmath . For equation ( 2.2 ), suppose @xmath ; we want to show @xmath .
By equation ( B.1 ) this is equivalent to @xmath . But since @xmath , we
have @xmath , where the second reduction comes from equation ( 2.1 ).
Finally, equation ( 2.3 ) follows from two applications of equation (
2.1 ). ∎

Using this more elementary proposition, we may then establish:

###### Proposition B.2.

@xmath proves ( 2.4 )-( 2.14 ), so that these are true on all Heyting
prealgebras.

###### Proof.

For equation ( 2.4 ), suppose that @xmath . Then by equation ( 2.2 ), we
have @xmath . Then by equation ( 2.2 ) again, we have @xmath . Then
@xmath .

For equation ( 2.5 ), note that by equation ( B.1 ), it is equivalent to
@xmath , which follows immediately from equation ( 2.1 ).

For equation ( 2.6 ), let @xmath be @xmath . Then by equation ( 2.1 ),
we have @xmath . Since @xmath is @xmath we have @xmath . We thus have
that @xmath . By equation ( B.1 ), it follows that @xmath or @xmath .
From this we argue that @xmath , where the last reduction comes from
equation ( 2.1 ). By equation ( B.1 ), this thus yields that @xmath .

For equation ( 2.7 ), we want to show that @xmath . But we already have
@xmath from equation ( 2.6 ). To see @xmath , we note that we have
@xmath from equation ( 2.5 ), and applying equation ( 2.4 ) with @xmath
equal to @xmath , we obtain @xmath .

For equation ( 2.8 ), let us first show that @xmath . Since @xmath is
defined in Heyting prealgebras as the infimum, it suffices to show that
@xmath and @xmath . But these both follow directly from equation ( 2.4
), since @xmath and @xmath . Now we show the converse, namely @xmath .
By equation ( B.1 ), this is equivalent to

  ------- -- -------- --
  (B.2)      @xmath   
  ------- -- -------- --

which by expanding is equivalent to

  ------- -- -------- --
  (B.3)      @xmath   
  ------- -- -------- --

By two applications of equation ( B.1 ) we can get @xmath . Hence we may
argue from this and equation ( 2.3 ) to equation ( B.3 ) by noting that
@xmath .

For equation ( 2.9 ), note that we have by equation ( 2.1 ) that @xmath
. By equation ( 2.4 ), we have @xmath . By equation ( 2.8 ) we obtain
@xmath . Then by equation ( B.1 ), we have @xmath .

For equation ( 2.10 ), since @xmath is defined in Heyting prealgebras as
the supremum, it suffices to show that @xmath and @xmath . But these
both follow from equation ( 2.4 ), since @xmath and @xmath .

For ( 2.11 ), note that @xmath implies that @xmath . Hence one has that
@xmath .

For equation ( 2.12 ), note that it is equivalent to @xmath . But by
equation ( B.1 ) this is equivalent to @xmath , which follows directly
from @xmath being a lower bound. Note that equation ( 2.13 ) follows
directly from equation ( 2.5 ) since this implies @xmath and we always
have the converse.

For equation ( 2.14 ), first note that @xmath is equivalent to @xmath by
( B.1 ). But this follows from @xmath by ( 2.5 ) and ( 2.1 ). Second
note that @xmath is equivalent to @xmath by ( B.1 ). But since @xmath ,
this follows from  ( 2.1 ).

∎

Now we formally justify the claim, made initially in § 3 but used
throughout the paper, that there are uniform witnesses to the reductions
in ( 2.4 )-( 2.14 ). In the statement of this proposition, recall that
the ample relational signature for pcas was introduced immediately after
Proposition 3.2 .

###### Proposition B.3.

Suppose that @xmath are two terms in the signature of Heyting
prealgebras. Suppose that @xmath proves @xmath . Then there is a closed
term @xmath in the ample relational signature of pcas such that for all
pcas @xmath and all non-empty sets @xmath and all @xmath in @xmath , one
has @xmath .

###### Proof.

In the context of this proof, for @xmath let’s write @xmath as @xmath .
Let’s further inductively define @xmath for all @xmath from @xmath and
all formulas @xmath of @xmath as follows:

  ------- -- -------- -------- --
  (B.4)      @xmath   @xmath   
  (B.5)      @xmath   @xmath   
  (B.6)      @xmath   @xmath   
  ------- -- -------- -------- --

and where we say that that no @xmath from @xmath is such that @xmath .
It then suffices to show by induction on length of proofs that if @xmath
, then there is closed term @xmath such that for all pcas @xmath and all
non-empty sets @xmath and all @xmath in @xmath , one has @xmath . To aid
in readability, we’ll write @xmath for @xmath , and we’ll drop the free
variables from @xmath when not needed.

One base case is where @xmath is one of the axioms of Heyting
prealgebras, which are taken care of by the closed terms @xmath
mentioned immediately after Definition 3.9 . Another base case is where
@xmath is one of the @xmath , in which case we may take @xmath to be an
appropriate projection function.

The induction steps correspond to the introduction and elimination rules
of the intuitionistic propositional calculus @xmath and the substitution
rule. For the “and” introduction rule, by Proposition 3.2 , choose
@xmath such that @xmath . Then @xmath implies @xmath . Similarly, for
the “and” elimination rule, by Proposition 3.2 choose @xmath such that
@xmath . Then @xmath implies @xmath .

For the “or” introduction rule, by Proposition 3.2 choose @xmath such
that @xmath and @xmath . Then @xmath implies @xmath , while @xmath
implies @xmath . For the “or” elimination rule, by Proposition 3.2
choose @xmath such that @xmath , so that @xmath and @xmath , so that
@xmath serves to distinguish cases. By Proposition 3.2 , choose @xmath
such that @xmath . Suppose that @xmath and @xmath . Suppose that @xmath
. Then @xmath . Then @xmath for @xmath or @xmath for @xmath . In the
former case @xmath and @xmath , so that in sum @xmath and clearly @xmath
. The argument in the latter case is analogous.

For the “arrow” introduction rule, by Proposition 3.2 choose @xmath such
that @xmath . Then @xmath implies @xmath . For the elimination rule,
@xmath and @xmath together imply @xmath .

For the ex falso rule, suppose that @xmath . Since no @xmath from @xmath
is such that @xmath , it follows from ( B.6 ) that there is no @xmath
such that @xmath , since otherwise @xmath would be such that @xmath .
Hence, it follows that @xmath for any @xmath , again by ( B.6 ).

For the substitution rule, suppose that @xmath with @xmath being a
witness to the inductive hypothesis, so that for all pcas @xmath and all
non-empty sets @xmath and all @xmath in @xmath one has @xmath . Let
@xmath be a term in the signature of Heyting prealgebras. Then by taking
@xmath , one has @xmath for all pcas @xmath and all non-empty sets
@xmath and all @xmath in @xmath . ∎

## Appendix C Appendix: McCarty’s Theorem

The purpose of this brief appendix is to present a self-contained proof
of Proposition 9.1 and Theorem 9.2 . For references to McCarty’s
original work, see the discussion prior to the statements of these
results in § 9 . We begin with the proof of Proposition 9.1 :

###### Proof.

So it suffices to find @xmath (for “reflexivity”, “symmetry,”
“transitivity”, and “indiscernability”) such that for all @xmath from
@xmath we have @xmath , @xmath , @xmath , @xmath .

For @xmath , by the recursion theorem [van Oosten, 2008 , Proposition
1.3.4 p. 12] , choose an index @xmath such that @xmath . We show that
@xmath for all @xmath by induction on rank, so that we can set @xmath .
Suppose it holds for all sets in @xmath of lower rank than @xmath .
Suppose that @xmath . Then @xmath has lower rank than @xmath , so @xmath
. Then we have @xmath , and so @xmath . Since @xmath was arbitrary, we
thus have @xmath . A similar argument shows @xmath and so @xmath .

Symmetry is trivial since it is witnessed by @xmath , which exists by
Proposition 3.2 .

For transitivity, by Proposition 3.2 , choose @xmath from @xmath such
that @xmath . By the recursion theorem [van Oosten, 2008 , Proposition
1.3.4 p. 12] , choose @xmath such that

  -- -------- -------- --
     @xmath   @xmath   
     @xmath   @xmath   
  -- -------- -------- --

We argue by induction on rank. So suppose that @xmath and @xmath . We
must show that @xmath and @xmath . We focus on the first since the other
is similar. For this we must show that if @xmath then @xmath . So
suppose that @xmath . Since @xmath , we have that @xmath . Let @xmath .
Since @xmath there is @xmath with @xmath and @xmath . Since @xmath and
@xmath , we have @xmath . Then @xmath and there is @xmath with @xmath
and @xmath . By induction hypothesis @xmath . Then @xmath . Hence @xmath
. Now, note that @xmath , and @xmath and @xmath . From this and what was
said earlier in the paragraph, we are then done with the verification
that @xmath is the witnesses to transitivity.

Now it remains to define @xmath . So apply Proposition 3.2 to obtain
@xmath and @xmath such that @xmath , @xmath . So suppose that @xmath and
@xmath and @xmath . It suffices to show that @xmath . Since @xmath ,
there is @xmath such that @xmath and @xmath . Since @xmath we have
@xmath , or what is the same @xmath . Now, since @xmath and @xmath , it
follows that @xmath . If we write @xmath then it follows that there is
@xmath with @xmath and @xmath . Since @xmath and @xmath we have that
@xmath . Since @xmath , we thus have @xmath , which is to say that
@xmath . ∎

Before going onto the proof of Theorem 9.2 , we need only one small
preliminary proposition, which is from McCarty [ 1984 ] Lemma 6.2 p. 92.

###### Proposition C.1.

1.  

2.   (i) For all @xmath and all @xmath , if @xmath then @xmath for some
    @xmath .

3.   (ii) If @xmath and @xmath , then @xmath .

4.   (iii) If @xmath then @xmath .

5.  

###### Proof.

The proof of (i)-(iii) is by simultaneous induction on @xmath . The zero
and limit steps are trivial. So suppose the result holds for @xmath ; we
show that it holds for @xmath .

For (i), suppose that @xmath . Then @xmath . Suppose that @xmath .
Choose @xmath , so that there is @xmath with @xmath and @xmath . Then
@xmath and so by the induction hypothesis for (ii) we have that @xmath .

For (ii), suppose that @xmath and that @xmath with witness @xmath .
Suppose that @xmath . It suffices to show that @xmath since then we
would have @xmath . Recall that in the proof of Proposition 9.1 , we
showed that there is an index @xmath such that @xmath for all @xmath .
Then @xmath implies @xmath . Then by appeal to @xmath being a uniform
@xmath -valued structure and substitution therein (Proposition 6.4 in
conjunction with Proposition 9.1 ), choose @xmath such that for all
@xmath one has @xmath . Then @xmath . Then by the induction hypothesis
for (i) and (iii), we have that @xmath .

For (iii), it suffices by induction hypothesis to show that @xmath . So
suppose that @xmath , and suppose that @xmath . Then @xmath and so
by (i) there is @xmath such that @xmath and so by induction hypothesis
we have @xmath . Hence @xmath which is just to say that @xmath is an
element of @xmath . ∎

Here, finally, is the proof of Theorem 9.2 , which of course resembles
the proof that the axioms of set theory are valid on Boolean-valued
models from e.g. [Bell, 1985 , pp. 37 ff] :

###### Proof.

By Proposition 6.13 , it suffices to show that the axioms of @xmath are
valid. Recall that in the proof of Proposition 9.1 , we showed that
there is an index @xmath such that @xmath for all @xmath . This index
@xmath is fixed throughout this proof.

To verify extensionality, by Proposition 3.2 choose @xmath such that
@xmath and @xmath . Suppose @xmath . We must show that @xmath , or what
is the same that @xmath and @xmath . This is equivalent to showing that
@xmath implies @xmath and @xmath implies @xmath . We verify the first
since the proof of the other is identical. So suppose that @xmath . Then
taking @xmath we trivially have @xmath . Then @xmath . Since @xmath we
have that @xmath , so that we are now done verifying extensionality.

For pairing, suppose that @xmath are members of @xmath . Fix an element
@xmath of @xmath . Then @xmath is a member of @xmath . By Proposition
3.2 , consider @xmath such that @xmath . Then we may verify that @xmath
. For, by setting @xmath and @xmath we have @xmath and @xmath . This
finishes the verification of pairing.

For the union axiom, let @xmath in @xmath be given and then set @xmath .
Then @xmath is in @xmath by Proposition C.1 . By Proposition 3.2 ,
choose @xmath such that @xmath . Then we show that @xmath is the witness
to the reduction @xmath . So suppose that @xmath is in @xmath . Then by
taking @xmath we have that @xmath . Then @xmath .

For power set, let @xmath in @xmath be given and set @xmath . By
Proposition C.1 , choose @xmath such that @xmath and @xmath implies
@xmath . Supposing that @xmath , we first show that @xmath . So suppose
that @xmath . Then taking @xmath we have @xmath , so that @xmath . Then
by hypothesis on @xmath , we have that @xmath . Hence @xmath and thus
@xmath . Thus indeed @xmath for all @xmath . Hence @xmath . Now
consider, just as in the verification of the union axiom, the element
@xmath such that @xmath . Then we show that @xmath is the witness to the
reduction @xmath . So suppose that @xmath . Then taking @xmath we have
that @xmath . Hence @xmath .

For separation, let @xmath in @xmath and a formula @xmath in the
signature be given, which perhaps has parameters from @xmath . Define
@xmath . Again by similar appeal to Proposition C.1 , @xmath is an
element of @xmath . Then by appeal to @xmath being a uniform @xmath
-valued structure and substitution therein (Proposition 6.4 in
conjunction with Proposition 9.1 ), let @xmath be an element witnessing
the substitution @xmath . Suppose that @xmath . Then @xmath . Then by
definition of @xmath , we have @xmath . Then @xmath . Hence @xmath is
also a witness to the reduction @xmath . Conversely, suppose that @xmath
. Then by taking @xmath , we have that @xmath . Then @xmath . Hence the
element @xmath is the witness to the reduction @xmath .

For collection, suppose that @xmath from @xmath is given and that @xmath
is a formula in the signature, perhaps with parameters from @xmath .
Choose @xmath such that @xmath implies @xmath , and set @xmath . For
each triple @xmath such that @xmath , @xmath , @xmath , define @xmath to
be the least ordinal @xmath such that there is @xmath with @xmath . Then
since @xmath is strongly inaccessible and satisfies @xmath , choose
@xmath such that @xmath is strictly greater than all such @xmath . Let
@xmath which is trivially an element of @xmath . Fix an element @xmath
of @xmath . Our desired @xmath is given by @xmath , which exists by
Proposition 3.2 . For suppose @xmath . We must establish that @xmath .
So suppose @xmath is fixed and @xmath . By construction of @xmath ,
choose @xmath with @xmath . Then @xmath and so @xmath .

For the axiom of infinity, recall the elements @xmath from @xmath from (
9.6 ) and the elements @xmath and @xmath from @xmath from ( 9.7 ). It
suffices to show that there are @xmath such that @xmath and @xmath . For
@xmath , simply take @xmath . Then we have @xmath and @xmath and hence
@xmath . Now we work on @xmath . By appeal to @xmath being a uniform
@xmath -valued structure and substitution therein (Proposition 6.4 in
conjunction with Proposition 9.1 ), choose @xmath such that for all
@xmath one has @xmath . Using primitive recursion on Curry numerals [van
Oosten, 2008 , Proposition 1.3.5 p. 12] , we choose @xmath such that
@xmath . Suppose that @xmath . Then there is @xmath such that @xmath and
@xmath . Then @xmath for some @xmath and hence @xmath . Since @xmath ,
we have @xmath . Since @xmath , we thus have that @xmath .

For the the induction schema, we need to show that there is @xmath such
that @xmath . Let @xmath such that for all @xmath in @xmath we have
@xmath . By Proposition 3.2 , choose @xmath such that @xmath . By the
recursion theorem [van Oosten, 2008 , Proposition 1.3.4 p. 12] , choose
an @xmath such that @xmath . Suppose that

  ------- -- -------- --
  (C.1)      @xmath   
  ------- -- -------- --

We show by induction on @xmath that @xmath . Suppose it holds for all
@xmath . Suppose that @xmath . Then we claim @xmath . For this claim, it
suffices to show that for all @xmath we have @xmath . So suppose that
@xmath . Then by the second part of Proposition C.1 , we have that
@xmath for some @xmath . Then by induction hypothesis we have @xmath .
Then by definition of @xmath we have that @xmath , which is what we
wanted to show. So we’ve succeeded in showing the claim. Then by the
hypothesis on @xmath recorded in equation ( C.1 ), we have @xmath ,
which by the choice of @xmath implies that @xmath , which is what we
wanted to show. ∎

## Appendix D Acknowledgements

This paper has been bettered by comments from and conversations with the
following people, whom we warmly thank: Marianna Antonutti, Jeff
Barrett, Benno van den Berg, Tim Carlson, Walter Dean, Michael Ernst,
Rohan French, Leon Horsten, Bob Lubarsky, Jaap van Oosten, and Kai
Wehmeier. Thanks also to the anonymous referees for very helpful
comments.